webpackJsonp([2],{"/JvH":function(e,t,i){var s,r,n,a;a=function(e,t){"use strict";var i,s="function"==typeof Set?new Set:(i=[],{has:function(e){return Boolean(i.indexOf(e)>-1)},add:function(e){i.push(e)},delete:function(e){i.splice(i.indexOf(e),1)}}),r=function(e){return new Event(e)};try{new Event("test")}catch(e){r=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function n(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!s.has(e)){var t,i=null,n=e.clientWidth,a=null,o=function(){e.clientWidth!==n&&h()},d=function(t){window.removeEventListener("resize",o,!1),e.removeEventListener("input",h,!1),e.removeEventListener("keyup",h,!1),e.removeEventListener("autosize:destroy",d,!1),e.removeEventListener("autosize:update",h,!1),s.delete(e),Object.keys(t).forEach(function(i){e.style[i]=t[i]})}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",d,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",h,!1),window.addEventListener("resize",o,!1),e.addEventListener("input",h,!1),e.addEventListener("autosize:update",h,!1),s.add(e),e.style.overflowX="hidden",e.style.wordWrap="break-word","vertical"===(t=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),i="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(i)&&(i=0),h()}function l(t){var i=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=i,e.style.overflowY=t,c()}function c(){var t=e.style.height,s=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),r=document.documentElement&&document.documentElement.scrollTop;e.style.height="auto";var a=e.scrollHeight+i;0!==e.scrollHeight?(e.style.height=a+"px",n=e.clientWidth,s.forEach(function(e){e.node.scrollTop=e.scrollTop}),r&&(document.documentElement.scrollTop=r)):e.style.height=t}function h(){c();var t=window.getComputedStyle(e,null),i=Math.round(parseFloat(t.height));if(i!==Math.round(parseFloat(e.style.height))?"visible"!==t.overflowY&&l("visible"):"hidden"!==t.overflowY&&l("hidden"),a!==i){a=i;var s=r("autosize:resized");e.dispatchEvent(s)}}}function a(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName){var t=r("autosize:destroy");e.dispatchEvent(t)}}function o(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName){var t=r("autosize:update");e.dispatchEvent(t)}}var d=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((d=function(e){return e}).destroy=function(e){return e},d.update=function(e){return e}):((d=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return n(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],a),e},d.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e}),t.exports=d},r=[t,e],void 0===(n="function"==typeof(s=a)?s.apply(t,r):s)||(e.exports=n)},0:function(e,t,i){i("sV/x"),e.exports=i("xZZD")},"9UqL":function(e,i,s){(function(e){var i;i=e,e.fn.extend({slimScroll:function(e){var s=i.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},e);return this.each(function(){var r,n,a,o,d,l,c,h,u="<div></div>",p=30,f=!1,g=i(this);if(g.parent().hasClass(s.wrapperClass)){var m=g.scrollTop();if(y=g.parent().find("."+s.barClass),b=g.parent().find("."+s.railClass),j(),i.isPlainObject(e)){if("height"in e&&"auto"==e.height){g.parent().css("height","auto"),g.css("height","auto");var _=g.parent().parent().height();g.parent().css("height",_),g.css("height",_)}if("scrollTo"in e)m=parseInt(s.scrollTo);else if("scrollBy"in e)m+=parseInt(s.scrollBy);else if("destroy"in e)return y.remove(),b.remove(),void g.unwrap();w(m,!1,!0)}}else{s.height="auto"==s.height?g.parent().height():s.height;var v=i(u).addClass(s.wrapperClass).css({position:"relative",overflow:"hidden",width:s.width,height:s.height});g.css({overflow:"hidden",width:s.width,height:s.height});var b=i(u).addClass(s.railClass).css({width:s.size,height:"100%",position:"absolute",top:0,display:s.alwaysVisible&&s.railVisible?"block":"none","border-radius":s.railBorderRadius,background:s.railColor,opacity:s.railOpacity,zIndex:90}),y=i(u).addClass(s.barClass).css({background:s.color,width:s.size,position:"absolute",top:0,opacity:s.opacity,display:s.alwaysVisible?"block":"none","border-radius":s.borderRadius,BorderRadius:s.borderRadius,MozBorderRadius:s.borderRadius,WebkitBorderRadius:s.borderRadius,zIndex:99}),k="right"==s.position?{right:s.distance}:{left:s.distance};b.css(k),y.css(k),g.wrap(v),g.parent().append(y),g.parent().append(b),s.railDraggable&&y.bind("mousedown",function(e){var s=i(document);return a=!0,t=parseFloat(y.css("top")),pageY=e.pageY,s.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,y.css("top",currTop),w(0,y.position().top,!1)}),s.bind("mouseup.slimscroll",function(e){a=!1,E(),s.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(e){return e.stopPropagation(),e.preventDefault(),!1}),b.hover(function(){C()},function(){E()}),y.hover(function(){n=!0},function(){n=!1}),g.hover(function(){r=!0,C(),E()},function(){r=!1,E()}),g.bind("touchstart",function(e,t){e.originalEvent.touches.length&&(d=e.originalEvent.touches[0].pageY)}),g.bind("touchmove",function(e){f||e.originalEvent.preventDefault(),e.originalEvent.touches.length&&(w((d-e.originalEvent.touches[0].pageY)/s.touchScrollStep,!0),d=e.originalEvent.touches[0].pageY)}),j(),"bottom"===s.start?(y.css({top:g.outerHeight()-y.outerHeight()}),w(0,!0)):"top"!==s.start&&(w(i(s.start).position().top,null,!0),s.alwaysVisible||y.hide()),function(){window.addEventListener?(this.addEventListener("DOMMouseScroll",x,!1),this.addEventListener("mousewheel",x,!1)):document.attachEvent("onmousewheel",x)}()}function x(e){if(r){var t=0;(e=e||window.event).wheelDelta&&(t=-e.wheelDelta/120),e.detail&&(t=e.detail/3);var n=e.target||e.srcTarget||e.srcElement;i(n).closest("."+s.wrapperClass).is(g.parent())&&w(t,!0),e.preventDefault&&!f&&e.preventDefault(),f||(e.returnValue=!1)}}function w(e,t,i){f=!1;var r=e,n=g.outerHeight()-y.outerHeight();if(t&&(r=parseInt(y.css("top"))+e*parseInt(s.wheelStep)/100*y.outerHeight(),r=Math.min(Math.max(r,0),n),r=e>0?Math.ceil(r):Math.floor(r),y.css({top:r+"px"})),r=(c=parseInt(y.css("top"))/(g.outerHeight()-y.outerHeight()))*(g[0].scrollHeight-g.outerHeight()),i){var a=(r=e)/g[0].scrollHeight*g.outerHeight();a=Math.min(Math.max(a,0),n),y.css({top:a+"px"})}g.scrollTop(r),g.trigger("slimscrolling",~~r),C(),E()}function j(){l=Math.max(g.outerHeight()/g[0].scrollHeight*g.outerHeight(),p),y.css({height:l+"px"});var e=l==g.outerHeight()?"none":"block";y.css({display:e})}function C(){if(j(),clearTimeout(o),c==~~c){if(f=s.allowPageScroll,h!=c){var e=0==~~c?"top":"bottom";g.trigger("slimscroll",e)}}else f=!1;h=c,l>=g.outerHeight()?f=!0:(y.stop(!0,!0).fadeIn("fast"),s.railVisible&&b.stop(!0,!0).fadeIn("fast"))}function E(){s.alwaysVisible||(o=setTimeout(function(){s.disableFadeOut&&r||n||a||(y.fadeOut("slow"),b.fadeOut("slow"))},1e3))}}),this}}),e.fn.extend({slimscroll:e.fn.slimScroll})}).call(i,s("7t+N"))},B4GN:function(e,t,i){var s,r,n;!function(a){"use strict";r=[i("7t+N"),i("pZLM")],void 0===(n="function"==typeof(s=a)?s.apply(t,r):s)||(e.exports=n)}(function(e,t,i){"use strict";e.jstree.plugins.sort||(e.jstree.defaults.sort=function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},e.jstree.plugins.sort=function(t,i){this.bind=function(){i.bind.call(this),this.element.on("model.jstree",e.proxy(function(e,t){this.sort(t.parent,!0)},this)).on("rename_node.jstree create_node.jstree",e.proxy(function(e,t){this.sort(t.parent||t.node.parent,!1),this.redraw_node(t.parent||t.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",e.proxy(function(e,t){this.sort(t.parent,!1),this.redraw_node(t.parent,!0)},this))},this.sort=function(t,i){var s,r;if((t=this.get_node(t))&&t.children&&t.children.length&&(t.children.sort(e.proxy(this.settings.sort,this)),i))for(s=0,r=t.children_d.length;s<r;s++)this.sort(t.children_d[s],!1)}})})},Djt9:function(e,t,i){(function(e){!function(e,t){var i="plugin_bootstrapMaterialDatePicker";function s(i,s){this.currentView=0,this.minDate,this.maxDate,this._attachedEvents=[],this.element=i,this.$element=e(i),this.params={date:!0,time:!0,format:"YYYY-MM-DD",minDate:null,maxDate:null,currentDate:null,lang:"en",weekStart:0,disabledDays:[],shortTime:!1,clearButton:!1,nowButton:!1,cancelText:"Cancel",okText:"OK",clearText:"Clear",nowText:"Now",switchOnClick:!1,triggerEvent:"focus",monthPicker:!1,year:!0},this.params=e.fn.extend(this.params,s),this.name="dtp_"+this.setName(),this.$element.attr("data-dtp",this.name),t.locale(this.params.lang),this.init()}t.locale("en"),e.fn.bootstrapMaterialDatePicker=function(t,r){return this.each(function(){e.data(this,i)?("function"==typeof e.data(this,i)[t]&&e.data(this,i)[t](r),"destroy"===t&&e.data(this,i)):e.data(this,i,new s(this,t))}),this},s.prototype={init:function(){this.initDays(),this.initDates(),this.initTemplate(),this.initButtons(),this._attachEvent(e(window),"resize",this._centerBox.bind(this)),this._attachEvent(this.$dtpElement.find(".dtp-content"),"click",this._onElementClick.bind(this)),this._attachEvent(this.$dtpElement,"click",this._onBackgroundClick.bind(this)),this._attachEvent(this.$dtpElement.find(".dtp-close > a"),"click",this._onCloseClick.bind(this)),this._attachEvent(this.$element,this.params.triggerEvent,this._fireCalendar.bind(this))},initDays:function(){this.days=[];for(var e=this.params.weekStart;this.days.length<7;e++)e>6&&(e=0),this.days.push(e.toString())},initDates:function(){if(this.$element.val().length>0)void 0!==this.params.format&&null!==this.params.format?this.currentDate=t(this.$element.val(),this.params.format).locale(this.params.lang):this.currentDate=t(this.$element.val()).locale(this.params.lang);else if(void 0!==this.$element.attr("value")&&null!==this.$element.attr("value")&&""!==this.$element.attr("value"))"string"==typeof this.$element.attr("value")&&(void 0!==this.params.format&&null!==this.params.format?this.currentDate=t(this.$element.attr("value"),this.params.format).locale(this.params.lang):this.currentDate=t(this.$element.attr("value")).locale(this.params.lang));else if(void 0!==this.params.currentDate&&null!==this.params.currentDate){if("string"==typeof this.params.currentDate)void 0!==this.params.format&&null!==this.params.format?this.currentDate=t(this.params.currentDate,this.params.format).locale(this.params.lang):this.currentDate=t(this.params.currentDate).locale(this.params.lang);else if(void 0===this.params.currentDate.isValid||"function"!=typeof this.params.currentDate.isValid){var e=this.params.currentDate.getTime();this.currentDate=t(e,"x").locale(this.params.lang)}else this.currentDate=this.params.currentDate;this.$element.val(this.currentDate.format(this.params.format))}else this.currentDate=t();if(void 0!==this.params.minDate&&null!==this.params.minDate)if("string"==typeof this.params.minDate)void 0!==this.params.format&&null!==this.params.format?this.minDate=t(this.params.minDate,this.params.format).locale(this.params.lang):this.minDate=t(this.params.minDate).locale(this.params.lang);else if(void 0===this.params.minDate.isValid||"function"!=typeof this.params.minDate.isValid){e=this.params.minDate.getTime();this.minDate=t(e,"x").locale(this.params.lang)}else this.minDate=this.params.minDate;else null===this.params.minDate&&(this.minDate=null);if(void 0!==this.params.maxDate&&null!==this.params.maxDate)if("string"==typeof this.params.maxDate)void 0!==this.params.format&&null!==this.params.format?this.maxDate=t(this.params.maxDate,this.params.format).locale(this.params.lang):this.maxDate=t(this.params.maxDate).locale(this.params.lang);else if(void 0===this.params.maxDate.isValid||"function"!=typeof this.params.maxDate.isValid){e=this.params.maxDate.getTime();this.maxDate=t(e,"x").locale(this.params.lang)}else this.maxDate=this.params.maxDate;else null===this.params.maxDate&&(this.maxDate=null);this.isAfterMinDate(this.currentDate)||(this.currentDate=t(this.minDate)),this.isBeforeMaxDate(this.currentDate)||(this.currentDate=t(this.maxDate))},initTemplate:function(){for(var t="",i=this.currentDate.year(),s=i-3;s<i+4;s++)t+='<div class="year-picker-item" data-year="'+s+'">'+s+"</div>";this.midYear=i;var r='<div class="dtp-picker-year hidden" ><div><a href="javascript:void(0);" class="btn btn-default dtp-select-year-range before" style="margin: 0;"><i class="material-icons">keyboard_arrow_up</i></a></div>'+t+'<div><a href="javascript:void(0);" class="btn btn-default dtp-select-year-range after" style="margin: 0;"><i class="material-icons">keyboard_arrow_down</i></a></div></div>';this.template='<div class="dtp hidden" id="'+this.name+'"><div class="dtp-content"><div class="dtp-date-view"><header class="dtp-header"><div class="dtp-actual-day">Lundi</div><div class="dtp-close"><a href="javascript:void(0);"><i class="material-icons">clear</i></a></div></header><div class="dtp-date hidden"><div><div class="left center p10"><a href="javascript:void(0);" class="dtp-select-month-before"><i class="material-icons">chevron_left</i></a></div><div class="dtp-actual-month p80">MAR</div><div class="right center p10"><a href="javascript:void(0);" class="dtp-select-month-after"><i class="material-icons">chevron_right</i></a></div><div class="clearfix"></div></div><div class="dtp-actual-num">13</div><div><div class="left center p10"><a href="javascript:void(0);" class="dtp-select-year-before"><i class="material-icons">chevron_left</i></a></div><div class="dtp-actual-year p80'+(this.params.year?"":" disabled")+'">2014</div><div class="right center p10"><a href="javascript:void(0);" class="dtp-select-year-after"><i class="material-icons">chevron_right</i></a></div><div class="clearfix"></div></div></div><div class="dtp-time hidden"><div class="dtp-actual-maxtime">23:55</div></div><div class="dtp-picker"><div class="dtp-picker-calendar"></div><div class="dtp-picker-datetime hidden"><div class="dtp-actual-meridien"><div class="left p20"><a class="dtp-meridien-am" href="javascript:void(0);">AM</a></div><div class="dtp-actual-time p60"></div><div class="right p20"><a class="dtp-meridien-pm" href="javascript:void(0);">PM</a></div><div class="clearfix"></div></div><div id="dtp-svg-clock"></div></div>'+r+'</div></div><div class="dtp-buttons"><button class="dtp-btn-now btn btn-flat hidden">'+this.params.nowText+'</button><button class="dtp-btn-clear btn btn-flat hidden">'+this.params.clearText+'</button><button class="dtp-btn-cancel btn btn-flat">'+this.params.cancelText+'</button><button class="dtp-btn-ok btn btn-flat">'+this.params.okText+'</button><div class="clearfix"></div></div></div></div>',e("body").find("#"+this.name).length<=0&&(e("body").append(this.template),this&&(this.dtpElement=e("body").find("#"+this.name)),this.$dtpElement=e(this.dtpElement))},initButtons:function(){this._attachEvent(this.$dtpElement.find(".dtp-btn-cancel"),"click",this._onCancelClick.bind(this)),this._attachEvent(this.$dtpElement.find(".dtp-btn-ok"),"click",this._onOKClick.bind(this)),this._attachEvent(this.$dtpElement.find("a.dtp-select-month-before"),"click",this._onMonthBeforeClick.bind(this)),this._attachEvent(this.$dtpElement.find("a.dtp-select-month-after"),"click",this._onMonthAfterClick.bind(this)),this._attachEvent(this.$dtpElement.find("a.dtp-select-year-before"),"click",this._onYearBeforeClick.bind(this)),this._attachEvent(this.$dtpElement.find("a.dtp-select-year-after"),"click",this._onYearAfterClick.bind(this)),this._attachEvent(this.$dtpElement.find(".dtp-actual-year"),"click",this._onActualYearClick.bind(this)),this._attachEvent(this.$dtpElement.find("a.dtp-select-year-range.before"),"click",this._onYearRangeBeforeClick.bind(this)),this._attachEvent(this.$dtpElement.find("a.dtp-select-year-range.after"),"click",this._onYearRangeAfterClick.bind(this)),this._attachEvent(this.$dtpElement.find("div.year-picker-item"),"click",this._onYearItemClick.bind(this)),!0===this.params.clearButton&&(this._attachEvent(this.$dtpElement.find(".dtp-btn-clear"),"click",this._onClearClick.bind(this)),this.$dtpElement.find(".dtp-btn-clear").removeClass("hidden")),!0===this.params.nowButton&&(this._attachEvent(this.$dtpElement.find(".dtp-btn-now"),"click",this._onNowClick.bind(this)),this.$dtpElement.find(".dtp-btn-now").removeClass("hidden")),!0===this.params.nowButton&&!0===this.params.clearButton?this.$dtpElement.find(".dtp-btn-clear, .dtp-btn-now, .dtp-btn-cancel, .dtp-btn-ok").addClass("btn-xs"):!0!==this.params.nowButton&&!0!==this.params.clearButton||this.$dtpElement.find(".dtp-btn-clear, .dtp-btn-now, .dtp-btn-cancel, .dtp-btn-ok").addClass("btn-sm")},initMeridienButtons:function(){this.$dtpElement.find("a.dtp-meridien-am").off("click").on("click",this._onSelectAM.bind(this)),this.$dtpElement.find("a.dtp-meridien-pm").off("click").on("click",this._onSelectPM.bind(this))},initDate:function(e){this.currentView=0,!1===this.params.monthPicker&&this.$dtpElement.find(".dtp-picker-calendar").removeClass("hidden"),this.$dtpElement.find(".dtp-picker-datetime").addClass("hidden"),this.$dtpElement.find(".dtp-picker-year").addClass("hidden");var t=void 0!==this.currentDate&&null!==this.currentDate?this.currentDate:null,i=this.generateCalendar(this.currentDate);if(void 0!==i.week&&void 0!==i.days){var s=this.constructHTMLCalendar(t,i);this.$dtpElement.find("a.dtp-select-day").off("click"),this.$dtpElement.find(".dtp-picker-calendar").html(s),this.$dtpElement.find("a.dtp-select-day").on("click",this._onSelectDate.bind(this)),this.toggleButtons(t)}this._centerBox(),this.showDate(t)},initHours:function(){this.currentView=1,this.showTime(this.currentDate),this.initMeridienButtons(),this.currentDate.hour()<12?this.$dtpElement.find("a.dtp-meridien-am").click():this.$dtpElement.find("a.dtp-meridien-pm").click();var e=this.params.shortTime?"h":"H";this.$dtpElement.find(".dtp-picker-datetime").removeClass("hidden"),this.$dtpElement.find(".dtp-picker-calendar").addClass("hidden"),this.$dtpElement.find(".dtp-picker-year").addClass("hidden");for(var t=this.createSVGClock(!0),i=0;i<12;i++){var s=-162*Math.sin(2*-Math.PI*(i/12)),r=-162*Math.cos(2*-Math.PI*(i/12)),n=this.currentDate.format(e)==i?"#8BC34A":"transparent",a=this.currentDate.format(e)==i?"#fff":"#000",o=this.createSVGElement("circle",{id:"h-"+i,class:"dtp-select-hour",style:"cursor:pointer",r:"30",cx:s,cy:r,fill:n,"data-hour":i});(d=this.createSVGElement("text",{id:"th-"+i,class:"dtp-select-hour-text","text-anchor":"middle",style:"cursor:pointer","font-weight":"bold","font-size":"20",x:s,y:r+7,fill:a,"data-hour":i})).textContent=0===i&&this.params.shortTime?12:i,this.toggleTime(i,!0)?(o.addEventListener("click",this._onSelectHour.bind(this)),d.addEventListener("click",this._onSelectHour.bind(this))):(o.className+=" disabled",d.className+=" disabled",d.setAttribute("fill","#bdbdbd")),t.appendChild(o),t.appendChild(d)}if(!this.params.shortTime){for(i=0;i<12;i++){var d;s=-110*Math.sin(2*-Math.PI*(i/12)),r=-110*Math.cos(2*-Math.PI*(i/12)),n=this.currentDate.format(e)==i+12?"#8BC34A":"transparent",a=this.currentDate.format(e)==i+12?"#fff":"#000",o=this.createSVGElement("circle",{id:"h-"+(i+12),class:"dtp-select-hour",style:"cursor:pointer",r:"30",cx:s,cy:r,fill:n,"data-hour":i+12});(d=this.createSVGElement("text",{id:"th-"+(i+12),class:"dtp-select-hour-text","text-anchor":"middle",style:"cursor:pointer","font-weight":"bold","font-size":"22",x:s,y:r+7,fill:a,"data-hour":i+12})).textContent=i+12,this.toggleTime(i+12,!0)?(o.addEventListener("click",this._onSelectHour.bind(this)),d.addEventListener("click",this._onSelectHour.bind(this))):(o.className+=" disabled",d.className+=" disabled",d.setAttribute("fill","#bdbdbd")),t.appendChild(o),t.appendChild(d)}this.$dtpElement.find("a.dtp-meridien-am").addClass("hidden"),this.$dtpElement.find("a.dtp-meridien-pm").addClass("hidden")}this._centerBox()},initMinutes:function(){this.currentView=2,this.showTime(this.currentDate),this.initMeridienButtons(),this.currentDate.hour()<12?this.$dtpElement.find("a.dtp-meridien-am").click():this.$dtpElement.find("a.dtp-meridien-pm").click(),this.$dtpElement.find(".dtp-picker-year").addClass("hidden"),this.$dtpElement.find(".dtp-picker-calendar").addClass("hidden"),this.$dtpElement.find(".dtp-picker-datetime").removeClass("hidden");for(var e=this.createSVGClock(!1),t=0;t<60;t++){var i=t%5==0?162:158,s=t%5==0?30:20,r=-i*Math.sin(2*-Math.PI*(t/60)),n=-i*Math.cos(2*-Math.PI*(t/60)),a=this.currentDate.format("m")==t?"#8BC34A":"transparent",o=this.createSVGElement("circle",{id:"m-"+t,class:"dtp-select-minute",style:"cursor:pointer",r:s,cx:r,cy:n,fill:a,"data-minute":t});this.toggleTime(t,!1)?o.addEventListener("click",this._onSelectMinute.bind(this)):o.className+=" disabled",e.appendChild(o)}for(t=0;t<60;t++)if(t%5==0){r=-162*Math.sin(2*-Math.PI*(t/60)),n=-162*Math.cos(2*-Math.PI*(t/60)),a=this.currentDate.format("m")==t?"#fff":"#000";var d=this.createSVGElement("text",{id:"tm-"+t,class:"dtp-select-minute-text","text-anchor":"middle",style:"cursor:pointer","font-weight":"bold","font-size":"20",x:r,y:n+7,fill:a,"data-minute":t});d.textContent=t,this.toggleTime(t,!1)?d.addEventListener("click",this._onSelectMinute.bind(this)):(d.className+=" disabled",d.setAttribute("fill","#bdbdbd")),e.appendChild(d)}this._centerBox()},animateHands:function(){var e=this.currentDate.hour(),t=this.currentDate.minute();this.$dtpElement.find(".hour-hand")[0].setAttribute("transform","rotate("+360*e/12+")"),this.$dtpElement.find(".minute-hand")[0].setAttribute("transform","rotate("+360*t/60+")")},createSVGClock:function(e){var t=this.params.shortTime?-120:-90,i=this.createSVGElement("svg",{class:"svg-clock",viewBox:"0,0,400,400"}),s=this.createSVGElement("g",{transform:"translate(200,200) "}),r=this.createSVGElement("circle",{r:"192",fill:"#eee",stroke:"#bdbdbd","stroke-width":2}),n=this.createSVGElement("circle",{r:"15",fill:"#757575"});if(s.appendChild(r),e){var a=this.createSVGElement("line",{class:"minute-hand",x1:0,y1:0,x2:0,y2:-150,stroke:"#bdbdbd","stroke-width":2}),o=this.createSVGElement("line",{class:"hour-hand",x1:0,y1:0,x2:0,y2:t,stroke:"#8BC34A","stroke-width":8});s.appendChild(a),s.appendChild(o)}else{a=this.createSVGElement("line",{class:"minute-hand",x1:0,y1:0,x2:0,y2:-150,stroke:"#8BC34A","stroke-width":2}),o=this.createSVGElement("line",{class:"hour-hand",x1:0,y1:0,x2:0,y2:t,stroke:"#bdbdbd","stroke-width":8});s.appendChild(o),s.appendChild(a)}return s.appendChild(n),i.appendChild(s),this.$dtpElement.find("#dtp-svg-clock").empty(),this.$dtpElement.find("#dtp-svg-clock")[0].appendChild(i),this.animateHands(),s},createSVGElement:function(e,t){var i=document.createElementNS("http://www.w3.org/2000/svg",e);for(var s in t)i.setAttribute(s,t[s]);return i},isAfterMinDate:function(e,i,s){var r=!0;if(void 0!==this.minDate&&null!==this.minDate){var n=t(this.minDate),a=t(e);i||s||(n.hour(0),n.minute(0),a.hour(0),a.minute(0)),n.second(0),a.second(0),n.millisecond(0),a.millisecond(0),s?r=parseInt(a.format("X"))>=parseInt(n.format("X")):(a.minute(0),n.minute(0),r=parseInt(a.format("X"))>=parseInt(n.format("X")))}return r},isBeforeMaxDate:function(e,i,s){var r=!0;if(void 0!==this.maxDate&&null!==this.maxDate){var n=t(this.maxDate),a=t(e);i||s||(n.hour(0),n.minute(0),a.hour(0),a.minute(0)),n.second(0),a.second(0),n.millisecond(0),a.millisecond(0),s?r=parseInt(a.format("X"))<=parseInt(n.format("X")):(a.minute(0),n.minute(0),r=parseInt(a.format("X"))<=parseInt(n.format("X")))}return r},rotateElement:function(t,i){e(t).css({WebkitTransform:"rotate("+i+"deg)","-moz-transform":"rotate("+i+"deg)"})},showDate:function(e){e&&(this.$dtpElement.find(".dtp-actual-day").html(e.locale(this.params.lang).format("dddd")),this.$dtpElement.find(".dtp-actual-month").html(e.locale(this.params.lang).format("MMM").toUpperCase()),this.$dtpElement.find(".dtp-actual-num").html(e.locale(this.params.lang).format("DD")),this.$dtpElement.find(".dtp-actual-year").html(e.locale(this.params.lang).format("YYYY")))},showTime:function(e){if(e){var t=e.minute(),i=(this.params.shortTime?e.format("hh"):e.format("HH"))+":"+(2==t.toString().length?t:"0"+t)+(this.params.shortTime?" "+e.format("A"):"");this.params.date?this.$dtpElement.find(".dtp-actual-time").html(i):(this.params.shortTime?this.$dtpElement.find(".dtp-actual-day").html(e.format("A")):this.$dtpElement.find(".dtp-actual-day").html("&nbsp;"),this.$dtpElement.find(".dtp-actual-maxtime").html(i))}},selectDate:function(e){e&&(this.currentDate.date(e),this.showDate(this.currentDate),this.$element.trigger("dateSelected",this.currentDate))},generateCalendar:function(e){var i={};if(null!==e){var s=t(e).locale(this.params.lang).startOf("month"),r=t(e).locale(this.params.lang).endOf("month"),n=s.format("d");i.week=this.days,i.days=[];for(var a=s.date();a<=r.date();a++){if(a===s.date()){var o=i.week.indexOf(n.toString());if(o>0)for(var d=0;d<o;d++)i.days.push(0)}i.days.push(t(s).locale(this.params.lang).date(a))}}return i},constructHTMLCalendar:function(e,i){var s="";s+='<div class="dtp-picker-month">'+e.locale(this.params.lang).format("MMMM YYYY")+"</div>",s+='<table class="table dtp-picker-days"><thead>';for(var r=0;r<i.week.length;r++)s+="<th>"+t(parseInt(i.week[r]),"d").locale(this.params.lang).format("dd").substring(0,1)+"</th>";s+="</thead>",s+="<tbody><tr>";for(r=0;r<i.days.length;r++)r%7==0&&(s+="</tr><tr>"),s+='<td data-date="'+t(i.days[r]).locale(this.params.lang).format("D")+'">',0!=i.days[r]&&(!1===this.isBeforeMaxDate(t(i.days[r]),!1,!1)||!1===this.isAfterMinDate(t(i.days[r]),!1,!1)||-1!==this.params.disabledDays.indexOf(i.days[r].isoWeekday())?s+='<span class="dtp-select-day">'+t(i.days[r]).locale(this.params.lang).format("DD")+"</span>":t(i.days[r]).locale(this.params.lang).format("DD")===t(this.currentDate).locale(this.params.lang).format("DD")?s+='<a href="javascript:void(0);" class="dtp-select-day selected">'+t(i.days[r]).locale(this.params.lang).format("DD")+"</a>":s+='<a href="javascript:void(0);" class="dtp-select-day">'+t(i.days[r]).locale(this.params.lang).format("DD")+"</a>",s+="</td>");return s+="</tr></tbody></table>"},setName:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<5;i++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},isPM:function(){return this.$dtpElement.find("a.dtp-meridien-pm").hasClass("selected")},setElementValue:function(){this.$element.trigger("beforeChange",this.currentDate),void 0!==e.material&&this.$element.removeClass("empty"),this.$element.val(t(this.currentDate).locale(this.params.lang).format(this.params.format)),this.$element.trigger("change",this.currentDate)},toggleButtons:function(e){if(e&&e.isValid()){var i=t(e).locale(this.params.lang).startOf("month"),s=t(e).locale(this.params.lang).endOf("month");this.isAfterMinDate(i,!1,!1)?this.$dtpElement.find("a.dtp-select-month-before").removeClass("invisible"):this.$dtpElement.find("a.dtp-select-month-before").addClass("invisible"),this.isBeforeMaxDate(s,!1,!1)?this.$dtpElement.find("a.dtp-select-month-after").removeClass("invisible"):this.$dtpElement.find("a.dtp-select-month-after").addClass("invisible");var r=t(e).locale(this.params.lang).startOf("year"),n=t(e).locale(this.params.lang).endOf("year");this.isAfterMinDate(r,!1,!1)?this.$dtpElement.find("a.dtp-select-year-before").removeClass("invisible"):this.$dtpElement.find("a.dtp-select-year-before").addClass("invisible"),this.isBeforeMaxDate(n,!1,!1)?this.$dtpElement.find("a.dtp-select-year-after").removeClass("invisible"):this.$dtpElement.find("a.dtp-select-year-after").addClass("invisible")}},toggleTime:function(e,i){var s,r=!1;i?((s=t(this.currentDate)).hour(this.convertHours(e)).minute(0).second(0),r=!(!1===this.isAfterMinDate(s,!0,!1)||!1===this.isBeforeMaxDate(s,!0,!1))):((s=t(this.currentDate)).minute(e).second(0),r=!(!1===this.isAfterMinDate(s,!0,!0)||!1===this.isBeforeMaxDate(s,!0,!0)));return r},_attachEvent:function(e,t,i){e.on(t,null,null,i),this._attachedEvents.push([e,t,i])},_detachEvents:function(){for(var e=this._attachedEvents.length-1;e>=0;e--)this._attachedEvents[e][0].off(this._attachedEvents[e][1],this._attachedEvents[e][2]),this._attachedEvents.splice(e,1)},_fireCalendar:function(){this.currentView=0,this.$element.blur(),this.initDates(),this.show(),this.params.date?(this.$dtpElement.find(".dtp-date").removeClass("hidden"),this.initDate()):this.params.time&&(this.$dtpElement.find(".dtp-time").removeClass("hidden"),this.initHours())},_onBackgroundClick:function(e){e.stopPropagation(),this.hide()},_onElementClick:function(e){e.stopPropagation()},_onKeydown:function(e){27===e.which&&this.hide()},_onCloseClick:function(){this.hide()},_onClearClick:function(){this.currentDate=null,this.$element.trigger("beforeChange",this.currentDate),this.hide(),void 0!==e.material&&this.$element.addClass("empty"),this.$element.val(""),this.$element.trigger("change",this.currentDate)},_onNowClick:function(){if(this.currentDate=t(),!0===this.params.date&&(this.showDate(this.currentDate),0===this.currentView&&this.initDate()),!0===this.params.time){switch(this.showTime(this.currentDate),this.currentView){case 1:this.initHours();break;case 2:this.initMinutes()}this.animateHands()}},_onOKClick:function(){switch(this.currentView){case 0:!0===this.params.time?this.initHours():(this.setElementValue(),this.hide());break;case 1:this.initMinutes();break;case 2:this.setElementValue(),this.hide()}},_onCancelClick:function(){if(this.params.time)switch(this.currentView){case 0:this.hide();break;case 1:this.params.date?this.initDate():this.hide();break;case 2:this.initHours()}else this.hide()},_onMonthBeforeClick:function(){this.currentDate.subtract(1,"months"),this.initDate(this.currentDate),this._closeYearPicker()},_onMonthAfterClick:function(){this.currentDate.add(1,"months"),this.initDate(this.currentDate),this._closeYearPicker()},_onYearBeforeClick:function(){this.currentDate.subtract(1,"years"),this.initDate(this.currentDate),this._closeYearPicker()},_onYearAfterClick:function(){this.currentDate.add(1,"years"),this.initDate(this.currentDate),this._closeYearPicker()},refreshYearItems:function(){var i=this.currentDate.year(),s=this.midYear,r=1850;void 0!==this.minDate&&null!==this.minDate&&(r=t(this.minDate).year());var n=2200;void 0!==this.maxDate&&null!==this.maxDate&&(n=t(this.maxDate).year()),this.$dtpElement.find(".dtp-picker-year .invisible").removeClass("invisible"),this.$dtpElement.find(".year-picker-item").each(function(t,a){var o=s-3+t;e(a).attr("data-year",o).text(o).data("year",o),i==o?e(a).addClass("active"):e(a).removeClass("active"),(o<r||o>n)&&e(a).addClass("invisible")}),r>=s-3&&this.$dtpElement.find(".dtp-select-year-range.before").addClass("invisible"),n<=s+3&&this.$dtpElement.find(".dtp-select-year-range.after").addClass("invisible"),this.$dtpElement.find(".dtp-select-year-range").data("mid",s)},_onActualYearClick:function(){this.params.year&&(this.$dtpElement.find(".dtp-picker-year.hidden").length>0?(this.$dtpElement.find(".dtp-picker-datetime").addClass("hidden"),this.$dtpElement.find(".dtp-picker-calendar").addClass("hidden"),this.$dtpElement.find(".dtp-picker-year").removeClass("hidden"),this.midYear=this.currentDate.year(),this.refreshYearItems()):this._closeYearPicker())},_onYearRangeBeforeClick:function(){this.midYear-=7,this.refreshYearItems()},_onYearRangeAfterClick:function(){this.midYear+=7,this.refreshYearItems()},_onYearItemClick:function(t){var i=e(t.currentTarget).data("year")-this.currentDate.year();this.currentDate.add(i,"years"),this.initDate(this.currentDate),this._closeYearPicker(),this.$element.trigger("yearSelected",this.currentDate)},_closeYearPicker:function(){this.$dtpElement.find(".dtp-picker-calendar").removeClass("hidden"),this.$dtpElement.find(".dtp-picker-year").addClass("hidden")},enableYearPicker:function(){this.params.year=!0,this.$dtpElement.find(".dtp-actual-year").reomveClass("disabled")},disableYearPicker:function(){this.params.year=!1,this.$dtpElement.find(".dtp-actual-year").addClass("disabled"),this._closeYearPicker()},_onSelectDate:function(t){this.$dtpElement.find("a.dtp-select-day").removeClass("selected"),e(t.currentTarget).addClass("selected"),this.selectDate(e(t.currentTarget).parent().data("date")),!0===this.params.switchOnClick&&!0===this.params.time&&setTimeout(this.initHours.bind(this),200),!0===this.params.switchOnClick&&!1===this.params.time&&setTimeout(this._onOKClick.bind(this),200)},_onSelectHour:function(t){if(!e(t.target).hasClass("disabled")){for(var i=e(t.target).data("hour"),s=e(t.target).parent(),r=s.find(".dtp-select-hour"),n=0;n<r.length;n++)e(r[n]).attr("fill","transparent");var a=s.find(".dtp-select-hour-text");for(n=0;n<a.length;n++)e(a[n]).attr("fill","#000");e(s.find("#h-"+i)).attr("fill","#8BC34A"),e(s.find("#th-"+i)).attr("fill","#fff"),this.currentDate.hour(parseInt(i)),!0===this.params.shortTime&&this.isPM()&&this.currentDate.add(12,"hours"),this.showTime(this.currentDate),this.animateHands(),!0===this.params.switchOnClick&&setTimeout(this.initMinutes.bind(this),200)}},_onSelectMinute:function(t){if(!e(t.target).hasClass("disabled")){for(var i=e(t.target).data("minute"),s=e(t.target).parent(),r=s.find(".dtp-select-minute"),n=0;n<r.length;n++)e(r[n]).attr("fill","transparent");var a=s.find(".dtp-select-minute-text");for(n=0;n<a.length;n++)e(a[n]).attr("fill","#000");e(s.find("#m-"+i)).attr("fill","#8BC34A"),e(s.find("#tm-"+i)).attr("fill","#fff"),this.currentDate.minute(parseInt(i)),this.showTime(this.currentDate),this.animateHands(),!0===this.params.switchOnClick&&setTimeout(function(){this.setElementValue(),this.hide()}.bind(this),200)}},_onSelectAM:function(t){e(".dtp-actual-meridien").find("a").removeClass("selected"),e(t.currentTarget).addClass("selected"),this.currentDate.hour()>=12&&this.currentDate.subtract(12,"hours")&&this.showTime(this.currentDate),this.toggleTime(1===this.currentView)},_onSelectPM:function(t){e(".dtp-actual-meridien").find("a").removeClass("selected"),e(t.currentTarget).addClass("selected"),this.currentDate.hour()<12&&this.currentDate.add(12,"hours")&&this.showTime(this.currentDate),this.toggleTime(1===this.currentView)},_hideCalendar:function(){this.$dtpElement.find(".dtp-picker-calendar").addClass("hidden")},convertHours:function(e){var t=e;return!0===this.params.shortTime&&e<12&&this.isPM()&&(t+=12),t},setDate:function(e){this.params.currentDate=e,this.initDates()},setMinDate:function(e){this.params.minDate=e,this.initDates()},setMaxDate:function(e){this.params.maxDate=e,this.initDates()},destroy:function(){this._detachEvents(),this.$dtpElement.remove()},show:function(){this.$dtpElement.removeClass("hidden"),this._attachEvent(e(window),"keydown",this._onKeydown.bind(this)),this._centerBox(),this.$element.trigger("open"),!0===this.params.monthPicker&&this._hideCalendar()},hide:function(){e(window).off("keydown",null,null,this._onKeydown.bind(this)),this.$dtpElement.addClass("hidden"),this.$element.trigger("close")},_centerBox:function(){var e=(this.$dtpElement.height()-this.$dtpElement.find(".dtp-content").height())/2;this.$dtpElement.find(".dtp-content").css("marginLeft",-this.$dtpElement.find(".dtp-content").width()/2+"px"),this.$dtpElement.find(".dtp-content").css("top",e+"px")},enableDays:function(){var t=this.params.enableDays;t&&e(".dtp-picker-days tbody tr td").each(function(){e.inArray(e(this).index(),t)>=0||e(this).find("a").css({background:"#e3e3e3",cursor:"no-drop",opacity:"0.5"}).off("click")})}}}(e,moment)}).call(t,i("7t+N"))},HQ6n:function(e,t,i){var s,r,n;!function(a){"use strict";r=[i("7t+N"),i("pZLM")],void 0===(n="function"==typeof(s=a)?s.apply(t,r):s)||(e.exports=n)}(function(e,t,i){"use strict";e.jstree.plugins.search||(e.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},e.jstree.plugins.search=function(t,s){this.bind=function(){s.bind.call(this),this._data.search.str="",this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",e.proxy(function(t,i){if(this._data.search.som&&i.res.length){var s,r,n,a,o=this._model.data,d=[];for(s=0,r=i.res.length;s<r;s++)if(o[i.res[s]]&&!o[i.res[s]].state.hidden&&(d.push(i.res[s]),d=d.concat(o[i.res[s]].parents),this._data.search.smc))for(n=0,a=o[i.res[s]].children_d.length;n<a;n++)o[o[i.res[s]].children_d[n]]&&!o[o[i.res[s]].children_d[n]].state.hidden&&d.push(o[i.res[s]].children_d[n]);d=e.vakata.array_remove_item(e.vakata.array_unique(d),e.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(d,!0),this.redraw(!0)}},this)).on("clear_search.jstree",e.proxy(function(e,t){this._data.search.som&&t.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))},this))},this.search=function(t,s,r,n,a,o){if(!1===t||""===e.trim(t.toString()))return this.clear_search();n=(n=this.get_node(n))&&n.id?n.id:null,t=t.toString();var d,l,c=this.settings.search,h=!!c.ajax&&c.ajax,u=this._model.data,p=null,f=[],g=[];if(this._data.search.res.length&&!a&&this.clear_search(),r===i&&(r=c.show_only_matches),o===i&&(o=c.show_only_matches_children),!s&&!1!==h)return e.isFunction(h)?h.call(this,t,e.proxy(function(i){i&&i.d&&(i=i.d),this._load_nodes(e.isArray(i)?e.vakata.array_unique(i):[],function(){this.search(t,!0,r,n,a,o)})},this),n):((h=e.extend({},h)).data||(h.data={}),h.data.str=t,n&&(h.data.inside=n),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=e.ajax(h).fail(e.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(h)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(e.proxy(function(i){i&&i.d&&(i=i.d),this._load_nodes(e.isArray(i)?e.vakata.array_unique(i):[],function(){this.search(t,!0,r,n,a,o)})},this)),this._data.search.lastRequest);if(a||(this._data.search.str=t,this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=r,this._data.search.smc=o),p=new e.vakata.search(t,!0,{caseSensitive:c.case_sensitive,fuzzy:c.fuzzy}),e.each(u[n||e.jstree.root].children_d,function(e,i){var s=u[i];s.text&&!s.state.hidden&&(!c.search_leaves_only||s.state.loaded&&0===s.children.length)&&(c.search_callback&&c.search_callback.call(this,t,s)||!c.search_callback&&p.search(s.text).isMatch)&&(f.push(i),g=g.concat(s.parents))}),f.length){for(d=0,l=(g=e.vakata.array_unique(g)).length;d<l;d++)g[d]!==e.jstree.root&&u[g[d]]&&!0===this.open_node(g[d],null,0)&&this._data.search.opn.push(g[d]);a?(this._data.search.dom=this._data.search.dom.add(e(this.element[0].querySelectorAll("#"+e.map(f,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=e.vakata.array_unique(this._data.search.res.concat(f))):(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(f,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=f),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:t,res:this._data.search.res,show_only_matches:r})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(this._data.search.res,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=e()},this.redraw_node=function(t,i,r,n){if((t=s.redraw_node.apply(this,arguments))&&-1!==e.inArray(t.id,this._data.search.res)){var a,o,d=null;for(a=0,o=t.childNodes.length;a<o;a++)if(t.childNodes[a]&&t.childNodes[a].className&&-1!==t.childNodes[a].className.indexOf("jstree-anchor")){d=t.childNodes[a];break}d&&(d.className+=" jstree-search")}return t}},function(e){e.vakata.search=function(t,i,s){s=s||{},!1!==(s=e.extend({},e.vakata.search.defaults,s)).fuzzy&&(s.fuzzy=!0),t=s.caseSensitive?t:t.toLowerCase();var r,n,a,o,d=s.location,l=s.distance,c=s.threshold,h=t.length;return h>32&&(s.fuzzy=!1),s.fuzzy&&(r=1<<h-1,n=function(){var e={},i=0;for(i=0;i<h;i++)e[t.charAt(i)]=0;for(i=0;i<h;i++)e[t.charAt(i)]|=1<<h-i-1;return e}(),a=function(e,t){var i=e/h,s=Math.abs(d-t);return l?i+s/l:s?1:i}),o=function(e){if(e=s.caseSensitive?e:e.toLowerCase(),t===e||-1!==e.indexOf(t))return{isMatch:!0,score:0};if(!s.fuzzy)return{isMatch:!1,score:1};var i,o,l,u,p,f,g,m,_,v=e.length,b=c,y=e.indexOf(t,d),k=h+v,x=1,w=[];for(-1!==y&&(b=Math.min(a(0,y),b),-1!==(y=e.lastIndexOf(t,d+h))&&(b=Math.min(a(0,y),b))),y=-1,i=0;i<h;i++){for(l=0,u=k;l<u;)a(i,d+u)<=b?l=u:k=u,u=Math.floor((k-l)/2+l);for(k=u,f=Math.max(1,d-u+1),g=Math.min(d+u,v)+h,(m=new Array(g+2))[g+1]=(1<<i)-1,o=g;o>=f;o--)if(_=n[e.charAt(o-1)],m[o]=0===i?(m[o+1]<<1|1)&_:(m[o+1]<<1|1)&_|(p[o+1]|p[o])<<1|1|p[o+1],m[o]&r&&(x=a(i,o-1))<=b){if(b=x,y=o-1,w.push(y),!(y>d))break;f=Math.max(1,2*d-y)}if(a(i+1,d)>b)break;p=m}return{isMatch:y>=0,score:x}},!0===i?{search:o}:o(i)},e.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(e))})},I4dY:function(e,t,i){var s,r,n;r=[],void 0===(n="function"==typeof(s=function(){"use strict";function e(e){var t=e.getBoundingClientRect(),i=e.ownerDocument.documentElement,s=o();return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(s.x=0),{top:t.top+s.y-i.clientTop,left:t.left+s.x-i.clientLeft}}function t(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function i(e,t,i){n(e,t),setTimeout(function(){a(e,t)},i)}function s(e){return Math.max(Math.min(e,100),0)}function r(e){return Array.isArray(e)?e:[e]}function n(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function a(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function o(){var e=void 0!==window.pageXOffset,t="CSS1Compat"===(document.compatMode||"");return{x:e?window.pageXOffset:t?document.documentElement.scrollLeft:document.body.scrollLeft,y:e?window.pageYOffset:t?document.documentElement.scrollTop:document.body.scrollTop}}function d(e,t){return 100/(t-e)}function l(e,t){return 100*t/(e[1]-e[0])}function c(e,t){for(var i=1;e>=t[i];)i+=1;return i}function h(e,t,i){if(i>=e.slice(-1)[0])return 100;var s,r,n,a,o=c(i,e);return s=e[o-1],r=e[o],n=t[o-1],a=t[o],n+function(e,t){return l(e,e[0]<0?t+Math.abs(e[0]):t-e[0])}([s,r],i)/d(n,a)}function u(e,t,i,s){if(100===s)return s;var r,n,a=c(s,e);return i?s-(r=e[a-1])>((n=e[a])-r)/2?n:r:t[a-1]?e[a-1]+function(e,t){return Math.round(e/t)*t}(s-e[a-1],t[a-1]):s}function p(e,i,s){var r;if("number"==typeof i&&(i=[i]),"[object Array]"!==Object.prototype.toString.call(i))throw new Error("noUiSlider: 'range' contains invalid value.");if(!t(r="min"===e?0:"max"===e?100:parseFloat(e))||!t(i[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");s.xPct.push(r),s.xVal.push(i[0]),r?s.xSteps.push(!isNaN(i[1])&&i[1]):isNaN(i[1])||(s.xSteps[0]=i[1])}function f(e,t,i){if(!t)return!0;i.xSteps[e]=l([i.xVal[e],i.xVal[e+1]],t)/d(i.xPct[e],i.xPct[e+1])}function g(e,t,i,s){this.xPct=[],this.xVal=[],this.xSteps=[s||!1],this.xNumSteps=[!1],this.snap=t,this.direction=i;var r,n=[];for(r in e)e.hasOwnProperty(r)&&n.push([e[r],r]);for(n.length&&"object"==typeof n[0][0]?n.sort(function(e,t){return e[0][0]-t[0][0]}):n.sort(function(e,t){return e[0]-t[0]}),r=0;r<n.length;r++)p(n[r][1],n[r][0],this);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)f(r,this.xNumSteps[r],this)}g.prototype.getMargin=function(e){return 2===this.xPct.length&&l(this.xVal,e)},g.prototype.toStepping=function(e){return e=h(this.xVal,this.xPct,e),this.direction&&(e=100-e),e},g.prototype.fromStepping=function(e){return this.direction&&(e=100-e),function(e,t,i){if(i>=100)return e.slice(-1)[0];var s,r=c(i,t);return function(e,t){return t*(e[1]-e[0])/100+e[0]}([e[r-1],e[r]],(i-(s=t[r-1]))*d(s,t[r]))}(this.xVal,this.xPct,e)},g.prototype.getStep=function(e){return this.direction&&(e=100-e),e=u(this.xPct,this.xSteps,this.snap,e),this.direction&&(e=100-e),e},g.prototype.getApplicableStep=function(e){var t=c(e,this.xPct),i=100===e?2:1;return[this.xNumSteps[t-2],this.xVal[t-i],this.xNumSteps[t-i]]},g.prototype.convert=function(e){return this.getStep(this.toStepping(e))};var m={to:function(e){return void 0!==e&&e.toFixed(2)},from:Number};function _(e,i){if(!t(i))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=i}function v(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");if(t.min===t.max)throw new Error("noUiSlider: 'range' 'min' and 'max' cannot be equal.");e.spectrum=new g(t,e.snap,e.dir,e.singleStep)}function b(e,t){if(t=r(t),!Array.isArray(t)||!t.length||t.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function y(e,t){if(e.snap=t,"boolean"!=typeof t)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function k(e,t){if(e.animate=t,"boolean"!=typeof t)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function x(e,t){if(e.animationDuration=t,"number"!=typeof t)throw new Error("noUiSlider: 'animationDuration' option must be a number.")}function w(e,t){if("lower"===t&&1===e.handles)e.connect=1;else if("upper"===t&&1===e.handles)e.connect=2;else if(!0===t&&2===e.handles)e.connect=3;else{if(!1!==t)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");e.connect=0}}function j(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function C(e,i){if(!t(i))throw new Error("noUiSlider: 'margin' option must be numeric.");if(0!==i&&(e.margin=e.spectrum.getMargin(i),!e.margin))throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function E(e,i){if(!t(i))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getMargin(i),!e.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function S(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1,e.connect=[0,2,1,3][e.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function $(e,t){if("string"!=typeof t)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var i=t.indexOf("tap")>=0,s=t.indexOf("drag")>=0,r=t.indexOf("fixed")>=0,n=t.indexOf("snap")>=0,a=t.indexOf("hover")>=0;if(s&&!e.connect)throw new Error("noUiSlider: 'drag' behaviour must be used with 'connect': true.");e.events={tap:i||n,drag:s,fixed:r,snap:n,hover:a}}function T(e,t){var i;if(!1!==t)if(!0===t)for(e.tooltips=[],i=0;i<e.handles;i++)e.tooltips.push(!0);else{if(e.tooltips=r(t),e.tooltips.length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");e.tooltips.forEach(function(e){if("boolean"!=typeof e&&("object"!=typeof e||"function"!=typeof e.to))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})}}function D(e,t){if(e.format=t,"function"==typeof t.to&&"function"==typeof t.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function N(e,t){if(void 0!==t&&"string"!=typeof t&&!1!==t)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function A(e,t){if(void 0!==t&&"object"!=typeof t)throw new Error("noUiSlider: 'cssClasses' must be an object.");if("string"==typeof e.cssPrefix)for(var i in e.cssClasses={},t)t.hasOwnProperty(i)&&(e.cssClasses[i]=e.cssPrefix+t[i]);else e.cssClasses=t}function O(e){var t,i={margin:0,limit:0,animate:!0,animationDuration:300,format:m};t={step:{r:!1,t:_},start:{r:!0,t:b},connect:{r:!0,t:w},direction:{r:!0,t:S},snap:{r:!1,t:y},animate:{r:!1,t:k},animationDuration:{r:!1,t:x},range:{r:!0,t:v},orientation:{r:!1,t:j},margin:{r:!1,t:C},limit:{r:!1,t:E},behaviour:{r:!0,t:$},format:{r:!1,t:D},tooltips:{r:!1,t:T},cssPrefix:{r:!1,t:N},cssClasses:{r:!1,t:A}};var s={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",stacking:"stacking",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};return Object.keys(t).forEach(function(r){if(void 0===e[r]&&void 0===s[r]){if(t[r].r)throw new Error("noUiSlider: '"+r+"' is required.");return!0}t[r].t(i,void 0===e[r]?s[r]:e[r])}),i.pips=e.pips,i.style=i.ort?"top":"left",i}function M(t,d,l){var c,h,u,p=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},f=t,g=[-1,-1],m=d.spectrum,_=[],v={};function b(e,t){var i=document.createElement("div"),s=document.createElement("div"),r=[d.cssClasses.handleLower,d.cssClasses.handleUpper];return e&&r.reverse(),n(s,d.cssClasses.handle),n(s,r[t]),n(i,d.cssClasses.origin),i.appendChild(s),i}function y(e,t){if(!d.tooltips[t])return!1;var i=document.createElement("div");return i.className=d.cssClasses.tooltip,e.firstChild.appendChild(i)}function k(e,t,i){var s=document.createElement("div"),r="",a=[d.cssClasses.valueNormal,d.cssClasses.valueLarge,d.cssClasses.valueSub],o=[d.cssClasses.markerNormal,d.cssClasses.markerLarge,d.cssClasses.markerSub],l=[d.cssClasses.valueHorizontal,d.cssClasses.valueVertical],c=[d.cssClasses.markerHorizontal,d.cssClasses.markerVertical];function h(e,t,i){return'class="'+function(e,t){var i=t===d.cssClasses.value,s=i?a:o;return t+" "+(i?l:c)[d.ort]+" "+s[e]}(i[1],t)+'" style="'+d.style+": "+e+'%"'}return n(s,d.cssClasses.pips),n(s,0===d.ort?d.cssClasses.pipsHorizontal:d.cssClasses.pipsVertical),Object.keys(e).forEach(function(s){var n,a;n=s,a=e[s],m.direction&&(n=100-n),a[1]=a[1]&&t?t(a[0],a[1]):a[1],r+="<div "+h(n,d.cssClasses.marker,a)+"></div>",a[1]&&(r+="<div "+h(n,d.cssClasses.value,a)+">"+i.to(a[0])+"</div>")}),s.innerHTML=r,s}function x(e){var t=e.mode,i=e.density||1,s=e.filter||!1,r=function(e,t,i){if("range"===e||"steps"===e)return m.xVal;if("count"===e){var s,r=100/(t-1),n=0;for(t=[];(s=n++*r)<=100;)t.push(s);e="positions"}return"positions"===e?t.map(function(e){return m.fromStepping(i?m.getStep(e):e)}):"values"===e?i?t.map(function(e){return m.fromStepping(m.getStep(m.toStepping(e)))}):t:void 0}(t,e.values||!1,e.stepped||!1),n=function(e,t,i){var s,r=m.direction,n={},a=m.xVal[0],o=m.xVal[m.xVal.length-1],d=!1,l=!1,c=0;return m.direction=0,s=i.slice().sort(function(e,t){return e-t}),(i=s.filter(function(e){return!this[e]&&(this[e]=!0)},{}))[0]!==a&&(i.unshift(a),d=!0),i[i.length-1]!==o&&(i.push(o),l=!0),i.forEach(function(s,r){var a,o,h,u,p,f,g,_,v,b=s,y=i[r+1];if("steps"===t&&(a=m.xNumSteps[r]),a||(a=y-b),!1!==b&&void 0!==y)for(o=b;o<=y;o=(o+a).toFixed(7)/1){for(g=(p=(u=m.toStepping(o))-c)/e,v=p/(_=Math.round(g)),h=1;h<=_;h+=1)n[(c+h*v).toFixed(5)]=["x",0];f=i.indexOf(o)>-1?1:"steps"===t?2:0,!r&&d&&(f=0),o===y&&l||(n[u.toFixed(5)]=[o,f]),c=u}}),m.direction=r,n}(i,t,r),a=e.format||{to:Math.round};return f.appendChild(k(n,s,a))}function w(){var e=c.getBoundingClientRect(),t="offset"+["Width","Height"][d.ort];return 0===d.ort?e.width||c[t]:e.height||c[t]}function j(e,t,i){var s;for(s=0;s<d.handles;s++)if(-1===g[s])return;void 0!==t&&1!==d.handles&&(t=Math.abs(t-d.dir)),Object.keys(v).forEach(function(s){var n=s.split(".")[0];e===n&&v[s].forEach(function(e){e.call(u,r(L()),t,r(C(Array.prototype.slice.call(_))),i||!1,g)})})}function C(e){return 1===e.length?e[0]:d.dir?e.reverse():e}function E(e,t,i,s){var r=function(t){return!f.hasAttribute("disabled")&&(r=f,n=d.cssClasses.tap,(r.classList?!r.classList.contains(n):!new RegExp("\\b"+n+"\\b").test(r.className))&&(t=function(e,t){e.preventDefault();var i,s,r=0===e.type.indexOf("touch"),n=0===e.type.indexOf("mouse"),a=0===e.type.indexOf("pointer"),d=e;return 0===e.type.indexOf("MSPointer")&&(a=!0),r&&(i=e.changedTouches[0].pageX,s=e.changedTouches[0].pageY),t=t||o(),(n||a)&&(i=e.clientX+t.x,s=e.clientY+t.y),d.pageOffset=t,d.points=[i,s],d.cursor=n||a,d}(t,s.pageOffset),!(e===p.start&&void 0!==t.buttons&&t.buttons>1)&&((!s.hover||!t.buttons)&&(t.calcPoint=t.points[d.ort],void i(t,s)))));var r,n},n=[];return e.split(" ").forEach(function(e){t.addEventListener(e,r,!1),n.push([e,r])}),n}function S(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return $(e,t);var i,r,n,a,o,d,l,c=t.handles||h,u=!1,p=100*(e.calcPoint-t.start)/t.baseSize,f=c[0]===h[0]?0:1;if(n=p,a=t.positions,o=c.length>1,d=n+a[0],l=n+a[1],i=o?(d<0&&(l+=Math.abs(d)),l>100&&(d-=l-100),[s(d),s(l)]):[d,l],u=M(c[0],i[f],1===c.length),c.length>1){if(u=M(c[1],i[f?0:1],!1)||u)for(r=0;r<t.handles.length;r++)j("slide",r)}else u&&j("slide",f)}function $(e,t){var i=c.querySelector("."+d.cssClasses.active),s=t.handles[0]===h[0]?0:1;null!==i&&a(i,d.cssClasses.active),e.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener));var r=document.documentElement;r.noUiListeners.forEach(function(e){r.removeEventListener(e[0],e[1])}),a(f,d.cssClasses.drag),j("set",s),j("change",s),void 0!==t.handleNumber&&j("end",t.handleNumber)}function T(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&$(e,t)}function D(e,t){var i=document.documentElement;if(1===t.handles.length){if(t.handles[0].hasAttribute("disabled"))return!1;n(t.handles[0].children[0],d.cssClasses.active)}e.preventDefault(),e.stopPropagation();var s=E(p.move,i,S,{start:e.calcPoint,baseSize:w(),pageOffset:e.pageOffset,handles:t.handles,handleNumber:t.handleNumber,buttonsProperty:e.buttons,positions:[g[0],g[h.length-1]]}),r=E(p.end,i,$,{handles:t.handles,handleNumber:t.handleNumber}),a=E("mouseout",i,T,{handles:t.handles,handleNumber:t.handleNumber});if(i.noUiListeners=s.concat(r,a),e.cursor){document.body.style.cursor=getComputedStyle(e.target).cursor,h.length>1&&n(f,d.cssClasses.drag);var o=function(){return!1};document.body.noUiListener=o,document.body.addEventListener("selectstart",o,!1)}void 0!==t.handleNumber&&j("start",t.handleNumber)}function N(t){var s,r,n=t.calcPoint,a=0;if(t.stopPropagation(),h.forEach(function(t){a+=e(t)[d.style]}),s=n<a/2||1===h.length?0:1,h[s].hasAttribute("disabled")&&(s=s?0:1),r=100*(n-=e(c)[d.style])/w(),d.events.snap||i(f,d.cssClasses.tap,d.animationDuration),h[s].hasAttribute("disabled"))return!1;M(h[s],r),j("slide",s,!0),j("set",s,!0),j("change",s,!0),d.events.snap&&D(t,{handles:[h[s]]})}function A(t){var i=t.calcPoint-e(c)[d.style],s=m.getStep(100*i/w()),r=m.fromStepping(s);Object.keys(v).forEach(function(e){"hover"===e.split(".")[0]&&v[e].forEach(function(e){e.call(u,r)})})}function M(e,t,i){var r=e!==h[0]?1:0,o=g[0]+d.margin,l=g[1]-d.margin,c=g[0]+d.limit,u=g[1]-d.limit;return h.length>1&&(t=r?Math.max(t,o):Math.min(t,l)),!1!==i&&d.limit&&h.length>1&&(t=r?Math.min(t,c):Math.max(t,u)),(t=s(t=m.getStep(t)))!==g[r]&&(window.requestAnimationFrame?window.requestAnimationFrame(function(){e.style[d.style]=t+"%"}):e.style[d.style]=t+"%",e.previousSibling||(a(e,d.cssClasses.stacking),t>50&&n(e,d.cssClasses.stacking)),g[r]=t,_[r]=m.fromStepping(t),j("update",r),!0)}function P(e,t){var s,n,a=r(e);for(t=void 0===t||!!t,d.dir&&d.handles>1&&a.reverse(),d.animate&&-1!==g[0]&&i(f,d.cssClasses.tap,d.animationDuration),s=h.length>1?3:1,1===a.length&&(s=1),function(e,t){var i,s,r;for(d.limit&&(e+=1),i=0;i<e;i+=1)null!==(r=t[s=i%2])&&!1!==r&&("number"==typeof r&&(r=String(r)),(!1===(r=d.format.from(r))||isNaN(r)||!1===M(h[s],m.toStepping(r),i===3-d.dir))&&j("update",s))}(s,a),n=0;n<h.length;n++)null!==a[n]&&t&&j("set",n)}function L(){var e,t=[];for(e=0;e<d.handles;e+=1)t[e]=d.format.to(_[e]);return C(t)}function z(e,t){v[e]=v[e]||[],v[e].push(t),"update"===e.split(".")[0]&&h.forEach(function(e,t){j("update",t)})}if(f.noUiSlider)throw new Error("Slider was already initialized.");return c=function(e,t,i){n(i,d.cssClasses.target),n(i,0===e?d.cssClasses.ltr:d.cssClasses.rtl),n(i,0===t?d.cssClasses.horizontal:d.cssClasses.vertical);var s=document.createElement("div");return n(s,d.cssClasses.base),i.appendChild(s),s}(d.dir,d.ort,f),h=function(e,t,i){var s,r=[];for(s=0;s<e;s+=1)r.push(i.appendChild(b(t,s)));return r}(d.handles,d.dir,c),function(e,t,i){switch(e){case 1:n(t,d.cssClasses.connect),n(i[0],d.cssClasses.background);break;case 3:n(i[1],d.cssClasses.background);case 2:n(i[0],d.cssClasses.connect);case 0:n(t,d.cssClasses.background)}}(d.connect,f,h),d.pips&&x(d.pips),d.tooltips&&function(){d.dir&&d.tooltips.reverse();var e=h.map(y);d.dir&&(e.reverse(),d.tooltips.reverse()),z("update",function(t,i,s){e[i]&&(e[i].innerHTML=!0===d.tooltips[i]?t[i]:d.tooltips[i].to(s[i]))})}(),u={destroy:function(){for(var e in d.cssClasses)d.cssClasses.hasOwnProperty(e)&&a(f,d.cssClasses[e]);for(;f.firstChild;)f.removeChild(f.firstChild);delete f.noUiSlider},steps:function(){return C(g.map(function(e,t){var i,s,r=m.getApplicableStep(e),n=(i=String(r[2]),(s=i.split(".")).length>1?s[1].length:0),a=_[t],o=100===e?null:r[2],d=Number((a-r[2]).toFixed(n));return[0===e?null:d>=r[1]?r[2]:r[0]||!1,o]}))},on:z,off:function(e){var t=e&&e.split(".")[0],i=t&&e.substring(t.length);Object.keys(v).forEach(function(e){var s=e.split(".")[0],r=e.substring(s.length);t&&t!==s||i&&i!==r||delete v[e]})},get:L,set:P,updateOptions:function(e,t){var i=L(),s=O({start:[0,0],margin:e.margin,limit:e.limit,step:void 0===e.step?d.singleStep:e.step,range:e.range,animate:e.animate,snap:void 0===e.snap?d.snap:e.snap});["margin","limit","range","animate"].forEach(function(t){void 0!==e[t]&&(d[t]=e[t])}),s.spectrum.direction=m.direction,m=s.spectrum,g=[-1,-1],P(e.start||i,t)},options:l,target:f,pips:x},function(e){if(e.fixed||h.forEach(function(e,t){E(p.start,e.children[0],D,{handles:[e],handleNumber:t})}),e.tap&&E(p.start,c,N,{handles:h}),e.hover&&E(p.move,c,A,{hover:!0}),e.drag){var t=[c.querySelector("."+d.cssClasses.connect)];n(t[0],d.cssClasses.draggable),e.fixed&&t.push(h[t[0]===h[0]?1:0].children[0]),t.forEach(function(e){E(p.start,e,D,{handles:h})})}}(d.events),u}return{create:function(e,t){if(!e.nodeName)throw new Error("noUiSlider.create requires a single element.");var i=O(t),s=M(e,i,t);return s.set(i.start),e.noUiSlider=s,s}}})?s.apply(t,r):s)||(e.exports=n)},WRGp:function(e,t,i){window._=i("M4fF"),window.Popper=i("Zgw8").default;try{window.$=window.jQuery=i("7t+N"),i("gNGx")}catch(e){}window.axios=i("mtWM"),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var s=document.head.querySelector('meta[name="csrf-token"]');s?window.axios.defaults.headers.common["X-CSRF-TOKEN"]=s.content:console.error("CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token")},ZIn0:function(e,t,i){var s,r,n;n=function(e){!function(e){"use strict";var t,i,s,r;function n(t){return e.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){t=t.replace(this.re,this.ch)}),t}function a(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i="(?:"+Object.keys(t).join("|")+")",s=new RegExp(i),r=new RegExp(i,"g"),n=null==e?"":""+e;return s.test(n)?n.replace(r,function(e){return t[e]}):n}String.prototype.includes||(t={}.toString,i=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),s="".indexOf,r=function(e){if(null==this)throw new TypeError;var i=String(this);if(e&&"[object RegExp]"==t.call(e))throw new TypeError;var r=i.length,n=String(e),a=n.length,o=arguments.length>1?arguments[1]:void 0,d=o?Number(o):0;return d!=d&&(d=0),!(a+Math.min(Math.max(d,0),r)>r)&&-1!=s.call(i,n,d)},i?i(String.prototype,"includes",{value:r,configurable:!0,writable:!0}):String.prototype.includes=r),String.prototype.startsWith||function(){var e=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),t={}.toString,i=function(e){if(null==this)throw new TypeError;var i=String(this);if(e&&"[object RegExp]"==t.call(e))throw new TypeError;var s=i.length,r=String(e),n=r.length,a=arguments.length>1?arguments[1]:void 0,o=a?Number(a):0;o!=o&&(o=0);var d=Math.min(Math.max(o,0),s);if(n+d>s)return!1;for(var l=-1;++l<n;)if(i.charCodeAt(d+l)!=r.charCodeAt(l))return!1;return!0};e?e(String.prototype,"startsWith",{value:i,configurable:!0,writable:!0}):String.prototype.startsWith=i}(),Object.keys||(Object.keys=function(e,t,i){for(t in i=[],e)i.hasOwnProperty.call(e,t)&&i.push(t);return i}),e.fn.triggerNative=function(e){var t,i=this[0];i.dispatchEvent?("function"==typeof Event?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),i.dispatchEvent(t)):(i.fireEvent&&((t=document.createEventObject()).eventType=e,i.fireEvent("on"+e,t)),this.trigger(e))},e.expr[":"].icontains=function(t,i,s){var r=e(t);return(r.data("tokens")||r.text()).toUpperCase().includes(s[3].toUpperCase())},e.expr[":"].ibegins=function(t,i,s){var r=e(t);return(r.data("tokens")||r.text()).toUpperCase().startsWith(s[3].toUpperCase())},e.expr[":"].aicontains=function(t,i,s){var r=e(t);return(r.data("tokens")||r.data("normalizedText")||r.text()).toUpperCase().includes(s[3].toUpperCase())},e.expr[":"].aibegins=function(t,i,s){var r=e(t);return(r.data("tokens")||r.data("normalizedText")||r.text()).toUpperCase().startsWith(s[3].toUpperCase())};var o=function(t,i,s){s&&(s.stopPropagation(),s.preventDefault()),this.$element=e(t),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=i,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=o.prototype.val,this.render=o.prototype.render,this.refresh=o.prototype.refresh,this.setStyle=o.prototype.setStyle,this.selectAll=o.prototype.selectAll,this.deselectAll=o.prototype.deselectAll,this.destroy=o.prototype.destroy,this.remove=o.prototype.remove,this.show=o.prototype.show,this.hide=o.prototype.hide,this.init()};function d(t,i){var s,r=arguments,n=t,a=i;[].shift.apply(r);var d=this.each(function(){var t=e(this);if(t.is("select")){var i=t.data("selectpicker"),d="object"==typeof n&&n;if(i){if(d)for(var l in d)d.hasOwnProperty(l)&&(i.options[l]=d[l])}else{var c=e.extend({},o.DEFAULTS,e.fn.selectpicker.defaults||{},t.data(),d);c.template=e.extend({},o.DEFAULTS.template,e.fn.selectpicker.defaults?e.fn.selectpicker.defaults.template:{},t.data().template,d.template),t.data("selectpicker",i=new o(this,c,a))}"string"==typeof n&&(s=i[n]instanceof Function?i[n].apply(i,r):i.options[n])}});return void 0!==s?s:d}o.VERSION="1.10.0",o.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1},o.prototype={constructor:o,init:function(){var t=this,i=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement).appendTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),void 0!==i&&(this.$button.attr("data-id",i),e('label[for="'+i+'"]').click(function(e){e.preventDefault(),t.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){t.$element.trigger("hide.bs.select",e)},"hidden.bs.dropdown":function(e){t.$element.trigger("hidden.bs.select",e)},"show.bs.dropdown":function(e){t.$element.trigger("show.bs.select",e)},"shown.bs.dropdown":function(e){t.$element.trigger("shown.bs.select",e)}}),t.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){t.$button.addClass("bs-invalid").focus(),t.$element.on({"focus.bs.select":function(){t.$button.focus(),t.$element.off("focus.bs.select")},"shown.bs.select":function(){t.$element.val(t.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&t.$button.removeClass("bs-invalid"),t.$element.off("rendered.bs.select")}})}),setTimeout(function(){t.$element.trigger("loaded.bs.select")})},createDropdown:function(){var t=this.multiple||this.options.showTick?" show-tick":"",i=this.$element.parent().hasClass("input-group")?" input-group-btn":"",s=this.autofocus?" autofocus":"",r=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",n=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+a(this.options.liveSearchPlaceholder)+'"')+"></div>":"",o=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",d=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",l='<div class="btn-group bootstrap-select'+t+i+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+s+'><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu open">'+r+n+o+'<ul class="dropdown-menu inner" role="menu"></ul>'+d+"</div></div>";return e(l)},createView:function(){var e=this.createDropdown(),t=this.createLi();return e.find("ul")[0].innerHTML=t,e},reloadLi:function(){this.destroyLi();var e=this.createLi();this.$menuInner[0].innerHTML=e},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var t=this,i=[],s=0,r=document.createElement("option"),o=-1,d=function(e,t,i,s){return"<li"+(void 0!==i&""!==i?' class="'+i+'"':"")+(void 0!==t&null!==t?' data-original-index="'+t+'"':"")+(void 0!==s&null!==s?'data-optgroup="'+s+'"':"")+">"+e+"</li>"},l=function(e,i,s,r){return'<a tabindex="0"'+(void 0!==i?' class="'+i+'"':"")+(void 0!==s?' style="'+s+'"':"")+(t.options.liveSearchNormalize?' data-normalized-text="'+n(a(e))+'"':"")+(void 0!==r||null!==r?' data-tokens="'+r+'"':"")+">"+e+'<span class="'+t.options.iconBase+" "+t.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(o--,!this.$element.find(".bs-title-option").length)){var c=this.$element[0];r.className="bs-title-option",r.appendChild(document.createTextNode(this.options.title)),r.value="",c.insertBefore(r,c.firstChild),void 0===e(c.options[c.selectedIndex]).attr("selected")&&(r.selected=!0)}return this.$element.find("option").each(function(r){var n=e(this);if(o++,!n.hasClass("bs-title-option")){var a=this.className||"",c=this.style.cssText,h=n.data("content")?n.data("content"):n.html(),u=n.data("tokens")?n.data("tokens"):null,p=void 0!==n.data("subtext")?'<small class="text-muted">'+n.data("subtext")+"</small>":"",f=void 0!==n.data("icon")?'<span class="'+t.options.iconBase+" "+n.data("icon")+'"></span> ':"",g="OPTGROUP"===this.parentNode.tagName,m=this.disabled||g&&this.parentNode.disabled;if(""!==f&&m&&(f="<span>"+f+"</span>"),t.options.hideDisabled&&m&&!g)o--;else{if(n.data("content")||(h=f+'<span class="text">'+h+p+"</span>"),g&&!0!==n.data("divider")){var _=" "+this.parentNode.className||"";if(0===n.index()){s+=1;var v=this.parentNode.label,b=void 0!==n.parent().data("subtext")?'<small class="text-muted">'+n.parent().data("subtext")+"</small>":"";v=(n.parent().data("icon")?'<span class="'+t.options.iconBase+" "+n.parent().data("icon")+'"></span> ':"")+'<span class="text">'+v+b+"</span>",0!==r&&i.length>0&&(o++,i.push(d("",null,"divider",s+"div"))),o++,i.push(d(v,null,"dropdown-header"+_,s))}if(t.options.hideDisabled&&m)return void o--;i.push(d(l(h,"opt "+a+_,c,u),r,"",s))}else!0===n.data("divider")?i.push(d("",r,"divider")):!0===n.data("hidden")?i.push(d(l(h,a,c,u),r,"hidden is-hidden")):(this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName&&(o++,i.push(d("",null,"divider",s+"div"))),i.push(d(l(h,a,c,u),r)));t.liObj[r]=o}}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),i.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(t){var i,s=this;!1!==t&&this.$element.find("option").each(function(e){var t=s.findLis().eq(s.liObj[e]);s.setDisabled(e,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,t),s.setSelected(e,this.selected,t)}),this.tabIndex();var r=this.$element.find("option").map(function(){if(this.selected){if(s.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))return;var t,i=e(this),r=i.data("icon")&&s.options.showIcon?'<i class="'+s.options.iconBase+" "+i.data("icon")+'"></i> ':"";return t=s.options.showSubtext&&i.data("subtext")&&!s.multiple?' <small class="text-muted">'+i.data("subtext")+"</small>":"",void 0!==i.attr("title")?i.attr("title"):i.data("content")&&s.options.showContent?i.data("content"):r+i.html()+t}}).toArray(),n=this.multiple?r.join(this.options.multipleSeparator):r[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var a=this.options.selectedTextFormat.split(">");if(a.length>1&&r.length>a[1]||1==a.length&&r.length>=2){i=this.options.hideDisabled?", [disabled]":"";var o=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+i).length;n=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(r.length,o):this.options.countSelectedText).replace("{0}",r.length.toString()).replace("{1}",o.toString())}}void 0==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(n=this.options.title),n||(n=void 0!==this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",e.trim(n.replace(/<[^>]*>?/g,""))),this.$button.children(".filter-option").html(n),this.$element.trigger("rendered.bs.select")},setStyle:function(e,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var i=e||this.options.style;"add"==t?this.$button.addClass(i):"remove"==t?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(t){if(t||!1!==this.options.size&&!this.sizeInfo){var i=document.createElement("div"),s=document.createElement("div"),r=document.createElement("ul"),n=document.createElement("li"),a=document.createElement("li"),o=document.createElement("a"),d=document.createElement("span"),l=this.options.header&&this.$menu.find(".popover-title").length>0?this.$menu.find(".popover-title")[0].cloneNode(!0):null,c=this.options.liveSearch?document.createElement("div"):null,h=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,u=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(d.className="text",i.className=this.$menu[0].parentNode.className+" open",s.className="dropdown-menu open",r.className="dropdown-menu inner",n.className="divider",d.appendChild(document.createTextNode("Inner text")),o.appendChild(d),a.appendChild(o),r.appendChild(a),r.appendChild(n),l&&s.appendChild(l),c){var p=document.createElement("span");c.className="bs-searchbox",p.className="form-control",c.appendChild(p),s.appendChild(c)}h&&s.appendChild(h),s.appendChild(r),u&&s.appendChild(u),i.appendChild(s),document.body.appendChild(i);var f=o.offsetHeight,g=l?l.offsetHeight:0,m=c?c.offsetHeight:0,_=h?h.offsetHeight:0,v=u?u.offsetHeight:0,b=e(n).outerHeight(!0),y="function"==typeof getComputedStyle&&getComputedStyle(s),k=y?null:e(s),x=parseInt(y?y.paddingTop:k.css("paddingTop"))+parseInt(y?y.paddingBottom:k.css("paddingBottom"))+parseInt(y?y.borderTopWidth:k.css("borderTopWidth"))+parseInt(y?y.borderBottomWidth:k.css("borderBottomWidth")),w=x+parseInt(y?y.marginTop:k.css("marginTop"))+parseInt(y?y.marginBottom:k.css("marginBottom"))+2;document.body.removeChild(i),this.sizeInfo={liHeight:f,headerHeight:g,searchHeight:m,actionsHeight:_,doneButtonHeight:v,dividerHeight:b,menuPadding:x,menuExtras:w}}},setSize:function(){if(this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var t,i,s,r,n=this,a=this.$menu,o=this.$menuInner,d=e(window),l=this.$newElement[0].offsetHeight,c=this.sizeInfo.liHeight,h=this.sizeInfo.headerHeight,u=this.sizeInfo.searchHeight,p=this.sizeInfo.actionsHeight,f=this.sizeInfo.doneButtonHeight,g=this.sizeInfo.dividerHeight,m=this.sizeInfo.menuPadding,_=this.sizeInfo.menuExtras,v=this.options.hideDisabled?".disabled":"",b=function(){s=n.$newElement.offset().top-d.scrollTop(),r=d.height()-s-l};if(b(),"auto"===this.options.size){var y=function(){var d,l=function(t,i){return function(s){return i?s.classList?s.classList.contains(t):e(s).hasClass(t):!(s.classList?s.classList.contains(t):e(s).hasClass(t))}},g=n.$menuInner[0].getElementsByTagName("li"),v=Array.prototype.filter?Array.prototype.filter.call(g,l("hidden",!1)):n.$lis.not(".hidden"),y=Array.prototype.filter?Array.prototype.filter.call(v,l("dropdown-header",!0)):v.filter(".dropdown-header");b(),t=r-_,n.options.container?(a.data("height")||a.data("height",a.height()),i=a.data("height")):i=a.height(),n.options.dropupAuto&&n.$newElement.toggleClass("dropup",s>r&&t-_<i),n.$newElement.hasClass("dropup")&&(t=s-_),d=v.length+y.length>3?3*c+_-2:0,a.css({"max-height":t+"px",overflow:"hidden","min-height":d+h+u+p+f+"px"}),o.css({"max-height":t-h-u-p-f-m+"px","overflow-y":"auto","min-height":Math.max(d-m,0)+"px"})};y(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",y),d.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",y)}else if(this.options.size&&"auto"!=this.options.size&&this.$lis.not(v).length>this.options.size){var k=this.$lis.not(".divider").not(v).children().slice(0,this.options.size).last().parent().index(),x=this.$lis.slice(0,k+1).filter(".divider").length;t=c*this.options.size+x*g+m,n.options.container?(a.data("height")||a.data("height",a.height()),i=a.data("height")):i=a.height(),n.options.dropupAuto&&this.$newElement.toggleClass("dropup",s>r&&t-_<i),a.css({"max-height":t+h+u+p+f+"px",overflow:"hidden","min-height":""}),o.css({"max-height":t-m+"px","overflow-y":"auto","min-height":""})}}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var e=this.$menu.parent().clone().appendTo("body"),t=this.options.container?this.$newElement.clone().appendTo("body"):e,i=e.children(".dropdown-menu").outerWidth(),s=t.css("width","auto").children("button").outerWidth();e.remove(),t.remove(),this.$newElement.css("width",Math.max(i,s)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=e('<div class="bs-container" />');var t,i,s=this,r=function(e){s.$bsContainer.addClass(e.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",e.hasClass("dropup")),t=e.offset(),i=e.hasClass("dropup")?0:e[0].offsetHeight,s.$bsContainer.css({top:t.top+i,left:t.left,width:e[0].offsetWidth})};this.$button.on("click",function(){var t=e(this);s.isDisabled()||(r(s.$newElement),s.$bsContainer.appendTo(s.options.container).toggleClass("open",!t.hasClass("open")).append(s.$menu))}),e(window).on("resize scroll",function(){r(s.$newElement)}),this.$element.on("hide.bs.select",function(){s.$menu.data("height",s.$menu.height()),s.$bsContainer.detach()})},setSelected:function(e,t,i){i||(i=this.findLis().eq(this.liObj[e])),i.toggleClass("selected",t)},setDisabled:function(e,t,i){i||(i=this.findLis().eq(this.liObj[e])),t?i.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1):i.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled")),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!e.isDisabled()})},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var t=this,i=e(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(e){e.stopPropagation()}),i.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&i.data("spaceSelect")&&(e.preventDefault(),i.data("spaceSelect",!1))}),this.$button.on("click",function(){t.setSize()}),this.$element.on("shown.bs.select",function(){if(t.options.liveSearch||t.multiple){if(!t.multiple){var e=t.liObj[t.$element[0].selectedIndex];if("number"!=typeof e||!1===t.options.size)return;var i=t.$lis.eq(e)[0].offsetTop-t.$menuInner[0].offsetTop;i=i-t.$menuInner[0].offsetHeight/2+t.sizeInfo.liHeight/2,t.$menuInner[0].scrollTop=i}}else t.$menuInner.find(".selected a").focus()}),this.$menuInner.on("click","li a",function(i){var s=e(this),r=s.parent().data("originalIndex"),n=t.$element.val(),a=t.$element.prop("selectedIndex");if(t.multiple&&i.stopPropagation(),i.preventDefault(),!t.isDisabled()&&!s.parent().hasClass("disabled")){var o=t.$element.find("option"),d=o.eq(r),l=d.prop("selected"),c=d.parent("optgroup"),h=t.options.maxOptions,u=c.data("maxOptions")||!1;if(t.multiple){if(d.prop("selected",!l),t.setSelected(r,!l),s.blur(),!1!==h||!1!==u){var p=h<o.filter(":selected").length,f=u<c.find("option:selected").length;if(h&&p||u&&f)if(h&&1==h)o.prop("selected",!1),d.prop("selected",!0),t.$menuInner.find(".selected").removeClass("selected"),t.setSelected(r,!0);else if(u&&1==u){c.find("option:selected").prop("selected",!1),d.prop("selected",!0);var g=s.parent().data("optgroup");t.$menuInner.find('[data-optgroup="'+g+'"]').removeClass("selected"),t.setSelected(r,!0)}else{var m="function"==typeof t.options.maxOptionsText?t.options.maxOptionsText(h,u):t.options.maxOptionsText,_=m[0].replace("{n}",h),v=m[1].replace("{n}",u),b=e('<div class="notify"></div>');m[2]&&(_=_.replace("{var}",m[2][h>1?0:1]),v=v.replace("{var}",m[2][u>1?0:1])),d.prop("selected",!1),t.$menu.append(b),h&&p&&(b.append(e("<div>"+_+"</div>")),t.$element.trigger("maxReached.bs.select")),u&&f&&(b.append(e("<div>"+v+"</div>")),t.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){t.setSelected(r,!1)},10),b.delay(750).fadeOut(300,function(){e(this).remove()})}}}else o.prop("selected",!1),d.prop("selected",!0),t.$menuInner.find(".selected").removeClass("selected"),t.setSelected(r,!0);t.multiple?t.options.liveSearch&&t.$searchbox.focus():t.$button.focus(),(n!=t.$element.val()&&t.multiple||a!=t.$element.prop("selectedIndex")&&!t.multiple)&&t.$element.trigger("changed.bs.select",[r,d.prop("selected"),l]).triggerNative("change")}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(i){i.currentTarget==this&&(i.preventDefault(),i.stopPropagation(),t.options.liveSearch&&!e(i.target).hasClass("close")?t.$searchbox.focus():t.$button.focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),t.options.liveSearch?t.$searchbox.focus():t.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){t.$button.click()}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(i){t.options.liveSearch?t.$searchbox.focus():t.$button.focus(),i.preventDefault(),i.stopPropagation(),e(this).hasClass("bs-select-all")?t.selectAll():t.deselectAll()}),this.$element.change(function(){t.render(!1)})},liveSearchListener:function(){var t=this,i=e('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){t.$menuInner.find(".active").removeClass("active"),t.$searchbox.val()&&(t.$searchbox.val(""),t.$lis.not(".is-hidden").removeClass("hidden"),i.parent().length&&i.remove()),t.multiple||t.$menuInner.find(".selected").addClass("active"),setTimeout(function(){t.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(t.$searchbox.val()){var s=t.$lis.not(".is-hidden").removeClass("hidden").children("a");(s=t.options.liveSearchNormalize?s.not(":a"+t._searchStyle()+'("'+n(t.$searchbox.val())+'")'):s.not(":"+t._searchStyle()+'("'+t.$searchbox.val()+'")')).parent().addClass("hidden"),t.$lis.filter(".dropdown-header").each(function(){var i=e(this),s=i.data("optgroup");0===t.$lis.filter("[data-optgroup="+s+"]").not(i).not(".hidden").length&&(i.addClass("hidden"),t.$lis.filter("[data-optgroup="+s+"div]").addClass("hidden"))});var r=t.$lis.not(".hidden");r.each(function(t){var i=e(this);i.hasClass("divider")&&(i.index()===r.first().index()||i.index()===r.last().index()||r.eq(t+1).hasClass("divider"))&&i.addClass("hidden")}),t.$lis.not(".hidden, .no-results").length?i.parent().length&&i.remove():(i.parent().length&&i.remove(),i.html(t.options.noneResultsText.replace("{0}",'"'+a(t.$searchbox.val())+'"')).show(),t.$menuInner.append(i))}else t.$lis.not(".is-hidden").removeClass("hidden"),i.parent().length&&i.remove();t.$lis.filter(".active").removeClass("active"),t.$searchbox.val()&&t.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus(),e(this).focus()})},_searchStyle:function(){return{begins:"ibegins",startsWith:"ibegins"}[this.options.liveSearchStyle]||"icontains"},val:function(e){return void 0!==e?(this.$element.val(e),this.render(),this.$element):this.$element.val()},changeAll:function(t){void 0===t&&(t=!0),this.findLis();for(var i=this.$element.find("option"),s=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").toggleClass("selected",t),r=s.length,n=[],a=0;a<r;a++){var o=s[a].getAttribute("data-original-index");n[n.length]=i.eq(o)[0]}e(n).prop("selected",t),this.render(!1),this.$element.trigger("changed.bs.select").triggerNative("change")},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e){(e=e||window.event)&&e.stopPropagation(),this.$button.trigger("click")},keydown:function(t){var i,s,r,a,o,d,l,c,h,u=e(this),p=u.is("input")?u.parent().parent():u.parent(),f=p.data("this"),g=":not(.disabled, .hidden, .dropdown-header, .divider)",m={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(f.options.liveSearch&&(p=u.parent().parent()),f.options.container&&(p=f.$menu),i=e("[role=menu] li",p),!(h=f.$newElement.hasClass("open"))&&(t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105||t.keyCode>=65&&t.keyCode<=90)&&(f.options.container?f.$button.trigger("click"):(f.setSize(),f.$menu.parent().addClass("open"),h=!0),f.$searchbox.focus()),f.options.liveSearch&&(/(^9$|27)/.test(t.keyCode.toString(10))&&h&&0===f.$menu.find(".active").length&&(t.preventDefault(),f.$menu.parent().removeClass("open"),f.options.container&&f.$newElement.removeClass("open"),f.$button.focus()),i=e("[role=menu] li"+g,p),u.val()||/(38|40)/.test(t.keyCode.toString(10))||0===i.filter(".active").length&&(i=f.$menuInner.find("li"),i=f.options.liveSearchNormalize?i.filter(":a"+f._searchStyle()+"("+n(m[t.keyCode])+")"):i.filter(":"+f._searchStyle()+"("+m[t.keyCode]+")"))),i.length){if(/(38|40)/.test(t.keyCode.toString(10)))s=i.index(i.find("a").filter(":focus").parent()),a=i.filter(g).first().index(),o=i.filter(g).last().index(),r=i.eq(s).nextAll(g).eq(0).index(),d=i.eq(s).prevAll(g).eq(0).index(),l=i.eq(r).prevAll(g).eq(0).index(),f.options.liveSearch&&(i.each(function(t){e(this).hasClass("disabled")||e(this).data("index",t)}),s=i.index(i.filter(".active")),a=i.first().data("index"),o=i.last().data("index"),r=i.eq(s).nextAll().eq(0).data("index"),d=i.eq(s).prevAll().eq(0).data("index"),l=i.eq(r).prevAll().eq(0).data("index")),c=u.data("prevIndex"),38==t.keyCode?(f.options.liveSearch&&s--,s!=l&&s>d&&(s=d),s<a&&(s=a),s==c&&(s=o)):40==t.keyCode&&(f.options.liveSearch&&s++,-1==s&&(s=0),s!=l&&s<r&&(s=r),s>o&&(s=o),s==c&&(s=a)),u.data("prevIndex",s),f.options.liveSearch?(t.preventDefault(),u.hasClass("dropdown-toggle")||(i.removeClass("active").eq(s).addClass("active").children("a").focus(),u.focus())):i.eq(s).children("a").focus();else if(!u.is("input")){var _,v=[];i.each(function(){e(this).hasClass("disabled")||e.trim(e(this).children("a").text().toLowerCase()).substring(0,1)==m[t.keyCode]&&v.push(e(this).index())}),_=e(document).data("keycount"),_++,e(document).data("keycount",_),e.trim(e(":focus").text().toLowerCase()).substring(0,1)!=m[t.keyCode]?(_=1,e(document).data("keycount",_)):_>=v.length&&(e(document).data("keycount",0),_>v.length&&(_=1)),i.eq(v[_-1]).children("a").focus()}if((/(13|32)/.test(t.keyCode.toString(10))||/(^9$)/.test(t.keyCode.toString(10))&&f.options.selectOnTab)&&h){if(/(32)/.test(t.keyCode.toString(10))||t.preventDefault(),f.options.liveSearch)/(32)/.test(t.keyCode.toString(10))||(f.$menuInner.find(".active a").click(),u.focus());else{var b=e(":focus");b.click(),b.focus(),t.preventDefault(),e(document).data("spaceSelect",!0)}e(document).data("keycount",0)}(/(^9$|27)/.test(t.keyCode.toString(10))&&h&&(f.multiple||f.options.liveSearch)||/(27)/.test(t.keyCode.toString(10))&&!h)&&(f.$menu.parent().removeClass("open"),f.options.container&&f.$newElement.removeClass("open"),f.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null,this.liObj={},this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var l=e.fn.selectpicker;e.fn.selectpicker=d,e.fn.selectpicker.Constructor=o,e.fn.selectpicker.noConflict=function(){return e.fn.selectpicker=l,this},e(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',o.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',function(e){e.stopPropagation()}),e(window).on("load.bs.select.data-api",function(){e(".selectpicker").each(function(){var t=e(this);d.call(t,t.data())})})}(e)},s=[i("7t+N")],void 0===(r=function(e){return n(e)}.apply(t,s))||(e.exports=r)},hy16:function(e,t,i){!function(t){"use strict";e.exports=t(window.jQuery)}(function(e){"use strict";var t=function(t,i){this.value={h:0,s:0,b:0,a:1},this.origFormat=null,i&&e.extend(this.colors,i),t&&(void 0!==t.toLowerCase?(t+="",this.setColor(t)):void 0!==t.h&&(this.value=t))};t.prototype={constructor:t,colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",transparent:"transparent"},_sanitizeNumber:function(e){return"number"==typeof e?e:isNaN(e)||null===e||""===e||void 0===e?1:""===e?0:void 0!==e.toLowerCase?(e.match(/^\./)&&(e="0"+e),Math.ceil(100*parseFloat(e))/100):1},isTransparent:function(e){return!!e&&("transparent"===(e=e.toLowerCase().trim())||e.match(/#?00000000/)||e.match(/(rgba|hsla)\(0,0,0,0?\.?0\)/))},rgbaIsTransparent:function(e){return 0===e.r&&0===e.g&&0===e.b&&0===e.a},setColor:function(e){(e=e.toLowerCase().trim())&&(this.isTransparent(e)?this.value={h:0,s:0,b:0,a:0}:this.value=this.stringToHSB(e)||{h:0,s:0,b:0,a:1})},stringToHSB:function(t){var i;t=t.toLowerCase(),void 0!==this.colors[t]&&(t=this.colors[t],i="alias");var s=this,r=!1;return e.each(this.stringParsers,function(e,n){var a=n.re.exec(t),o=a&&n.parse.apply(s,[a]),d=i||n.format||"rgba";return!o||(r=d.match(/hsla?/)?s.RGBtoHSB.apply(s,s.HSLtoRGB.apply(s,o)):s.RGBtoHSB.apply(s,o),s.origFormat=d,!1)}),r},setHue:function(e){this.value.h=1-e},setSaturation:function(e){this.value.s=e},setBrightness:function(e){this.value.b=1-e},setAlpha:function(e){this.value.a=Math.round(parseInt(100*(1-e),10)/100*100)/100},toRGB:function(e,t,i,s){var r,n,a,o,d;return e||(e=this.value.h,t=this.value.s,i=this.value.b),e=(e*=360)%360/60,r=n=a=i-(d=i*t),r+=[d,o=d*(1-Math.abs(e%2-1)),0,0,o,d][e=~~e],n+=[o,d,d,o,0,0][e],a+=[0,0,o,d,d,o][e],{r:Math.round(255*r),g:Math.round(255*n),b:Math.round(255*a),a:s||this.value.a}},toHex:function(e,t,i,s){var r=this.toRGB(e,t,i,s);return this.rgbaIsTransparent(r)?"transparent":"#"+(1<<24|parseInt(r.r)<<16|parseInt(r.g)<<8|parseInt(r.b)).toString(16).substr(1)},toHSL:function(e,t,i,s){e=e||this.value.h,t=t||this.value.s,i=i||this.value.b,s=s||this.value.a;var r=e,n=(2-t)*i,a=t*i;return a/=n>0&&n<=1?n:2-n,n/=2,a>1&&(a=1),{h:isNaN(r)?0:r,s:isNaN(a)?0:a,l:isNaN(n)?0:n,a:isNaN(s)?0:s}},toAlias:function(e,t,i,s){var r=this.toHex(e,t,i,s);for(var n in this.colors)if(this.colors[n]===r)return n;return!1},RGBtoHSB:function(e,t,i,s){var r,n,a,o;return e/=255,t/=255,i/=255,r=((r=0===(o=(a=Math.max(e,t,i))-Math.min(e,t,i))?null:a===e?(t-i)/o:a===t?(i-e)/o+2:(e-t)/o+4)+360)%6*60/360,n=0===o?0:o/a,{h:this._sanitizeNumber(r),s:n,b:a,a:this._sanitizeNumber(s)}},HueToRGB:function(e,t,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e},HSLtoRGB:function(e,t,i,s){var r;t<0&&(t=0);var n=2*i-(r=i<=.5?i*(1+t):i+t-i*t),a=e+1/3,o=e,d=e-1/3;return[Math.round(255*this.HueToRGB(n,r,a)),Math.round(255*this.HueToRGB(n,r,o)),Math.round(255*this.HueToRGB(n,r,d)),this._sanitizeNumber(s)]},toString:function(e){var t=!1;switch(e=e||"rgba"){case"rgb":return t=this.toRGB(),this.rgbaIsTransparent(t)?"transparent":"rgb("+t.r+","+t.g+","+t.b+")";case"rgba":return"rgba("+(t=this.toRGB()).r+","+t.g+","+t.b+","+t.a+")";case"hsl":return t=this.toHSL(),"hsl("+Math.round(360*t.h)+","+Math.round(100*t.s)+"%,"+Math.round(100*t.l)+"%)";case"hsla":return t=this.toHSL(),"hsla("+Math.round(360*t.h)+","+Math.round(100*t.s)+"%,"+Math.round(100*t.l)+"%,"+t.a+")";case"hex":return this.toHex();case"alias":return this.toAlias()||this.toHex();default:return t}},stringParsers:[{re:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*?\)/,format:"rgb",parse:function(e){return[e[1],e[2],e[3],1]}},{re:/rgb\(\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*?\)/,format:"rgb",parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],1]}},{re:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba\(\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/hsl\(\s*(\d*(?:\.\d+)?)\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*?\)/,format:"hsl",parse:function(e){return[e[1]/360,e[2]/100,e[3]/100,e[4]]}},{re:/hsla\(\s*(\d*(?:\.\d+)?)\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"hsla",parse:function(e){return[e[1]/360,e[2]/100,e[3]/100,e[4]]}},{re:/#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,format:"hex",parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),1]}},{re:/#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,format:"hex",parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),1]}}],colorNameToHex:function(e){return void 0!==this.colors[e.toLowerCase()]&&this.colors[e.toLowerCase()]}};var i={horizontal:!1,inline:!1,color:!1,format:!1,input:"input",container:!1,component:".add-on, .input-group-addon",sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},alpha:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"}},slidersHorz:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:100,maxTop:0,callLeft:"setHue",callTop:!1},alpha:{maxLeft:100,maxTop:0,callLeft:"setAlpha",callTop:!1}},template:'<div class="colorpicker dropdown-menu"><div class="colorpicker-saturation"><i><b></b></i></div><div class="colorpicker-hue"><i></i></div><div class="colorpicker-alpha"><i></i></div><div class="colorpicker-color"><div /></div><div class="colorpicker-selectors"></div></div>',align:"right",customClass:null,colorSelectors:null},s=function(s,r){if(this.element=e(s).addClass("colorpicker-element"),this.options=e.extend(!0,{},i,this.element.data(),r),this.component=this.options.component,this.component=!1!==this.component&&this.element.find(this.component),this.component&&0===this.component.length&&(this.component=!1),this.container=!0===this.options.container?this.element:this.options.container,this.container=!1!==this.container&&e(this.container),this.input=this.element.is("input")?this.element:!!this.options.input&&this.element.find(this.options.input),this.input&&0===this.input.length&&(this.input=!1),this.color=new t(!1!==this.options.color?this.options.color:this.getValue(),this.options.colorSelectors),this.format=!1!==this.options.format?this.options.format:this.color.origFormat,!1!==this.options.color&&(this.updateInput(this.color),this.updateData(this.color)),this.picker=e(this.options.template),this.options.customClass&&this.picker.addClass(this.options.customClass),this.options.inline?this.picker.addClass("colorpicker-inline colorpicker-visible"):this.picker.addClass("colorpicker-hidden"),this.options.horizontal&&this.picker.addClass("colorpicker-horizontal"),"rgba"!==this.format&&"hsla"!==this.format&&!1!==this.options.format||this.picker.addClass("colorpicker-with-alpha"),"right"===this.options.align&&this.picker.addClass("colorpicker-right"),!0===this.options.inline&&this.picker.addClass("colorpicker-no-arrow"),this.options.colorSelectors){var n=this;e.each(this.options.colorSelectors,function(t,i){var s=e("<i />").css("background-color",i).data("class",t);s.click(function(){n.setValue(e(this).css("background-color"))}),n.picker.find(".colorpicker-selectors").append(s)}),this.picker.find(".colorpicker-selectors").show()}this.picker.on("mousedown.colorpicker touchstart.colorpicker",e.proxy(this.mousedown,this)),this.picker.appendTo(this.container?this.container:e("body")),!1!==this.input&&(this.input.on({"keyup.colorpicker":e.proxy(this.keyup,this)}),this.input.on({"change.colorpicker":e.proxy(this.change,this)}),!1===this.component&&this.element.on({"focus.colorpicker":e.proxy(this.show,this)}),!1===this.options.inline&&this.element.on({"focusout.colorpicker":e.proxy(this.hide,this)})),!1!==this.component&&this.component.on({"click.colorpicker":e.proxy(this.show,this)}),!1===this.input&&!1===this.component&&this.element.on({"click.colorpicker":e.proxy(this.show,this)}),!1!==this.input&&!1!==this.component&&"color"===this.input.attr("type")&&this.input.on({"click.colorpicker":e.proxy(this.show,this),"focus.colorpicker":e.proxy(this.show,this)}),this.update(),e(e.proxy(function(){this.element.trigger("create")},this))};s.Color=t,s.prototype={constructor:s,destroy:function(){this.picker.remove(),this.element.removeData("colorpicker","color").off(".colorpicker"),!1!==this.input&&this.input.off(".colorpicker"),!1!==this.component&&this.component.off(".colorpicker"),this.element.removeClass("colorpicker-element"),this.element.trigger({type:"destroy"})},reposition:function(){if(!1!==this.options.inline||this.options.container)return!1;var e=this.container&&this.container[0]!==document.body?"position":"offset",t=this.component||this.element,i=t[e]();"right"===this.options.align&&(i.left-=this.picker.outerWidth()-t.outerWidth()),this.picker.css({top:i.top+t.outerHeight(),left:i.left})},show:function(t){if(this.isDisabled())return!1;this.picker.addClass("colorpicker-visible").removeClass("colorpicker-hidden"),this.reposition(),e(window).on("resize.colorpicker",e.proxy(this.reposition,this)),!t||this.hasInput()&&"color"!==this.input.attr("type")||t.stopPropagation&&t.preventDefault&&(t.stopPropagation(),t.preventDefault()),!this.component&&this.input||!1!==this.options.inline||e(window.document).on({"mousedown.colorpicker":e.proxy(this.hide,this)}),this.element.trigger({type:"showPicker",color:this.color})},hide:function(){this.picker.addClass("colorpicker-hidden").removeClass("colorpicker-visible"),e(window).off("resize.colorpicker",this.reposition),e(document).off({"mousedown.colorpicker":this.hide}),this.update(),this.element.trigger({type:"hidePicker",color:this.color})},updateData:function(e){return e=e||this.color.toString(this.format),this.element.data("color",e),e},updateInput:function(e){if(e=e||this.color.toString(this.format),!1!==this.input){if(this.options.colorSelectors){var i=new t(e,this.options.colorSelectors).toAlias();void 0!==this.options.colorSelectors[i]&&(e=i)}this.input.prop("value",e)}return e},updatePicker:function(e){void 0!==e&&(this.color=new t(e,this.options.colorSelectors));var i=!1===this.options.horizontal?this.options.sliders:this.options.slidersHorz,s=this.picker.find("i");if(0!==s.length)return!1===this.options.horizontal?(i=this.options.sliders,s.eq(1).css("top",i.hue.maxTop*(1-this.color.value.h)).end().eq(2).css("top",i.alpha.maxTop*(1-this.color.value.a))):(i=this.options.slidersHorz,s.eq(1).css("left",i.hue.maxLeft*(1-this.color.value.h)).end().eq(2).css("left",i.alpha.maxLeft*(1-this.color.value.a))),s.eq(0).css({top:i.saturation.maxTop-this.color.value.b*i.saturation.maxTop,left:this.color.value.s*i.saturation.maxLeft}),this.picker.find(".colorpicker-saturation").css("backgroundColor",this.color.toHex(this.color.value.h,1,1,1)),this.picker.find(".colorpicker-alpha").css("backgroundColor",this.color.toHex()),this.picker.find(".colorpicker-color, .colorpicker-color div").css("backgroundColor",this.color.toString(this.format)),e},updateComponent:function(e){if(e=e||this.color.toString(this.format),!1!==this.component){var t=this.component.find("i").eq(0);t.length>0?t.css({backgroundColor:e}):this.component.css({backgroundColor:e})}return e},update:function(e){var t;return!1===this.getValue(!1)&&!0!==e||(t=this.updateComponent(),this.updateInput(t),this.updateData(t),this.updatePicker()),t},setValue:function(e){this.color=new t(e,this.options.colorSelectors),this.update(!0),this.element.trigger({type:"changeColor",color:this.color,value:e})},getValue:function(e){var t;return e=void 0===e?"#000000":e,void 0!==(t=this.hasInput()?this.input.val():this.element.data("color"))&&""!==t&&null!==t||(t=e),t},hasInput:function(){return!1!==this.input},isDisabled:function(){return!!this.hasInput()&&!0===this.input.prop("disabled")},disable:function(){return!!this.hasInput()&&(this.input.prop("disabled",!0),this.element.trigger({type:"disable",color:this.color,value:this.getValue()}),!0)},enable:function(){return!!this.hasInput()&&(this.input.prop("disabled",!1),this.element.trigger({type:"enable",color:this.color,value:this.getValue()}),!0)},currentSlider:null,mousePointer:{left:0,top:0},mousedown:function(t){!t.pageX&&!t.pageY&&t.originalEvent&&t.originalEvent.touches&&(t.pageX=t.originalEvent.touches[0].pageX,t.pageY=t.originalEvent.touches[0].pageY),t.stopPropagation(),t.preventDefault();var i=e(t.target).closest("div"),s=this.options.horizontal?this.options.slidersHorz:this.options.sliders;if(!i.is(".colorpicker")){if(i.is(".colorpicker-saturation"))this.currentSlider=e.extend({},s.saturation);else if(i.is(".colorpicker-hue"))this.currentSlider=e.extend({},s.hue);else{if(!i.is(".colorpicker-alpha"))return!1;this.currentSlider=e.extend({},s.alpha)}var r=i.offset();this.currentSlider.guide=i.find("i")[0].style,this.currentSlider.left=t.pageX-r.left,this.currentSlider.top=t.pageY-r.top,this.mousePointer={left:t.pageX,top:t.pageY},e(document).on({"mousemove.colorpicker":e.proxy(this.mousemove,this),"touchmove.colorpicker":e.proxy(this.mousemove,this),"mouseup.colorpicker":e.proxy(this.mouseup,this),"touchend.colorpicker":e.proxy(this.mouseup,this)}).trigger("mousemove")}return!1},mousemove:function(e){!e.pageX&&!e.pageY&&e.originalEvent&&e.originalEvent.touches&&(e.pageX=e.originalEvent.touches[0].pageX,e.pageY=e.originalEvent.touches[0].pageY),e.stopPropagation(),e.preventDefault();var t=Math.max(0,Math.min(this.currentSlider.maxLeft,this.currentSlider.left+((e.pageX||this.mousePointer.left)-this.mousePointer.left))),i=Math.max(0,Math.min(this.currentSlider.maxTop,this.currentSlider.top+((e.pageY||this.mousePointer.top)-this.mousePointer.top)));return this.currentSlider.guide.left=t+"px",this.currentSlider.guide.top=i+"px",this.currentSlider.callLeft&&this.color[this.currentSlider.callLeft].call(this.color,t/this.currentSlider.maxLeft),this.currentSlider.callTop&&this.color[this.currentSlider.callTop].call(this.color,i/this.currentSlider.maxTop),"setAlpha"===this.currentSlider.callTop&&!1===this.options.format&&(1!==this.color.value.a?(this.format="rgba",this.color.origFormat="rgba"):(this.format="hex",this.color.origFormat="hex")),this.update(!0),this.element.trigger({type:"changeColor",color:this.color}),!1},mouseup:function(t){return t.stopPropagation(),t.preventDefault(),e(document).off({"mousemove.colorpicker":this.mousemove,"touchmove.colorpicker":this.mousemove,"mouseup.colorpicker":this.mouseup,"touchend.colorpicker":this.mouseup}),!1},change:function(e){this.keyup(e)},keyup:function(e){38===e.keyCode?(this.color.value.a<1&&(this.color.value.a=Math.round(100*(this.color.value.a+.01))/100),this.update(!0)):40===e.keyCode?(this.color.value.a>0&&(this.color.value.a=Math.round(100*(this.color.value.a-.01))/100),this.update(!0)):(this.color=new t(this.input.val(),this.options.colorSelectors),this.color.origFormat&&!1===this.options.format&&(this.format=this.color.origFormat),!1!==this.getValue(!1)&&(this.updateData(),this.updateComponent(),this.updatePicker())),this.element.trigger({type:"changeColor",color:this.color,value:this.input.val()})}},e.colorpicker=s,e.fn.colorpicker=function(t){var i=arguments,r=null,n=this.each(function(){var n=e(this),a=n.data("colorpicker"),o="object"==typeof t?t:{};a||"string"==typeof t?"string"==typeof t&&(r=a[t].apply(a,Array.prototype.slice.call(i,1))):n.data("colorpicker",new s(this,o))});return"getValue"===t?r:n},e.fn.colorpicker.constructor=s})},pZLM:function(e,t,i){var s,r,n;!function(a){"use strict";r=[i("7t+N")],void 0===(n="function"==typeof(s=a)?s.apply(t,r):s)||(e.exports=n)}(function(e,t){"use strict";if(!e.jstree){var i=0,s=!1,r=!1,n=!1,a=[],o=e("script:last").attr("src"),d=window.document;e.jstree={version:"3.3.5",defaults:{plugins:[]},plugins:{},path:o&&-1!==o.indexOf("/")?o.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},e.jstree.create=function(t,s){var r=new e.jstree.core(++i),n=s;return s=e.extend(!0,{},e.jstree.defaults,s),n&&n.plugins&&(s.plugins=n.plugins),e.each(s.plugins,function(e,t){"core"!==e&&(r=r.plugin(t,s[t]))}),e(t).data("jstree",r),r.init(t,s),r},e.jstree.destroy=function(){e(".jstree:jstree").jstree("destroy"),e(d).off(".jstree")},e.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},e.jstree.reference=function(t){var i=null,s=null;if(!t||!t.id||t.tagName&&t.nodeType||(t=t.id),!s||!s.length)try{s=e(t)}catch(e){}if(!s||!s.length)try{s=e("#"+t.replace(e.jstree.idregex,"\\$&"))}catch(e){}return s&&s.length&&(s=s.closest(".jstree")).length&&(s=s.data("jstree"))?i=s:e(".jstree").each(function(){var s=e(this).data("jstree");if(s&&s._model.data[t])return i=s,!1}),i},e.fn.jstree=function(i){var s="string"==typeof i,r=Array.prototype.slice.call(arguments,1),n=null;return!(!0===i&&!this.length)&&(this.each(function(){var a=e.jstree.reference(this),o=s&&a?a[i]:null;if(n=s&&o?o.apply(a,r):null,a||s||i!==t&&!e.isPlainObject(i)||e.jstree.create(this,i),(a&&!s||!0===i)&&(n=a||!1),null!==n&&n!==t)return!1}),null!==n&&n!==t?n:this)},e.expr.pseudos.jstree=e.expr.createPseudo(function(i){return function(i){return e(i).hasClass("jstree")&&e(i).data("jstree")!==t}}),e.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:e.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0,loaded_state:!1,restore_focus:!0,keyboard:{"ctrl-space":function(t){t.type="click",e(t.currentTarget).trigger(t)},enter:function(t){t.type="click",e(t.currentTarget).trigger(t)},left:function(t){if(t.preventDefault(),this.is_open(t.currentTarget))this.close_node(t.currentTarget);else{var i=this.get_parent(t.currentTarget);i&&i.id!==e.jstree.root&&this.get_node(i,!0).children(".jstree-anchor").focus()}},up:function(e){e.preventDefault();var t=this.get_prev_dom(e.currentTarget);t&&t.length&&t.children(".jstree-anchor").focus()},right:function(t){if(t.preventDefault(),this.is_closed(t.currentTarget))this.open_node(t.currentTarget,function(e){this.get_node(e,!0).children(".jstree-anchor").focus()});else if(this.is_open(t.currentTarget)){var i=this.get_node(t.currentTarget,!0).children(".jstree-children")[0];i&&e(this._firstChild(i)).children(".jstree-anchor").focus()}},down:function(e){e.preventDefault();var t=this.get_next_dom(e.currentTarget);t&&t.length&&t.children(".jstree-anchor").focus()},"*":function(e){this.open_all()},home:function(t){t.preventDefault();var i=this._firstChild(this.get_container_ul()[0]);i&&e(i).children(".jstree-anchor").filter(":visible").focus()},end:function(e){e.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().focus()},f2:function(e){e.preventDefault(),this.edit(e.currentTarget)}}},e.jstree.core.prototype={plugin:function(t,i){var s=e.jstree.plugins[t];return s?(this._data[t]={},s.prototype=this,new s(i,this)):this},init:function(t,i){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=e(t).addClass("jstree jstree-"+this._id),this.settings=i,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='tree-item'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().outerHeight()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(e.jstree.root)},destroy:function(e){if(this.trigger("destroy"),this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(e){}e||this.element.empty(),this.teardown()},_create_prototype_node:function(){var e,t,i=d.createElement("LI");return i.setAttribute("role","treeitem"),(e=d.createElement("I")).className="jstree-icon jstree-ocl",e.setAttribute("role","presentation"),i.appendChild(e),(e=d.createElement("A")).className="jstree-anchor",e.setAttribute("href","#"),e.setAttribute("tabindex","-1"),(t=d.createElement("I")).className="jstree-icon jstree-themeicon",t.setAttribute("role","presentation"),e.appendChild(t),i.appendChild(e),e=t=null,i},_kbevent_to_func:function(e){var t=[];e.ctrlKey&&t.push("ctrl"),e.altKey&&t.push("alt"),e.shiftKey&&t.push("shift"),t.push({8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock",16:"Shift",17:"Ctrl",18:"Alt",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*",173:"-"}[e.which]||e.which),t=t.sort().join("-").toLowerCase();var i,s,r=this.settings.core.keyboard;for(i in r)if(r.hasOwnProperty(i)&&("-"!==(s=i)&&"+"!==s&&(s=(s=s.replace("--","-MINUS").replace("+-","-MINUS").replace("++","-PLUS").replace("-+","-PLUS")).split(/-|\+/).sort().join("-").replace("MINUS","-").replace("PLUS","+").toLowerCase()),s===t))return r[i];return null},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){var t="",i=null,s=0;this.element.on("dblclick.jstree",function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;if(d.selection&&d.selection.empty)d.selection.empty();else if(window.getSelection){var t=window.getSelection();try{t.removeAllRanges(),t.collapse()}catch(e){}}}).on("mousedown.jstree",e.proxy(function(e){e.target===this.element[0]&&(e.preventDefault(),s=+new Date)},this)).on("mousedown.jstree",".jstree-ocl",function(e){e.preventDefault()}).on("click.jstree",".jstree-ocl",e.proxy(function(e){this.toggle_node(e.target)},this)).on("dblclick.jstree",".jstree-anchor",e.proxy(function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this.settings.core.dblclick_toggle&&this.toggle_node(e.target)},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){t.preventDefault(),t.currentTarget!==d.activeElement&&e(t.currentTarget).focus(),this.activate_node(t.currentTarget,t)},this)).on("keydown.jstree",".jstree-anchor",e.proxy(function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this._data.core.rtl&&(37===e.which?e.which=39:39===e.which&&(e.which=37));var t=this._kbevent_to_func(e);if(t){var i=t.call(this,e);if(!1===i||!0===i)return i}},this)).on("load_node.jstree",e.proxy(function(t,i){i.status&&(i.node.id!==e.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(e.proxy(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var t,i,s=[];for(t=0,i=this._data.core.selected.length;t<i;t++)s=s.concat(this._model.data[this._data.core.selected[t]].parents);for(t=0,i=(s=e.vakata.array_unique(s)).length;t<i;t++)this.open_node(s[t],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}},this),0))},this)).on("keypress.jstree",e.proxy(function(s){if(s.target.tagName&&"input"===s.target.tagName.toLowerCase())return!0;i&&clearTimeout(i),i=setTimeout(function(){t=""},500);var r=String.fromCharCode(s.which).toLowerCase(),n=this.element.find(".jstree-anchor").filter(":visible"),a=n.index(d.activeElement)||0,o=!1;if((t+=r).length>1){if(n.slice(a).each(e.proxy(function(i,s){if(0===e(s).text().toLowerCase().indexOf(t))return e(s).focus(),o=!0,!1},this)),o)return;if(n.slice(0,a).each(e.proxy(function(i,s){if(0===e(s).text().toLowerCase().indexOf(t))return e(s).focus(),o=!0,!1},this)),o)return}if(new RegExp("^"+r.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(t)){if(n.slice(a+1).each(e.proxy(function(t,i){if(e(i).text().toLowerCase().charAt(0)===r)return e(i).focus(),o=!0,!1},this)),o)return;if(n.slice(0,a+1).each(e.proxy(function(t,i){if(e(i).text().toLowerCase().charAt(0)===r)return e(i).focus(),o=!0,!1},this)),o)return}},this)).on("init.jstree",e.proxy(function(){var e=this.settings.core.themes;this._data.core.themes.dots=e.dots,this._data.core.themes.stripes=e.stripes,this._data.core.themes.icons=e.icons,this._data.core.themes.ellipsis=e.ellipsis,this.set_theme(e.name||"default",e.url),this.set_theme_variant(e.variant)},this)).on("loading.jstree",e.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()},this)).on("blur.jstree",".jstree-anchor",e.proxy(function(t){this._data.core.focused=null,e(t.currentTarget).filter(".jstree-hovered").mouseleave(),this.element.attr("tabindex","0")},this)).on("focus.jstree",".jstree-anchor",e.proxy(function(t){var i=this.get_node(t.currentTarget);i&&i.id&&(this._data.core.focused=i.id),this.element.find(".jstree-hovered").not(t.currentTarget).mouseleave(),e(t.currentTarget).mouseenter(),this.element.attr("tabindex","-1")},this)).on("focus.jstree",e.proxy(function(){if(+new Date-s>500&&!this._data.core.focused&&this.settings.core.restore_focus){s=0;var e=this.get_node(this.element.attr("aria-activedescendant"),!0);e&&e.find("> .jstree-anchor").focus()}},this)).on("mouseenter.jstree",".jstree-anchor",e.proxy(function(e){this.hover_node(e.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},unbind:function(){this.element.off(".jstree"),e(d).off(".jstree-"+this._id)},trigger:function(e,t){t||(t={}),t.instance=this,this.element.triggerHandler(e.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(t){var i=this.settings.core.strings;return e.isFunction(i)?i.call(this,t):i&&i[t]?i[t]:t},_firstChild:function(e){for(e=e?e.firstChild:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_nextSibling:function(e){for(e=e?e.nextSibling:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_previousSibling:function(e){for(e=e?e.previousSibling:null;null!==e&&1!==e.nodeType;)e=e.previousSibling;return e},get_node:function(t,i){var s;t&&t.id&&(t=t.id);try{if(this._model.data[t])t=this._model.data[t];else if("string"==typeof t&&this._model.data[t.replace(/^#/,"")])t=this._model.data[t.replace(/^#/,"")];else if("string"==typeof t&&(s=e("#"+t.replace(e.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[s.closest(".jstree-node").attr("id")])t=this._model.data[s.closest(".jstree-node").attr("id")];else if((s=e(t,this.element)).length&&this._model.data[s.closest(".jstree-node").attr("id")])t=this._model.data[s.closest(".jstree-node").attr("id")];else{if(!(s=e(t,this.element)).length||!s.hasClass("jstree"))return!1;t=this._model.data[e.jstree.root]}return i&&(t=t.id===e.jstree.root?this.element:e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)),t}catch(e){return!1}},get_path:function(t,i,s){if(!(t=t.parents?t:this.get_node(t))||t.id===e.jstree.root||!t.parents)return!1;var r,n,a=[];for(a.push(s?t.id:t.text),r=0,n=t.parents.length;r<n;r++)a.push(s?t.parents[r]:this.get_text(t.parents[r]));return a=a.reverse().slice(1),i?a.join(i):a},get_next_dom:function(t,i){var s;if((t=this.get_node(t,!0))[0]===this.element[0]){for(s=this._firstChild(this.get_container_ul()[0]);s&&0===s.offsetHeight;)s=this._nextSibling(s);return!!s&&e(s)}if(!t||!t.length)return!1;if(i){s=t[0];do{s=this._nextSibling(s)}while(s&&0===s.offsetHeight);return!!s&&e(s)}if(t.hasClass("jstree-open")){for(s=this._firstChild(t.children(".jstree-children")[0]);s&&0===s.offsetHeight;)s=this._nextSibling(s);if(null!==s)return e(s)}s=t[0];do{s=this._nextSibling(s)}while(s&&0===s.offsetHeight);return null!==s?e(s):t.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(t,i){var s;if((t=this.get_node(t,!0))[0]===this.element[0]){for(s=this.get_container_ul()[0].lastChild;s&&0===s.offsetHeight;)s=this._previousSibling(s);return!!s&&e(s)}if(!t||!t.length)return!1;if(i){s=t[0];do{s=this._previousSibling(s)}while(s&&0===s.offsetHeight);return!!s&&e(s)}s=t[0];do{s=this._previousSibling(s)}while(s&&0===s.offsetHeight);if(null!==s){for(t=e(s);t.hasClass("jstree-open");)t=t.children(".jstree-children").first().children(".jstree-node:visible:last");return t}return!(!(s=t[0].parentNode.parentNode)||!s.className||-1===s.className.indexOf("jstree-node"))&&e(s)},get_parent:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.parent},get_children_dom:function(e){return(e=this.get_node(e,!0))[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!e||!e.length)&&e.children(".jstree-children").children(".jstree-node")},is_parent:function(e){return(e=this.get_node(e))&&(!1===e.state.loaded||e.children.length>0)},is_loaded:function(e){return(e=this.get_node(e))&&e.state.loaded},is_loading:function(e){return(e=this.get_node(e))&&e.state&&e.state.loading},is_open:function(e){return(e=this.get_node(e))&&e.state.opened},is_closed:function(e){return(e=this.get_node(e))&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(t,i){var s,r,n,a,o;if(e.isArray(t))return this._load_nodes(t.slice(),i),!0;if(!(t=this.get_node(t)))return i&&i.call(this,t,!1),!1;if(t.state.loaded){for(t.state.loaded=!1,n=0,a=t.parents.length;n<a;n++)this._model.data[t.parents[n]].children_d=e.vakata.array_filter(this._model.data[t.parents[n]].children_d,function(i){return-1===e.inArray(i,t.children_d)});for(s=0,r=t.children_d.length;s<r;s++)this._model.data[t.children_d[s]].state.selected&&(o=!0),delete this._model.data[t.children_d[s]];o&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(i){return-1===e.inArray(i,t.children_d)})),t.children=[],t.children_d=[],o&&this.trigger("changed",{action:"load_node",node:t,selected:this._data.core.selected})}return t.state.failed=!1,t.state.loading=!0,this.get_node(t,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(t,e.proxy(function(e){(t=this._model.data[t.id]).state.loading=!1,t.state.loaded=e,t.state.failed=!t.state.loaded;var s,r=this.get_node(t,!0),n=0,a=this._model.data,o=!1;for(n=0,s=t.children.length;n<s;n++)if(a[t.children[n]]&&!a[t.children[n]].state.hidden){o=!0;break}t.state.loaded&&r&&r.length&&(r.removeClass("jstree-closed jstree-open jstree-leaf"),o?"#"!==t.id&&r.addClass(t.state.opened?"jstree-open":"jstree-closed"):r.addClass("jstree-leaf")),r.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:t,status:e}),i&&i.call(this,t,e)},this)),!0},_load_nodes:function(e,t,i,s){var r,n,a=!0,o=function(){this._load_nodes(e,t,!0)},d=this._model.data,l=[];for(r=0,n=e.length;r<n;r++)d[e[r]]&&(!d[e[r]].state.loaded&&!d[e[r]].state.failed||!i&&s)&&(this.is_loading(e[r])||this.load_node(e[r],o),a=!1);if(a){for(r=0,n=e.length;r<n;r++)d[e[r]]&&d[e[r]].state.loaded&&l.push(e[r]);t&&!t.done&&(t.call(this,l),t.done=!0)}},load_all:function(t,i){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var s,r,n=[],a=this._model.data,o=a[t.id].children_d;for(t.state&&!t.state.loaded&&n.push(t.id),s=0,r=o.length;s<r;s++)a[o[s]]&&a[o[s]].state&&!a[o[s]].state.loaded&&n.push(o[s]);n.length?this._load_nodes(n,function(){this.load_all(t,i)}):(i&&i.call(this,t),this.trigger("load_all",{node:t}))},_load_node:function(t,i){var s,r=this.settings.core.data,n=function(){return 3!==this.nodeType&&8!==this.nodeType};return r?e.isFunction(r)?r.call(this,t,e.proxy(function(s){!1===s?i.call(this,!1):this["string"==typeof s?"_append_html_data":"_append_json_data"](t,"string"==typeof s?e(e.parseHTML(s)).filter(n):s,function(e){i.call(this,e)})},this)):"object"==typeof r?r.url?(r=e.extend(!0,{},r),e.isFunction(r.url)&&(r.url=r.url.call(this,t)),e.isFunction(r.data)&&(r.data=r.data.call(this,t)),e.ajax(r).done(e.proxy(function(s,r,a){var o=a.getResponseHeader("Content-Type");return o&&-1!==o.indexOf("json")||"object"==typeof s?this._append_json_data(t,s,function(e){i.call(this,e)}):o&&-1!==o.indexOf("html")||"string"==typeof s?this._append_html_data(t,e(e.parseHTML(s)).filter(n),function(e){i.call(this,e)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:a})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1))},this)).fail(e.proxy(function(e){this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:e})},i.call(this,!1),this.settings.core.error.call(this,this._data.core.last_error)},this))):(s=e.isArray(r)?e.extend(!0,[],r):e.isPlainObject(r)?e.extend(!0,{},r):r,t.id===e.jstree.root?this._append_json_data(t,s,function(e){i.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1))):"string"==typeof r?t.id===e.jstree.root?this._append_html_data(t,e(e.parseHTML(r)).filter(n),function(e){i.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1)):i.call(this,!1):t.id===e.jstree.root?this._append_html_data(t,this._data.core.original_container_html.clone(!0),function(e){i.call(this,e)}):i.call(this,!1)},_node_changed:function(t){(t=this.get_node(t))&&-1===e.inArray(t.id,this._model.changed)&&this._model.changed.push(t.id)},_append_html_data:function(t,i,s){(t=this.get_node(t)).children=[],t.children_d=[];var r,n,a,o=i.is("ul")?i.children():i,d=t.id,l=[],c=[],h=this._model.data,u=h[d],p=this._data.core.selected.length;for(o.each(e.proxy(function(t,i){(r=this._parse_model_from_html(e(i),d,u.parents.concat()))&&(l.push(r),c.push(r),h[r].children_d.length&&(c=c.concat(h[r].children_d)))},this)),u.children=l,u.children_d=c,n=0,a=u.parents.length;n<a;n++)h[u.parents[n]].children_d=h[u.parents[n]].children_d.concat(c);this.trigger("model",{nodes:c,parent:d}),d!==e.jstree.root?(this._node_changed(d),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==p&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),s.call(this,!0)},_append_json_data:function(t,i,s,r){if(null!==this.element){(t=this.get_node(t)).children=[],t.children_d=[],i.d&&"string"==typeof(i=i.d)&&(i=JSON.parse(i)),e.isArray(i)||(i=[i]);var n=null,a={df:this._model.default_state,dat:i,par:t.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},o=function(e,t){e.data&&(e=e.data);var i,s,r,n,a=e.dat,o=e.par,d=[],l=[],c=[],h=e.df,u=e.t_id,p=e.t_cnt,f=e.m,g=f[o],m=e.sel,_=function(e,i,s){s=s?s.concat():[],i&&s.unshift(i);var r,n,a,o,d=e.id.toString(),l={id:d,text:e.text||"",icon:e.icon===t||e.icon,parent:i,parents:s,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(r in h)h.hasOwnProperty(r)&&(l.state[r]=h[r]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),l.icon!==t&&null!==l.icon&&""!==l.icon||(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(l.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(l.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(l.li_attr[r]=e.li_attr[r]);if(l.li_attr.id||(l.li_attr.id=d),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(l.a_attr[r]=e.a_attr[r]);for(e&&e.children&&!0===e.children&&(l.state.loaded=!1,l.children=[],l.children_d=[]),f[l.id]=l,r=0,n=l.children.length;r<n;r++)a=_(f[l.children[r]],l.id,s),o=f[a],l.children_d.push(a),o.children_d.length&&(l.children_d=l.children_d.concat(o.children_d));return delete e.data,delete e.children,f[l.id].original=e,l.state.selected&&c.push(l.id),l.id},v=function(e,i,s){s=s?s.concat():[],i&&s.unshift(i);var r,n,a,o,d,l=!1;do{l="j"+u+"_"+ ++p}while(f[l]);for(r in d={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:i,parents:s,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},h)h.hasOwnProperty(r)&&(d.state[r]=h[r]);if(e&&e.id&&(d.id=e.id.toString()),e&&e.text&&(d.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(d.icon=e.data.jstree.icon),d.icon!==t&&null!==d.icon&&""!==d.icon||(d.icon=!0),e&&e.data&&(d.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(d.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(d.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(d.li_attr[r]=e.li_attr[r]);if(d.li_attr.id&&!d.id&&(d.id=d.li_attr.id.toString()),d.id||(d.id=l),d.li_attr.id||(d.li_attr.id=d.id),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(d.a_attr[r]=e.a_attr[r]);if(e&&e.children&&e.children.length){for(r=0,n=e.children.length;r<n;r++)a=v(e.children[r],d.id,s),o=f[a],d.children.push(a),o.children_d.length&&(d.children_d=d.children_d.concat(o.children_d));d.children_d=d.children_d.concat(d.children)}return e&&e.children&&!0===e.children&&(d.state.loaded=!1,d.children=[],d.children_d=[]),delete e.data,delete e.children,d.original=e,f[d.id]=d,d.state.selected&&c.push(d.id),d.id};if(a.length&&a[0].id!==t&&a[0].parent!==t){for(s=0,r=a.length;s<r;s++)a[s].children||(a[s].children=[]),a[s].state||(a[s].state={}),f[a[s].id.toString()]=a[s];for(s=0,r=a.length;s<r;s++)f[a[s].parent.toString()]?(f[a[s].parent.toString()].children.push(a[s].id.toString()),g.children_d.push(a[s].id.toString())):(this._data.core.last_error={error:"parse",plugin:"core",id:"core_07",reason:"Node with invalid parent",data:JSON.stringify({id:a[s].id.toString(),parent:a[s].parent.toString()})},this.settings.core.error.call(this,this._data.core.last_error));for(s=0,r=g.children.length;s<r;s++)i=_(f[g.children[s]],o,g.parents.concat()),l.push(i),f[i].children_d.length&&(l=l.concat(f[i].children_d));for(s=0,r=g.parents.length;s<r;s++)f[g.parents[s]].children_d=f[g.parents[s]].children_d.concat(l);n={cnt:p,mod:f,sel:m,par:o,dpc:l,add:c}}else{for(s=0,r=a.length;s<r;s++)(i=v(a[s],o,g.parents.concat()))&&(d.push(i),l.push(i),f[i].children_d.length&&(l=l.concat(f[i].children_d)));for(g.children=d,g.children_d=l,s=0,r=g.parents.length;s<r;s++)f[g.parents[s]].children_d=f[g.parents[s]].children_d.concat(l);n={cnt:p,mod:f,sel:m,par:o,dpc:l,add:c}}if("undefined"!=typeof window&&void 0!==window.document)return n;postMessage(n)},d=function(t,i){if(null!==this.element){this._cnt=t.cnt;var r,n=this._model.data;for(r in n)n.hasOwnProperty(r)&&n[r].state&&n[r].state.loading&&t.mod[r]&&(t.mod[r].state.loading=!0);if(this._model.data=t.mod,i){var a,o=t.add,d=t.sel,l=this._data.core.selected.slice();if(n=this._model.data,d.length!==l.length||e.vakata.array_unique(d.concat(l)).length!==d.length){for(r=0,a=d.length;r<a;r++)-1===e.inArray(d[r],o)&&-1===e.inArray(d[r],l)&&(n[d[r]].state.selected=!1);for(r=0,a=l.length;r<a;r++)-1===e.inArray(l[r],d)&&(n[l[r]].state.selected=!0)}}t.add.length&&(this._data.core.selected=this._data.core.selected.concat(t.add)),this.trigger("model",{nodes:t.dpc,parent:t.par}),t.par!==e.jstree.root?(this._node_changed(t.par),this.redraw()):this.redraw(!0),t.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),s.call(this,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+o.toString()],{type:"text/javascript"}))),!this._data.core.working||r?(this._data.core.working=!0,(n=new window.Worker(this._wrk)).onmessage=e.proxy(function(e){d.call(this,e.data,!0);try{n.terminate(),n=null}catch(e){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1},this),a.par?n.postMessage(a):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([t,i,s,!0])}catch(e){d.call(this,o(a),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else d.call(this,o(a),!1)}},_parse_model_from_html:function(i,s,r){r=r?[].concat(r):[],s&&r.unshift(s);var n,a,o,d,l,c=this._model.data,h={id:!1,text:!1,icon:!0,parent:s,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(o in this._model.default_state)this._model.default_state.hasOwnProperty(o)&&(h.state[o]=this._model.default_state[o]);if(d=e.vakata.attributes(i,!0),e.each(d,function(t,i){if(!(i=e.trim(i)).length)return!0;h.li_attr[t]=i,"id"===t&&(h.id=i.toString())}),(d=i.children("a").first()).length&&(d=e.vakata.attributes(d,!0),e.each(d,function(t,i){(i=e.trim(i)).length&&(h.a_attr[t]=i)})),(d=i.children("a").first().length?i.children("a").first().clone():i.clone()).children("ins, i, ul").remove(),d=d.html(),d=e("<div />").html(d),h.text=this.settings.core.force_text?d.text():d.html(),d=i.data(),h.data=d?e.extend(!0,{},d):null,h.state.opened=i.hasClass("jstree-open"),h.state.selected=i.children("a").hasClass("jstree-clicked"),h.state.disabled=i.children("a").hasClass("jstree-disabled"),h.data&&h.data.jstree)for(o in h.data.jstree)h.data.jstree.hasOwnProperty(o)&&(h.state[o]=h.data.jstree[o]);(d=i.children("a").children(".jstree-themeicon")).length&&(h.icon=!d.hasClass("jstree-themeicon-hidden")&&d.attr("rel")),h.state.icon!==t&&(h.icon=h.state.icon),h.icon!==t&&null!==h.icon&&""!==h.icon||(h.icon=!0),d=i.children("ul").children("li");do{l="j"+this._id+"_"+ ++this._cnt}while(c[l]);return h.id=h.li_attr.id?h.li_attr.id.toString():l,d.length?(d.each(e.proxy(function(t,i){n=this._parse_model_from_html(e(i),h.id,r),a=this._model.data[n],h.children.push(n),a.children_d.length&&(h.children_d=h.children_d.concat(a.children_d))},this)),h.children_d=h.children_d.concat(h.children)):i.hasClass("jstree-closed")&&(h.state.loaded=!1),h.li_attr.class&&(h.li_attr.class=h.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),h.a_attr.class&&(h.a_attr.class=h.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),c[h.id]=h,h.state.selected&&this._data.core.selected.push(h.id),h.id},_parse_model_from_flat_json:function(e,i,s){s=s?s.concat():[],i&&s.unshift(i);var r,n,a,o,d=e.id.toString(),l=this._model.data,c=this._model.default_state,h={id:d,text:e.text||"",icon:e.icon===t||e.icon,parent:i,parents:s,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(r in c)c.hasOwnProperty(r)&&(h.state[r]=c[r]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(h.icon=e.data.jstree.icon),h.icon!==t&&null!==h.icon&&""!==h.icon||(h.icon=!0),e&&e.data&&(h.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(h.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(h.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(h.li_attr[r]=e.li_attr[r]);if(h.li_attr.id||(h.li_attr.id=d),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(h.a_attr[r]=e.a_attr[r]);for(e&&e.children&&!0===e.children&&(h.state.loaded=!1,h.children=[],h.children_d=[]),l[h.id]=h,r=0,n=h.children.length;r<n;r++)o=l[a=this._parse_model_from_flat_json(l[h.children[r]],h.id,s)],h.children_d.push(a),o.children_d.length&&(h.children_d=h.children_d.concat(o.children_d));return delete e.data,delete e.children,l[h.id].original=e,h.state.selected&&this._data.core.selected.push(h.id),h.id},_parse_model_from_json:function(e,i,s){s=s?s.concat():[],i&&s.unshift(i);var r,n,a,o,d,l=!1,c=this._model.data,h=this._model.default_state;do{l="j"+this._id+"_"+ ++this._cnt}while(c[l]);for(r in d={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:i,parents:s,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},h)h.hasOwnProperty(r)&&(d.state[r]=h[r]);if(e&&e.id&&(d.id=e.id.toString()),e&&e.text&&(d.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(d.icon=e.data.jstree.icon),d.icon!==t&&null!==d.icon&&""!==d.icon||(d.icon=!0),e&&e.data&&(d.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(d.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(d.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(d.li_attr[r]=e.li_attr[r]);if(d.li_attr.id&&!d.id&&(d.id=d.li_attr.id.toString()),d.id||(d.id=l),d.li_attr.id||(d.li_attr.id=d.id),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(d.a_attr[r]=e.a_attr[r]);if(e&&e.children&&e.children.length){for(r=0,n=e.children.length;r<n;r++)o=c[a=this._parse_model_from_json(e.children[r],d.id,s)],d.children.push(a),o.children_d.length&&(d.children_d=d.children_d.concat(o.children_d));d.children_d=d.children_d.concat(d.children)}return e&&e.children&&!0===e.children&&(d.state.loaded=!1,d.children=[],d.children_d=[]),delete e.data,delete e.children,d.original=e,c[d.id]=d,d.state.selected&&this._data.core.selected.push(d.id),d.id},_redraw:function(){var t,i,s,r=this._model.force_full_redraw?this._model.data[e.jstree.root].children.concat([]):this._model.changed.concat([]),n=d.createElement("UL"),a=this._data.core.focused;for(i=0,s=r.length;i<s;i++)(t=this.redraw_node(r[i],!0,this._model.force_full_redraw))&&this._model.force_full_redraw&&n.appendChild(t);this._model.force_full_redraw&&(n.className=this.get_container_ul()[0].className,n.setAttribute("role","group"),this.element.empty().append(n)),null!==a&&((t=this.get_node(a,!0))&&t.length&&t.children(".jstree-anchor")[0]!==d.activeElement?t.children(".jstree-anchor").focus():this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:r})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(t){var i=this.get_node(t),s=!1,r=!1,n=!1,a=d;if(!i)return!1;if(i.id===e.jstree.root)return this.redraw(!0);if(!(t=this.get_node(t,!0))||!t.length)return!1;if(t.children(".jstree-children").remove(),t=t[0],i.children.length&&i.state.loaded){for((n=a.createElement("UL")).setAttribute("role","group"),n.className="jstree-children",s=0,r=i.children.length;s<r;s++)n.appendChild(this.redraw_node(i.children[s],!0,!0));t.appendChild(n)}},redraw_node:function(t,i,s,r){var n=this.get_node(t),a=!1,o=!1,l=!1,c=!1,h=!1,u=!1,p="",f=d,g=this._model.data,m=!1,_=null,v=0,b=0,y=!1,k=!1;if(!n)return!1;if(n.id===e.jstree.root)return this.redraw(!0);if(i=i||0===n.children.length,t=d.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(n.id[0])?"\\3"+n.id[0]+" "+n.id.substr(1).replace(e.jstree.idregex,"\\$&"):n.id.replace(e.jstree.idregex,"\\$&"))):d.getElementById(n.id))t=e(t),s||((a=t.parent().parent()[0])===this.element[0]&&(a=null),o=t.index()),i||!n.children.length||t.children(".jstree-children").length||(i=!0),i||(l=t.children(".jstree-children")[0]),m=t.children(".jstree-anchor")[0]===d.activeElement,t.remove();else if(i=!0,!s){if(!(null===(a=n.parent!==e.jstree.root?e("#"+n.parent.replace(e.jstree.idregex,"\\$&"),this.element)[0]:null)||a&&g[n.parent].state.opened))return!1;o=e.inArray(n.id,null===a?g[e.jstree.root].children:g[n.parent].children)}for(c in t=this._data.core.node.cloneNode(!0),p="jstree-node ",n.li_attr)if(n.li_attr.hasOwnProperty(c)){if("id"===c)continue;"class"!==c?t.setAttribute(c,n.li_attr[c]):p+=n.li_attr[c]}for(n.a_attr.id||(n.a_attr.id=n.id+"_anchor"),t.setAttribute("aria-selected",!!n.state.selected),t.setAttribute("aria-level",n.parents.length),t.setAttribute("aria-labelledby",n.a_attr.id),n.state.disabled&&t.setAttribute("aria-disabled",!0),c=0,h=n.children.length;c<h;c++)if(!g[n.children[c]].state.hidden){y=!0;break}if(null!==n.parent&&g[n.parent]&&!n.state.hidden&&(c=e.inArray(n.id,g[n.parent].children),k=n.id,-1!==c))for(c++,h=g[n.parent].children.length;c<h&&(g[g[n.parent].children[c]].state.hidden||(k=g[n.parent].children[c]),k===n.id);c++);for(h in n.state.hidden&&(p+=" jstree-hidden"),n.state.loading&&(p+=" jstree-loading"),n.state.loaded&&!y?p+=" jstree-leaf":(p+=n.state.opened&&n.state.loaded?" jstree-open":" jstree-closed",t.setAttribute("aria-expanded",n.state.opened&&n.state.loaded)),k===n.id&&(p+=" jstree-last"),t.id=n.id,t.className=p,p=(n.state.selected?" jstree-clicked":"")+(n.state.disabled?" jstree-disabled":""),n.a_attr)if(n.a_attr.hasOwnProperty(h)){if("href"===h&&"#"===n.a_attr[h])continue;"class"!==h?t.childNodes[1].setAttribute(h,n.a_attr[h]):p+=" "+n.a_attr[h]}if(p.length&&(t.childNodes[1].className="jstree-anchor "+p),(n.icon&&!0!==n.icon||!1===n.icon)&&(!1===n.icon?t.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===n.icon.indexOf("/")&&-1===n.icon.indexOf(".")?t.childNodes[1].childNodes[0].className+=" "+n.icon+" jstree-themeicon-custom":(t.childNodes[1].childNodes[0].style.backgroundImage='url("'+n.icon+'")',t.childNodes[1].childNodes[0].style.backgroundPosition="center center",t.childNodes[1].childNodes[0].style.backgroundSize="auto",t.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?t.childNodes[1].appendChild(f.createTextNode(n.text)):t.childNodes[1].innerHTML+=n.text,i&&n.children.length&&(n.state.opened||r)&&n.state.loaded){for((u=f.createElement("UL")).setAttribute("role","group"),u.className="jstree-children",c=0,h=n.children.length;c<h;c++)u.appendChild(this.redraw_node(n.children[c],i,!0));t.appendChild(u)}if(l&&t.appendChild(l),!s){for(a||(a=this.element[0]),c=0,h=a.childNodes.length;c<h;c++)if(a.childNodes[c]&&a.childNodes[c].className&&-1!==a.childNodes[c].className.indexOf("jstree-children")){_=a.childNodes[c];break}_||((_=f.createElement("UL")).setAttribute("role","group"),_.className="jstree-children",a.appendChild(_)),o<(a=_).childNodes.length?a.insertBefore(t,a.childNodes[o]):a.appendChild(t),m&&(v=this.element[0].scrollTop,b=this.element[0].scrollLeft,t.childNodes[1].focus(),this.element[0].scrollTop=v,this.element[0].scrollLeft=b)}return n.state.opened&&!n.state.loaded&&(n.state.opened=!1,setTimeout(e.proxy(function(){this.open_node(n.id,!1,0)},this),0)),t},open_node:function(i,s,r){var n,a,o,d;if(e.isArray(i)){for(n=0,a=(i=i.slice()).length;n<a;n++)this.open_node(i[n],s,r);return!0}return!(!(i=this.get_node(i))||i.id===e.jstree.root)&&(r=r===t?this.settings.core.animation:r,this.is_closed(i)?this.is_loaded(i)?(o=this.get_node(i,!0),d=this,o.length&&(r&&o.children(".jstree-children").length&&o.children(".jstree-children").stop(!0,!0),i.children.length&&!this._firstChild(o.children(".jstree-children")[0])&&this.draw_children(i),r?(this.trigger("before_open",{node:i}),o.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(r,function(){this.style.display="",d.element&&d.trigger("after_open",{node:i})})):(this.trigger("before_open",{node:i}),o[0].className=o[0].className.replace("jstree-closed","jstree-open"),o[0].setAttribute("aria-expanded",!0))),i.state.opened=!0,s&&s.call(this,i,!0),o.length||this.trigger("before_open",{node:i}),this.trigger("open_node",{node:i}),r&&o.length||this.trigger("after_open",{node:i}),!0):this.is_loading(i)?setTimeout(e.proxy(function(){this.open_node(i,s,r)},this),500):void this.load_node(i,function(e,t){return t?this.open_node(e,s,r):!!s&&s.call(this,e,!1)}):(s&&s.call(this,i,!1),!1))},_open_to:function(t){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var i,s,r=t.parents;for(i=0,s=r.length;i<s;i+=1)i!==e.jstree.root&&this.open_node(r[i],!1,0);return e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)},close_node:function(i,s){var r,n,a,o;if(e.isArray(i)){for(r=0,n=(i=i.slice()).length;r<n;r++)this.close_node(i[r],s);return!0}return!(!(i=this.get_node(i))||i.id===e.jstree.root)&&(!this.is_closed(i)&&(s=s===t?this.settings.core.animation:s,a=this,o=this.get_node(i,!0),i.state.opened=!1,this.trigger("close_node",{node:i}),void(o.length?s?o.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(s,function(){this.style.display="",o.children(".jstree-children").remove(),a.element&&a.trigger("after_close",{node:i})}):(o[0].className=o[0].className.replace("jstree-open","jstree-closed"),o.attr("aria-expanded",!1).children(".jstree-children").remove(),this.trigger("after_close",{node:i})):this.trigger("after_close",{node:i}))))},toggle_node:function(t){var i,s;if(e.isArray(t)){for(i=0,s=(t=t.slice()).length;i<s;i++)this.toggle_node(t[i]);return!0}return this.is_closed(t)?this.open_node(t):this.is_open(t)?this.close_node(t):void 0},open_all:function(t,i,s){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var r,n,a,o=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0);if(!o.length){for(r=0,n=t.children_d.length;r<n;r++)this.is_closed(this._model.data[t.children_d[r]])&&(this._model.data[t.children_d[r]].state.opened=!0);return this.trigger("open_all",{node:t})}s=s||o,a=this,(o=this.is_closed(t)?o.find(".jstree-closed").addBack():o.find(".jstree-closed")).each(function(){a.open_node(this,function(e,t){t&&this.is_parent(e)&&this.open_all(e,i,s)},i||0)}),0===s.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(s)})},close_all:function(t,i){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var s,r,n=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0),a=this;for(n.length&&(n=this.is_open(t)?n.find(".jstree-open").addBack():n.find(".jstree-open"),e(n.get().reverse()).each(function(){a.close_node(this,i||0)})),s=0,r=t.children_d.length;s<r;s++)this._model.data[t.children_d[s]].state.opened=!1;this.trigger("close_all",{node:t})},is_disabled:function(e){return(e=this.get_node(e))&&e.state&&e.state.disabled},enable_node:function(t){var i,s;if(e.isArray(t)){for(i=0,s=(t=t.slice()).length;i<s;i++)this.enable_node(t[i]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.disabled=!1,this.get_node(t,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),this.trigger("enable_node",{node:t})},disable_node:function(t){var i,s;if(e.isArray(t)){for(i=0,s=(t=t.slice()).length;i<s;i++)this.disable_node(t[i]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.disabled=!0,this.get_node(t,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),this.trigger("disable_node",{node:t})},is_hidden:function(e){return!0===(e=this.get_node(e)).state.hidden},hide_node:function(t,i){var s,r;if(e.isArray(t)){for(s=0,r=(t=t.slice()).length;s<r;s++)this.hide_node(t[s],!0);return i||this.redraw(),!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.hidden||(t.state.hidden=!0,this._node_changed(t.parent),i||this.redraw(),this.trigger("hide_node",{node:t}))},show_node:function(t,i){var s,r;if(e.isArray(t)){for(s=0,r=(t=t.slice()).length;s<r;s++)this.show_node(t[s],!0);return i||this.redraw(),!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.hidden&&(t.state.hidden=!1,this._node_changed(t.parent),i||this.redraw(),this.trigger("show_node",{node:t}))},hide_all:function(t){var i,s=this._model.data,r=[];for(i in s)s.hasOwnProperty(i)&&i!==e.jstree.root&&!s[i].state.hidden&&(s[i].state.hidden=!0,r.push(i));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("hide_all",{nodes:r}),r},show_all:function(t){var i,s=this._model.data,r=[];for(i in s)s.hasOwnProperty(i)&&i!==e.jstree.root&&s[i].state.hidden&&(s[i].state.hidden=!1,r.push(i));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("show_all",{nodes:r}),r},activate_node:function(e,i){if(this.is_disabled(e))return!1;if(i&&"object"==typeof i||(i={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==t?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(i.metaKey||i.ctrlKey||i.shiftKey)&&(!i.shiftKey||this._data.core.last_clicked&&this.get_parent(e)&&this.get_parent(e)===this._data.core.last_clicked.parent))if(i.shiftKey){var s,r,n=this.get_node(e).id,a=this._data.core.last_clicked.id,o=this.get_node(this._data.core.last_clicked.parent).children,d=!1;for(s=0,r=o.length;s<r;s+=1)o[s]===n&&(d=!d),o[s]===a&&(d=!d),this.is_disabled(o[s])||!d&&o[s]!==n&&o[s]!==a?this.deselect_node(o[s],!0,i):this.is_hidden(o[s])||this.select_node(o[s],!0,!1,i);this.trigger("changed",{action:"select_node",node:this.get_node(e),selected:this._data.core.selected,event:i})}else this.is_selected(e)?this.deselect_node(e,!1,i):this.select_node(e,!1,!1,i);else!this.settings.core.multiple&&(i.metaKey||i.ctrlKey||i.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,i):(this.deselect_all(!0),this.select_node(e,!1,!1,i),this._data.core.last_clicked=this.get_node(e));this.trigger("activate_node",{node:this.get_node(e),event:i})},hover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||e.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),i=this.element;t&&t.length&&this.dehover_node(t),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout(function(){i.attr("aria-activedescendant",e[0].id)},0)},dehover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||!e.children(".jstree-hovered").length)return!1;e.children(".jstree-anchor").removeClass("jstree-hovered"),this.trigger("dehover_node",{node:this.get_node(e)})},select_node:function(t,i,s,r){var n,a,o;if(e.isArray(t)){for(a=0,o=(t=t.slice()).length;a<o;a++)this.select_node(t[a],i,s,r);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;n=this.get_node(t,!0),t.state.selected||(t.state.selected=!0,this._data.core.selected.push(t.id),s||(n=this._open_to(t)),n&&n.length&&n.attr("aria-selected",!0).children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:t,selected:this._data.core.selected,event:r}),i||this.trigger("changed",{action:"select_node",node:t,selected:this._data.core.selected,event:r}))},deselect_node:function(t,i,s){var r,n,a;if(e.isArray(t)){for(r=0,n=(t=t.slice()).length;r<n;r++)this.deselect_node(t[r],i,s);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;a=this.get_node(t,!0),t.state.selected&&(t.state.selected=!1,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,t.id),a.length&&a.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:t,selected:this._data.core.selected,event:s}),i||this.trigger("changed",{action:"deselect_node",node:t,selected:this._data.core.selected,event:s}))},select_all:function(t){var i,s,r=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data[e.jstree.root].children_d.concat(),i=0,s=this._data.core.selected.length;i<s;i++)this._model.data[this._data.core.selected[i]]&&(this._model.data[this._data.core.selected[i]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),t||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:r})},deselect_all:function(e){var t,i,s=this._data.core.selected.concat([]);for(t=0,i=this._data.core.selected.length;t<i;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").parent().attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:s}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:s})},is_selected:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.state.selected},get_selected:function(t){return t?e.map(this._data.core.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.core.selected.slice()},get_top_selected:function(t){var i,s,r,n,a=this.get_selected(!0),o={};for(i=0,s=a.length;i<s;i++)o[a[i].id]=a[i];for(i=0,s=a.length;i<s;i++)for(r=0,n=a[i].children_d.length;r<n;r++)o[a[i].children_d[r]]&&delete o[a[i].children_d[r]];for(i in a=[],o)o.hasOwnProperty(i)&&a.push(i);return t?e.map(a,e.proxy(function(e){return this.get_node(e)},this)):a},get_bottom_selected:function(t){var i,s,r=this.get_selected(!0),n=[];for(i=0,s=r.length;i<s;i++)r[i].children.length||n.push(r[i].id);return t?e.map(n,e.proxy(function(e){return this.get_node(e)},this)):n},get_state:function(){var t,i={core:{open:[],loaded:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}};for(t in this._model.data)this._model.data.hasOwnProperty(t)&&t!==e.jstree.root&&(this._model.data[t].state.loaded&&this.settings.core.loaded_state&&i.core.loaded.push(t),this._model.data[t].state.opened&&i.core.open.push(t),this._model.data[t].state.selected&&i.core.selected.push(t));return i},set_state:function(i,s){if(i){if(i.core&&i.core.selected&&i.core.initial_selection===t&&(i.core.initial_selection=this._data.core.selected.concat([]).sort().join(",")),i.core){var r,n;if(i.core.loaded)return this.settings.core.loaded_state&&e.isArray(i.core.loaded)&&i.core.loaded.length?this._load_nodes(i.core.loaded,function(e){delete i.core.loaded,this.set_state(i,s)}):(delete i.core.loaded,this.set_state(i,s)),!1;if(i.core.open)return e.isArray(i.core.open)&&i.core.open.length?this._load_nodes(i.core.open,function(e){this.open_node(e,!1,0),delete i.core.open,this.set_state(i,s)}):(delete i.core.open,this.set_state(i,s)),!1;if(i.core.scroll)return i.core.scroll&&i.core.scroll.left!==t&&this.element.scrollLeft(i.core.scroll.left),i.core.scroll&&i.core.scroll.top!==t&&this.element.scrollTop(i.core.scroll.top),delete i.core.scroll,this.set_state(i,s),!1;if(i.core.selected)return r=this,i.core.initial_selection!==t&&i.core.initial_selection!==this._data.core.selected.concat([]).sort().join(",")||(this.deselect_all(),e.each(i.core.selected,function(e,t){r.select_node(t,!1,!0)})),delete i.core.initial_selection,delete i.core.selected,this.set_state(i,s),!1;for(n in i)i.hasOwnProperty(n)&&"core"!==n&&-1===e.inArray(n,this.settings.plugins)&&delete i[n];if(e.isEmptyObject(i.core))return delete i.core,this.set_state(i,s),!1}return!e.isEmptyObject(i)||(i=null,s&&s.call(this),this.trigger("set_state"),!1)}return!1},refresh:function(t,i){this._data.core.state=!0===i?{}:this.get_state(),i&&e.isFunction(i)&&(this._data.core.state=i.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var s=this.get_container_ul()[0].className;t||(this.element.html("<ul class='"+s+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='treeitem' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(e.jstree.root,function(t,i){i&&(this.get_container_ul()[0].className=s,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(e.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(t){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var i=[],s=[],r=this._data.core.selected.concat([]);s.push(t.id),!0===t.state.opened&&i.push(t.id),this.get_node(t,!0).find(".jstree-open").each(function(){s.push(this.id),i.push(this.id)}),this._load_nodes(s,e.proxy(function(e){this.open_node(i,!1,0),this.select_node(r),this.trigger("refresh_node",{node:t,nodes:e})},this),!1,!0)},set_id:function(t,i){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var s,r,n=this._model.data,a=t.id;for(i=i.toString(),n[t.parent].children[e.inArray(t.id,n[t.parent].children)]=i,s=0,r=t.parents.length;s<r;s++)n[t.parents[s]].children_d[e.inArray(t.id,n[t.parents[s]].children_d)]=i;for(s=0,r=t.children.length;s<r;s++)n[t.children[s]].parent=i;for(s=0,r=t.children_d.length;s<r;s++)n[t.children_d[s]].parents[e.inArray(t.id,n[t.children_d[s]].parents)]=i;return-1!==(s=e.inArray(t.id,this._data.core.selected))&&(this._data.core.selected[s]=i),(s=this.get_node(t.id,!0))&&(s.attr("id",i),this.element.attr("aria-activedescendant")===t.id&&this.element.attr("aria-activedescendant",i)),delete n[t.id],t.id=i,t.li_attr.id=i,n[i]=t,this.trigger("set_id",{node:t,new:t.id,old:a}),!0},get_text:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.text},set_text:function(t,i){var s,r;if(e.isArray(t)){for(s=0,r=(t=t.slice()).length;s<r;s++)this.set_text(t[s],i);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(t.text=i,this.get_node(t,!0).length&&this.redraw_node(t.id),this.trigger("set_text",{obj:t,text:i}),!0)},get_json:function(t,i,s){if(!(t=this.get_node(t||e.jstree.root)))return!1;i&&i.flat&&!s&&(s=[]);var r,n,a={id:t.id,text:t.text,icon:this.get_icon(t),li_attr:e.extend(!0,{},t.li_attr),a_attr:e.extend(!0,{},t.a_attr),state:{},data:(!i||!i.no_data)&&e.extend(!0,e.isArray(t.data)?[]:{},t.data)};if(i&&i.flat?a.parent=t.parent:a.children=[],i&&i.no_state)delete a.state;else for(r in t.state)t.state.hasOwnProperty(r)&&(a.state[r]=t.state[r]);if(i&&i.no_li_attr&&delete a.li_attr,i&&i.no_a_attr&&delete a.a_attr,i&&i.no_id&&(delete a.id,a.li_attr&&a.li_attr.id&&delete a.li_attr.id,a.a_attr&&a.a_attr.id&&delete a.a_attr.id),i&&i.flat&&t.id!==e.jstree.root&&s.push(a),!i||!i.no_children)for(r=0,n=t.children.length;r<n;r++)i&&i.flat?this.get_json(t.children[r],i,s):a.children.push(this.get_json(t.children[r],i));return i&&i.flat?s:t.id===e.jstree.root?a.children:a},create_node:function(i,s,r,n,a){if(null===i&&(i=e.jstree.root),!(i=this.get_node(i)))return!1;if(!(r=r===t?"last":r).toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(i))return this.load_node(i,function(){this.create_node(i,s,r,n,!0)});var o,d,l,c;switch(s||(s={text:this.get_string("New node")}),(s="string"==typeof s?{text:s}:e.extend(!0,{},s)).text===t&&(s.text=this.get_string("New node")),i.id===e.jstree.root&&("before"===r&&(r="first"),"after"===r&&(r="last")),r){case"before":o=this.get_node(i.parent),r=e.inArray(i.id,o.children),i=o;break;case"after":o=this.get_node(i.parent),r=e.inArray(i.id,o.children)+1,i=o;break;case"inside":case"first":r=0;break;case"last":r=i.children.length;break;default:r||(r=0)}if(r>i.children.length&&(r=i.children.length),s.id||(s.id=!0),!this.check("create_node",s,i,r))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!0===s.id&&delete s.id,!(s=this._parse_model_from_json(s,i.id,i.parents.concat())))return!1;for(o=this.get_node(s),(d=[]).push(s),d=d.concat(o.children_d),this.trigger("model",{nodes:d,parent:i.id}),i.children_d=i.children_d.concat(d),l=0,c=i.parents.length;l<c;l++)this._model.data[i.parents[l]].children_d=this._model.data[i.parents[l]].children_d.concat(d);for(s=o,o=[],l=0,c=i.children.length;l<c;l++)o[l>=r?l+1:l]=i.children[l];return o[r]=s.id,i.children=o,this.redraw_node(i,!0),this.trigger("create_node",{node:this.get_node(s),parent:i.id,position:r}),n&&n.call(this,this.get_node(s)),s.id},rename_node:function(t,i){var s,r,n;if(e.isArray(t)){for(s=0,r=(t=t.slice()).length;s<r;s++)this.rename_node(t[s],i);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(n=t.text,this.check("rename_node",t,this.get_parent(t),i)?(this.set_text(t,i),this.trigger("rename_node",{node:t,text:i,old:n}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1))},delete_node:function(t){var i,s,r,n,a,o,d,l,c,h,u,p;if(e.isArray(t)){for(i=0,s=(t=t.slice()).length;i<s;i++)this.delete_node(t[i]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;if(r=this.get_node(t.parent),n=e.inArray(t.id,r.children),h=!1,!this.check("delete_node",t,r,n))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==n&&(r.children=e.vakata.array_remove(r.children,n)),(a=t.children_d.concat([])).push(t.id),o=0,d=t.parents.length;o<d;o++)this._model.data[t.parents[o]].children_d=e.vakata.array_filter(this._model.data[t.parents[o]].children_d,function(t){return-1===e.inArray(t,a)});for(l=0,c=a.length;l<c;l++)if(this._model.data[a[l]].state.selected){h=!0;break}for(h&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(t){return-1===e.inArray(t,a)})),this.trigger("delete_node",{node:t,parent:r.id}),h&&this.trigger("changed",{action:"delete_node",node:t,selected:this._data.core.selected,parent:r.id}),l=0,c=a.length;l<c;l++)delete this._model.data[a[l]];return-1!==e.inArray(this._data.core.focused,a)&&(this._data.core.focused=null,u=this.element[0].scrollTop,p=this.element[0].scrollLeft,r.id===e.jstree.root?this._model.data[e.jstree.root].children[0]&&this.get_node(this._model.data[e.jstree.root].children[0],!0).children(".jstree-anchor").focus():this.get_node(r,!0).children(".jstree-anchor").focus(),this.element[0].scrollTop=u,this.element[0].scrollLeft=p),this.redraw_node(r,!0),!0},check:function(t,i,s,r,n){i=i&&i.id?i:this.get_node(i),s=s&&s.id?s:this.get_node(s);var a=t.match(/^move_node|copy_node|create_node$/i)?s:i,o=this.settings.core.check_callback;return"move_node"!==t&&"copy_node"!==t||n&&n.is_multi||i.id!==s.id&&("move_node"!==t||e.inArray(i.id,s.children)!==r)&&-1===e.inArray(s.id,i.children_d)?(a&&a.data&&(a=a.data),a&&a.functions&&(!1===a.functions[t]||!0===a.functions[t])?(!1===a.functions[t]&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+t,data:JSON.stringify({chk:t,pos:r,obj:!(!i||!i.id)&&i.id,par:!(!s||!s.id)&&s.id})}),a.functions[t]):!(!1===o||e.isFunction(o)&&!1===o.call(this,t,i,s,r,n)||o&&!1===o[t])||(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+t,data:JSON.stringify({chk:t,pos:r,obj:!(!i||!i.id)&&i.id,par:!(!s||!s.id)&&s.id})},!1)):(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:t,pos:r,obj:!(!i||!i.id)&&i.id,par:!(!s||!s.id)&&s.id})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(i,s,r,n,a,o,d){var l,c,h,u,p,f,g,m,_,v,b,y,k,x;if(s=this.get_node(s),r=r===t?0:r,!s)return!1;if(!r.toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(s))return this.load_node(s,function(){this.move_node(i,s,r,n,!0,!1,d)});if(e.isArray(i)){if(1!==i.length){for(l=0,c=i.length;l<c;l++)(_=this.move_node(i[l],s,r,n,a,!1,d))&&(s=_,r="after");return this.redraw(),!0}i=i[0]}if(!(i=i&&i.id?i:this.get_node(i))||i.id===e.jstree.root)return!1;if(h=(i.parent||e.jstree.root).toString(),p=r.toString().match(/^(before|after)$/)&&s.id!==e.jstree.root?this.get_node(s.parent):s,g=!(f=d||(this._model.data[i.id]?this:e.jstree.reference(i.id)))||!f._id||this._id!==f._id,u=f&&f._id&&h&&f._model.data[h]&&f._model.data[h].children?e.inArray(i.id,f._model.data[h].children):-1,f&&f._id&&(i=f._model.data[i.id]),g)return!!(_=this.copy_node(i,s,r,n,a,!1,d))&&(f&&f.delete_node(i),_);switch(s.id===e.jstree.root&&("before"===r&&(r="first"),"after"===r&&(r="last")),r){case"before":r=e.inArray(s.id,p.children);break;case"after":r=e.inArray(s.id,p.children)+1;break;case"inside":case"first":r=0;break;case"last":r=p.children.length;break;default:r||(r=0)}if(r>p.children.length&&(r=p.children.length),!this.check("move_node",i,p,r,{core:!0,origin:d,is_multi:f&&f._id&&f._id!==this._id,is_foreign:!f||!f._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(i.parent===p.id){for(m=p.children.concat(),-1!==(_=e.inArray(i.id,m))&&(m=e.vakata.array_remove(m,_),r>_&&r--),_=[],v=0,b=m.length;v<b;v++)_[v>=r?v+1:v]=m[v];_[r]=i.id,p.children=_,this._node_changed(p.id),this.redraw(p.id===e.jstree.root)}else{for((_=i.children_d.concat()).push(i.id),v=0,b=i.parents.length;v<b;v++){for(m=[],y=0,k=(x=f._model.data[i.parents[v]].children_d).length;y<k;y++)-1===e.inArray(x[y],_)&&m.push(x[y]);f._model.data[i.parents[v]].children_d=m}for(f._model.data[h].children=e.vakata.array_remove_item(f._model.data[h].children,i.id),v=0,b=p.parents.length;v<b;v++)this._model.data[p.parents[v]].children_d=this._model.data[p.parents[v]].children_d.concat(_);for(m=[],v=0,b=p.children.length;v<b;v++)m[v>=r?v+1:v]=p.children[v];for(m[r]=i.id,p.children=m,p.children_d.push(i.id),p.children_d=p.children_d.concat(i.children_d),i.parent=p.id,(_=p.parents.concat()).unshift(p.id),x=i.parents.length,i.parents=_,_=_.concat(),v=0,b=i.children_d.length;v<b;v++)this._model.data[i.children_d[v]].parents=this._model.data[i.children_d[v]].parents.slice(0,-1*x),Array.prototype.push.apply(this._model.data[i.children_d[v]].parents,_);h!==e.jstree.root&&p.id!==e.jstree.root||(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(h),this._node_changed(p.id)),o||this.redraw()}return n&&n.call(this,i,p,r),this.trigger("move_node",{node:i,parent:p.id,position:r,old_parent:h,old_position:u,is_multi:f&&f._id&&f._id!==this._id,is_foreign:!f||!f._id,old_instance:f,new_instance:this}),i.id},copy_node:function(i,s,r,n,a,o,d){var l,c,h,u,p,f,g,m,_,v;if(s=this.get_node(s),r=r===t?0:r,!s)return!1;if(!r.toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(s))return this.load_node(s,function(){this.copy_node(i,s,r,n,!0,!1,d)});if(e.isArray(i)){if(1!==i.length){for(l=0,c=i.length;l<c;l++)(u=this.copy_node(i[l],s,r,n,a,!0,d))&&(s=u,r="after");return this.redraw(),!0}i=i[0]}if(!(i=i&&i.id?i:this.get_node(i))||i.id===e.jstree.root)return!1;switch(m=(i.parent||e.jstree.root).toString(),_=r.toString().match(/^(before|after)$/)&&s.id!==e.jstree.root?this.get_node(s.parent):s,!(v=d||(this._model.data[i.id]?this:e.jstree.reference(i.id)))||!v._id||this._id!==v._id,v&&v._id&&(i=v._model.data[i.id]),s.id===e.jstree.root&&("before"===r&&(r="first"),"after"===r&&(r="last")),r){case"before":r=e.inArray(s.id,_.children);break;case"after":r=e.inArray(s.id,_.children)+1;break;case"inside":case"first":r=0;break;case"last":r=_.children.length;break;default:r||(r=0)}if(r>_.children.length&&(r=_.children.length),!this.check("copy_node",i,_,r,{core:!0,origin:d,is_multi:v&&v._id&&v._id!==this._id,is_foreign:!v||!v._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!(g=v?v.get_json(i,{no_id:!0,no_data:!0,no_state:!0}):i))return!1;if(!0===g.id&&delete g.id,!(g=this._parse_model_from_json(g,_.id,_.parents.concat())))return!1;for(u=this.get_node(g),i&&i.state&&!1===i.state.loaded&&(u.state.loaded=!1),(h=[]).push(g),h=h.concat(u.children_d),this.trigger("model",{nodes:h,parent:_.id}),p=0,f=_.parents.length;p<f;p++)this._model.data[_.parents[p]].children_d=this._model.data[_.parents[p]].children_d.concat(h);for(h=[],p=0,f=_.children.length;p<f;p++)h[p>=r?p+1:p]=_.children[p];return h[r]=u.id,_.children=h,_.children_d.push(u.id),_.children_d=_.children_d.concat(u.children_d),_.id===e.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(_.id),o||this.redraw(_.id===e.jstree.root),n&&n.call(this,u,_,r),this.trigger("copy_node",{node:u,original:i,parent:_.id,position:r,old_parent:m,old_position:v&&v._id&&m&&v._model.data[m]&&v._model.data[m].children?e.inArray(i.id,v._model.data[m].children):-1,is_multi:v&&v._id&&v._id!==this._id,is_foreign:!v||!v._id,old_instance:v,new_instance:this}),u.id},cut:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var i,a,o,d=[];for(a=0,o=t.length;a<o;a++)(i=this.get_node(t[a]))&&i.id&&i.id!==e.jstree.root&&d.push(i);if(!d.length)return!1;s=d,n=this,r="move_node",this.trigger("cut",{node:t})},copy:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var i,a,o,d=[];for(a=0,o=t.length;a<o;a++)(i=this.get_node(t[a]))&&i.id&&i.id!==e.jstree.root&&d.push(i);if(!d.length)return!1;s=d,n=this,r="copy_node",this.trigger("copy",{node:t})},get_buffer:function(){return{mode:r,node:s,inst:n}},can_paste:function(){return!1!==r&&!1!==s},paste:function(e,t){if(!((e=this.get_node(e))&&r&&r.match(/^(copy_node|move_node)$/)&&s))return!1;this[r](s,e,t,!1,!1,!1,n)&&this.trigger("paste",{parent:e.id,node:s,mode:r}),s=!1,r=!1,n=!1},clear_buffer:function(){s=!1,r=!1,n=!1,this.trigger("clear_buffer")},edit:function(t,i,s){var r,n,a,o,l,c,h,u,p,f=!1;return!!(t=this.get_node(t))&&(this.check("edit",t,this.get_parent(t))?(p=t,i="string"==typeof i?i:t.text,this.set_text(t,""),t=this._open_to(t),p.text=i,r=this._data.core.rtl,n=this.element.width(),this._data.core.focused=p.id,a=t.children(".jstree-anchor").focus(),o=e("<span>"),l=i,c=e("<div />",{css:{position:"absolute",top:"-200px",left:r?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),h=e("<input />",{value:l,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:e.proxy(function(i){i.stopImmediatePropagation(),i.preventDefault();var r,n=o.children(".jstree-rename-input").val(),d=this.settings.core.force_text;""===n&&(n=l),c.remove(),o.replaceWith(a),o.remove(),l=d?l:e("<div></div>").append(e.parseHTML(l)).html(),this.set_text(t,l),(r=!!this.rename_node(t,d?e("<div></div>").text(n).text():e("<div></div>").append(e.parseHTML(n)).html()))||this.set_text(t,l),this._data.core.focused=p.id,setTimeout(e.proxy(function(){var e=this.get_node(p.id,!0);e.length&&(this._data.core.focused=p.id,e.children(".jstree-anchor").focus())},this),0),s&&s.call(this,p,r,f),h=null},this),keydown:function(e){var t=e.which;27===t&&(f=!0,this.value=l),27!==t&&13!==t&&37!==t&&38!==t&&39!==t&&40!==t&&32!==t||e.stopImmediatePropagation(),27!==t&&13!==t||(e.preventDefault(),this.blur())},click:function(e){e.stopImmediatePropagation()},mousedown:function(e){e.stopImmediatePropagation()},keyup:function(e){h.width(Math.min(c.text("pW"+this.value).width(),n))},keypress:function(e){if(13===e.which)return!1}}),u={fontFamily:a.css("fontFamily")||"",fontSize:a.css("fontSize")||"",fontWeight:a.css("fontWeight")||"",fontStyle:a.css("fontStyle")||"",fontStretch:a.css("fontStretch")||"",fontVariant:a.css("fontVariant")||"",letterSpacing:a.css("letterSpacing")||"",wordSpacing:a.css("wordSpacing")||""},o.attr("class",a.attr("class")).append(a.contents().clone()).append(h),a.replaceWith(o),c.css(u),h.css(u).width(Math.min(c.text("pW"+h[0].value).width(),n))[0].select(),void e(d).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(t){h&&t.target!==h&&e(h).blur()})):(this.settings.core.error.call(this,this._data.core.last_error),!1))},set_theme:function(t,i){if(!t)return!1;if(!0===i){var s=this.settings.core.themes.dir;s||(s=e.jstree.path+"/themes"),i=s+"/"+t+"/style.css"}i&&-1===e.inArray(i,a)&&(e("head").append('<link rel="stylesheet" href="'+i+'" type="text/css" />'),a.push(i)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=t,this.element.addClass("jstree-"+t),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+t+"-responsive"),this.trigger("set_theme",{theme:t})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=e,e&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(i,s){var r,n,a,o;if(e.isArray(i)){for(r=0,n=(i=i.slice()).length;r<n;r++)this.set_icon(i[r],s);return!0}return!(!(i=this.get_node(i))||i.id===e.jstree.root)&&(o=i.icon,i.icon=!0===s||null===s||s===t||""===s||s,a=this.get_node(i,!0).children(".jstree-anchor").children(".jstree-themeicon"),!1===s?(a.removeClass("jstree-themeicon-custom "+o).css("background","").removeAttr("rel"),this.hide_icon(i)):!0===s||null===s||s===t||""===s?(a.removeClass("jstree-themeicon-custom "+o).css("background","").removeAttr("rel"),!1===o&&this.show_icon(i)):-1===s.indexOf("/")&&-1===s.indexOf(".")?(a.removeClass(o).css("background",""),a.addClass(s+" jstree-themeicon-custom").attr("rel",s),!1===o&&this.show_icon(i)):(a.removeClass(o).css("background",""),a.addClass("jstree-themeicon-custom").css("background","url('"+s+"') center center no-repeat").attr("rel",s),!1===o&&this.show_icon(i)),!0)},get_icon:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.icon},hide_icon:function(t){var i,s;if(e.isArray(t)){for(i=0,s=(t=t.slice()).length;i<s;i++)this.hide_icon(t[i]);return!0}return!(!(t=this.get_node(t))||t===e.jstree.root)&&(t.icon=!1,this.get_node(t,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0)},show_icon:function(t){var i,s,r;if(e.isArray(t)){for(i=0,s=(t=t.slice()).length;i<s;i++)this.show_icon(t[i]);return!0}return!(!(t=this.get_node(t))||t===e.jstree.root)&&(r=this.get_node(t,!0),t.icon=!r.length||r.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),t.icon||(t.icon=!0),r.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0)}},e.vakata={},e.vakata.attributes=function(t,i){t=e(t)[0];var s=i?{}:[];return t&&t.attributes&&e.each(t.attributes,function(t,r){-1===e.inArray(r.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==r.value&&""!==e.trim(r.value)&&(i?s[r.name]=r.value:s.push(r.name))}),s},e.vakata.array_unique=function(e){var i,s,r=[],n={};for(i=0,s=e.length;i<s;i++)n[e[i]]===t&&(r.push(e[i]),n[e[i]]=!0);return r},e.vakata.array_remove=function(e,t){return e.splice(t,1),e},e.vakata.array_remove_item=function(t,i){var s=e.inArray(i,t);return-1!==s?e.vakata.array_remove(t,s):t},e.vakata.array_filter=function(e,t,i,s,r){if(e.filter)return e.filter(t,i);for(r in s=[],e)~~r+""==r+""&&r>=0&&t.call(i,e[r],+r,e)&&s.push(e[r]);return s},e.jstree.plugins.changed=function(e,t){var i=[];this.trigger=function(e,s){var r,n;if(s||(s={}),"changed"===e.replace(".jstree","")){s.changed={selected:[],deselected:[]};var a={};for(r=0,n=i.length;r<n;r++)a[i[r]]=1;for(r=0,n=s.selected.length;r<n;r++)a[s.selected[r]]?a[s.selected[r]]=2:s.changed.selected.push(s.selected[r]);for(r=0,n=i.length;r<n;r++)1===a[i[r]]&&s.changed.deselected.push(i[r]);i=s.selected.slice()}t.trigger.call(this,e,s)},this.refresh=function(e,s){return i=[],t.refresh.apply(this,arguments)}};var l,c,h=d.createElement("I");h.className="jstree-icon jstree-checkbox",h.setAttribute("role","presentation"),e.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0,cascade_to_disabled:!0,cascade_to_hidden:!0},e.jstree.plugins.checkbox=function(i,s){this.bind=function(){s.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",e.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")},this)).on("loading.jstree",e.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",e.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)},this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",e.proxy(function(e,t){var i,s,r=this._model.data,n=(r[t.parent],t.nodes);for(i=0,s=n.length;i<s;i++)r[n[i]].state.checked=r[n[i]].state.checked||r[n[i]].original&&r[n[i]].original.state&&r[n[i]].original.state.checked,r[n[i]].state.checked&&this._data.checkbox.selected.push(n[i])},this)),-1===this.settings.checkbox.cascade.indexOf("up")&&-1===this.settings.checkbox.cascade.indexOf("down")||this.element.on("model.jstree",e.proxy(function(t,i){var s,r,n,a,o,d,l=this._model.data,c=l[i.parent],h=i.nodes,u=[],p=this.settings.checkbox.cascade,f=this.settings.checkbox.tie_selection;if(-1!==p.indexOf("down"))if(c.state[f?"selected":"checked"]){for(r=0,n=h.length;r<n;r++)l[h[r]].state[f?"selected":"checked"]=!0;this._data[f?"core":"checkbox"].selected=this._data[f?"core":"checkbox"].selected.concat(h)}else for(r=0,n=h.length;r<n;r++)if(l[h[r]].state[f?"selected":"checked"]){for(a=0,o=l[h[r]].children_d.length;a<o;a++)l[l[h[r]].children_d[a]].state[f?"selected":"checked"]=!0;this._data[f?"core":"checkbox"].selected=this._data[f?"core":"checkbox"].selected.concat(l[h[r]].children_d)}if(-1!==p.indexOf("up")){for(r=0,n=c.children_d.length;r<n;r++)l[c.children_d[r]].children.length||u.push(l[c.children_d[r]].parent);for(a=0,o=(u=e.vakata.array_unique(u)).length;a<o;a++)for(c=l[u[a]];c&&c.id!==e.jstree.root;){for(s=0,r=0,n=c.children.length;r<n;r++)s+=l[c.children[r]].state[f?"selected":"checked"];if(s!==n)break;c.state[f?"selected":"checked"]=!0,this._data[f?"core":"checkbox"].selected.push(c.id),(d=this.get_node(c,!0))&&d.length&&d.attr("aria-selected",!0).children(".jstree-anchor").addClass(f?"jstree-clicked":"jstree-checked"),c=this.get_node(c.parent)}}this._data[f?"core":"checkbox"].selected=e.vakata.array_unique(this._data[f?"core":"checkbox"].selected)},this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",e.proxy(function(t,i){var s,r,n,a,o=i.node,d=this._model.data,l=this.get_node(o.parent),c=this.settings.checkbox.cascade,h=this.settings.checkbox.tie_selection,u={},p=this._data[h?"core":"checkbox"].selected;for(s=0,r=p.length;s<r;s++)u[p[s]]=!0;if(-1!==c.indexOf("down")){var f=this._cascade_new_checked_state(o.id,!0),g=o.children_d.concat(o.id);for(s=0,r=g.length;s<r;s++)f.indexOf(g[s])>-1?u[g[s]]=!0:delete u[g[s]]}if(-1!==c.indexOf("up"))for(;l&&l.id!==e.jstree.root;){for(n=0,s=0,r=l.children.length;s<r;s++)n+=d[l.children[s]].state[h?"selected":"checked"];if(n!==r)break;l.state[h?"selected":"checked"]=!0,u[l.id]=!0,(a=this.get_node(l,!0))&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(h?"jstree-clicked":"jstree-checked"),l=this.get_node(l.parent)}for(s in p=[],u)u.hasOwnProperty(s)&&p.push(s);this._data[h?"core":"checkbox"].selected=p},this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",e.proxy(function(t,i){var s,r,n,a=this.get_node(e.jstree.root),o=this._model.data;for(s=0,r=a.children_d.length;s<r;s++)(n=o[a.children_d[s]])&&n.original&&n.original.state&&n.original.state.undetermined&&(n.original.state.undetermined=!1)},this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",e.proxy(function(e,t){var i,s,r,n=t.node,a=(this.get_node(n,!0),this.settings.checkbox.cascade),o=this.settings.checkbox.tie_selection,d=this._data[o?"core":"checkbox"].selected,l=n.children_d.concat(n.id);if(-1!==a.indexOf("down")){var c=this._cascade_new_checked_state(n.id,!1);d=d.filter(function(e){return-1===l.indexOf(e)||c.indexOf(e)>-1})}if(-1!==a.indexOf("up")&&-1===d.indexOf(n.id)){for(i=0,s=n.parents.length;i<s;i++)(r=this._model.data[n.parents[i]]).state[o?"selected":"checked"]=!1,r&&r.original&&r.original.state&&r.original.state.undetermined&&(r.original.state.undetermined=!1),(r=this.get_node(n.parents[i],!0))&&r.length&&r.attr("aria-selected",!1).children(".jstree-anchor").removeClass(o?"jstree-clicked":"jstree-checked");d=d.filter(function(e){return-1===n.parents.indexOf(e)})}this._data[o?"core":"checkbox"].selected=d},this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",e.proxy(function(t,i){for(var s,r,n,a,o=this.get_node(i.parent),d=this._model.data,l=this.settings.checkbox.tie_selection;o&&o.id!==e.jstree.root&&!o.state[l?"selected":"checked"];){for(n=0,s=0,r=o.children.length;s<r;s++)n+=d[o.children[s]].state[l?"selected":"checked"];if(!(r>0&&n===r))break;o.state[l?"selected":"checked"]=!0,this._data[l?"core":"checkbox"].selected.push(o.id),(a=this.get_node(o,!0))&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(l?"jstree-clicked":"jstree-checked"),o=this.get_node(o.parent)}},this)).on("move_node.jstree",e.proxy(function(t,i){var s,r,n,a,o,d=i.is_multi,l=i.old_parent,c=this.get_node(i.parent),h=this._model.data,u=this.settings.checkbox.tie_selection;if(!d)for(s=this.get_node(l);s&&s.id!==e.jstree.root&&!s.state[u?"selected":"checked"];){for(r=0,n=0,a=s.children.length;n<a;n++)r+=h[s.children[n]].state[u?"selected":"checked"];if(!(a>0&&r===a))break;s.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(s.id),(o=this.get_node(s,!0))&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"),s=this.get_node(s.parent)}for(s=c;s&&s.id!==e.jstree.root;){for(r=0,n=0,a=s.children.length;n<a;n++)r+=h[s.children[n]].state[u?"selected":"checked"];if(r===a)s.state[u?"selected":"checked"]||(s.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(s.id),(o=this.get_node(s,!0))&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"));else{if(!s.state[u?"selected":"checked"])break;s.state[u?"selected":"checked"]=!1,this._data[u?"core":"checkbox"].selected=e.vakata.array_remove_item(this._data[u?"core":"checkbox"].selected,s.id),(o=this.get_node(s,!0))&&o.length&&o.attr("aria-selected",!1).children(".jstree-anchor").removeClass(u?"jstree-clicked":"jstree-checked")}s=this.get_node(s.parent)}},this))},this.get_undetermined=function(i){if(-1===this.settings.checkbox.cascade.indexOf("undetermined"))return[];var s,r,n,a,o={},d=this._model.data,l=this.settings.checkbox.tie_selection,c=this._data[l?"core":"checkbox"].selected,h=[],u=this,p=[];for(s=0,r=c.length;s<r;s++)if(d[c[s]]&&d[c[s]].parents)for(n=0,a=d[c[s]].parents.length;n<a&&o[d[c[s]].parents[n]]===t;n++)d[c[s]].parents[n]!==e.jstree.root&&(o[d[c[s]].parents[n]]=!0,h.push(d[c[s]].parents[n]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var i,l=u.get_node(this);if(l)if(l.state.loaded){for(s=0,r=l.children_d.length;s<r;s++)if(!(i=d[l.children_d[s]]).state.loaded&&i.original&&i.original.state&&i.original.state.undetermined&&!0===i.original.state.undetermined)for(o[i.id]===t&&i.id!==e.jstree.root&&(o[i.id]=!0,h.push(i.id)),n=0,a=i.parents.length;n<a;n++)o[i.parents[n]]===t&&i.parents[n]!==e.jstree.root&&(o[i.parents[n]]=!0,h.push(i.parents[n]))}else if(l.original&&l.original.state&&l.original.state.undetermined&&!0===l.original.state.undetermined)for(o[l.id]===t&&l.id!==e.jstree.root&&(o[l.id]=!0,h.push(l.id)),n=0,a=l.parents.length;n<a;n++)o[l.parents[n]]===t&&l.parents[n]!==e.jstree.root&&(o[l.parents[n]]=!0,h.push(l.parents[n]))}),s=0,r=h.length;s<r;s++)d[h[s]].state[l?"selected":"checked"]||p.push(i?d[h[s]]:h[s]);return p},this._undetermined=function(){if(null!==this.element){var e,t,i,s=this.get_undetermined(!1);for(this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),e=0,t=s.length;e<t;e++)(i=this.get_node(s[e],!0))&&i.length&&i.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}},this.redraw_node=function(t,i,r,n){if(t=s.redraw_node.apply(this,arguments)){var a,o,d=null,l=null;for(a=0,o=t.childNodes.length;a<o;a++)if(t.childNodes[a]&&t.childNodes[a].className&&-1!==t.childNodes[a].className.indexOf("jstree-anchor")){d=t.childNodes[a];break}d&&(!this.settings.checkbox.tie_selection&&this._model.data[t.id].state.checked&&(d.className+=" jstree-checked"),l=h.cloneNode(!1),this._model.data[t.id].state.checkbox_disabled&&(l.className+=" jstree-checkbox-disabled"),d.insertBefore(l,d.childNodes[0]))}return r||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)),t},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(t){t=this.get_node(t);var i,s,r=this.settings.checkbox.cascade,n=this.settings.checkbox.tie_selection,a=this._data[n?"core":"checkbox"].selected,o=this._model.data;if(!t||!0===t.state[n?"selected":"checked"]||-1===r.indexOf("undetermined")||-1===r.indexOf("down")&&-1===r.indexOf("up"))return!1;if(!t.state.loaded&&!0===t.original.state.undetermined)return!0;for(i=0,s=t.children_d.length;i<s;i++)if(-1!==e.inArray(t.children_d[i],a)||!o[t.children_d[i]].state.loaded&&o[t.children_d[i]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(t){var i,s,r;if(e.isArray(t)){for(i=0,s=(t=t.slice()).length;i<s;i++)this.disable_checkbox(t[i]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;r=this.get_node(t,!0),t.state.checkbox_disabled||(t.state.checkbox_disabled=!0,r&&r.length&&r.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:t}))},this.enable_checkbox=function(t){var i,s,r;if(e.isArray(t)){for(i=0,s=(t=t.slice()).length;i<s;i++)this.enable_checkbox(t[i]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;r=this.get_node(t,!0),t.state.checkbox_disabled&&(t.state.checkbox_disabled=!1,r&&r.length&&r.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:t}))},this.activate_node=function(t,i){return!e(i.target).hasClass("jstree-checkbox-disabled")&&(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||e(i.target).hasClass("jstree-checkbox"))&&(i.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!e(i.target).hasClass("jstree-checkbox")?s.activate_node.call(this,t,i):!this.is_disabled(t)&&(this.is_checked(t)?this.uncheck_node(t,i):this.check_node(t,i),void this.trigger("activate_node",{node:this.get_node(t)})))},this._cascade_new_checked_state=function(e,t){var i,s,r,n=this.settings.checkbox.tie_selection,a=this._model.data[e],o=[],d=[];if(!this.settings.checkbox.cascade_to_disabled&&a.state.disabled||!this.settings.checkbox.cascade_to_hidden&&a.state.hidden)r=this.get_checked_descendants(e),a.state[n?"selected":"checked"]&&r.push(a.id),o=o.concat(r);else{if(a.children)for(i=0,s=a.children.length;i<s;i++){var l=a.children[i];r=this._cascade_new_checked_state(l,t),o=o.concat(r),r.indexOf(l)>-1&&d.push(l)}var c=this.get_node(a,!0),h=d.length>0&&d.length<a.children.length;a.original&&a.original.state&&a.original.state.undetermined&&(a.original.state.undetermined=h),h?(a.state[n?"selected":"checked"]=!1,c.attr("aria-selected",!1).children(".jstree-anchor").removeClass(n?"jstree-clicked":"jstree-checked")):t&&d.length===a.children.length?(a.state[n?"selected":"checked"]=t,o.push(a.id),c.attr("aria-selected",!0).children(".jstree-anchor").addClass(n?"jstree-clicked":"jstree-checked")):(a.state[n?"selected":"checked"]=!1,c.attr("aria-selected",!1).children(".jstree-anchor").removeClass(n?"jstree-clicked":"jstree-checked"))}return o},this.get_checked_descendants=function(e){var t=this,i=t.settings.checkbox.tie_selection;return t._model.data[e].children_d.filter(function(e){return t._model.data[e].state[i?"selected":"checked"]})},this.check_node=function(t,i){if(this.settings.checkbox.tie_selection)return this.select_node(t,!1,!0,i);var s,r,n;if(e.isArray(t)){for(r=0,n=(t=t.slice()).length;r<n;r++)this.check_node(t[r],i);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;s=this.get_node(t,!0),t.state.checked||(t.state.checked=!0,this._data.checkbox.selected.push(t.id),s&&s.length&&s.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:t,selected:this._data.checkbox.selected,event:i}))},this.uncheck_node=function(t,i){if(this.settings.checkbox.tie_selection)return this.deselect_node(t,!1,i);var s,r,n;if(e.isArray(t)){for(s=0,r=(t=t.slice()).length;s<r;s++)this.uncheck_node(t[s],i);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;n=this.get_node(t,!0),t.state.checked&&(t.state.checked=!1,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,t.id),n.length&&n.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:t,selected:this._data.checkbox.selected,event:i}))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var t,i;this._data.checkbox.selected.concat([]);for(this._data.checkbox.selected=this._model.data[e.jstree.root].children_d.concat(),t=0,i=this._data.checkbox.selected.length;t<i;t++)this._model.data[this._data.checkbox.selected[t]]&&(this._model.data[this._data.checkbox.selected[t]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var e,t,i=this._data.checkbox.selected.concat([]);for(e=0,t=this._data.checkbox.selected.length;e<t;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:i})},this.is_checked=function(t){return this.settings.checkbox.tie_selection?this.is_selected(t):!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.state.checked},this.get_checked=function(t){return this.settings.checkbox.tie_selection?this.get_selected(t):t?e.map(this._data.checkbox.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.checkbox.selected},this.get_top_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_top_selected(t);var i,s,r,n,a=this.get_checked(!0),o={};for(i=0,s=a.length;i<s;i++)o[a[i].id]=a[i];for(i=0,s=a.length;i<s;i++)for(r=0,n=a[i].children_d.length;r<n;r++)o[a[i].children_d[r]]&&delete o[a[i].children_d[r]];for(i in a=[],o)o.hasOwnProperty(i)&&a.push(i);return t?e.map(a,e.proxy(function(e){return this.get_node(e)},this)):a},this.get_bottom_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(t);var i,s,r=this.get_checked(!0),n=[];for(i=0,s=r.length;i<s;i++)r[i].children.length||n.push(r[i].id);return t?e.map(n,e.proxy(function(e){return this.get_node(e)},this)):n},this.load_node=function(t,i){var r,n,a;if(!e.isArray(t)&&!this.settings.checkbox.tie_selection&&(a=this.get_node(t))&&a.state.loaded)for(r=0,n=a.children_d.length;r<n;r++)this._model.data[a.children_d[r]].state.checked&&(!0,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,a.children_d[r]));return s.load_node.apply(this,arguments)},this.get_state=function(){var e=s.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection?e:(e.checkbox=this._data.checkbox.selected.slice(),e)},this.set_state=function(t,i){var r=s.set_state.apply(this,arguments);if(r&&t.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var n=this;e.each(t.checkbox,function(e,t){n.check_node(t)})}return delete t.checkbox,this.set_state(t,i),!1}return r},this.refresh=function(e,t){return this.settings.checkbox.tie_selection||(this._data.checkbox.selected=[]),s.refresh.apply(this,arguments)}},e.jstree.defaults.conditionalselect=function(){return!0},e.jstree.plugins.conditionalselect=function(e,t){this.activate_node=function(e,i){if(this.settings.conditionalselect.call(this,this.get_node(e),i))return t.activate_node.call(this,e,i)}},e.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(t,i){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(t){var i=e.jstree.reference(t.reference),s=i.get_node(t.reference);i.create_node(s,{},"last",function(e){try{i.edit(e)}catch(t){setTimeout(function(){i.edit(e)},0)}})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(t){var i=e.jstree.reference(t.reference),s=i.get_node(t.reference);i.edit(s)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(t){var i=e.jstree.reference(t.reference),s=i.get_node(t.reference);i.is_selected(s)?i.delete_node(i.get_selected()):i.delete_node(s)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(t){var i=e.jstree.reference(t.reference),s=i.get_node(t.reference);i.is_selected(s)?i.cut(i.get_top_selected()):i.cut(s)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(t){var i=e.jstree.reference(t.reference),s=i.get_node(t.reference);i.is_selected(s)?i.copy(i.get_top_selected()):i.copy(s)}},paste:{separator_before:!1,icon:!1,_disabled:function(t){return!e.jstree.reference(t.reference).can_paste()},separator_after:!1,label:"Paste",action:function(t){var i=e.jstree.reference(t.reference),s=i.get_node(t.reference);i.paste(s)}}}}}}},e.jstree.plugins.contextmenu=function(i,s){this.bind=function(){s.bind.call(this);var t,i,r=0,n=null;this.element.on("init.jstree loading.jstree ready.jstree",e.proxy(function(){this.get_container_ul().addClass("jstree-contextmenu")},this)).on("contextmenu.jstree",".jstree-anchor",e.proxy(function(e,t){"input"!==e.target.tagName.toLowerCase()&&(e.preventDefault(),r=e.ctrlKey?+new Date:0,(t||n)&&(r=+new Date+1e4),n&&clearTimeout(n),this.is_loading(e.currentTarget)||this.show_contextmenu(e.currentTarget,e.pageX,e.pageY,e))},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){this._data.contextmenu.visible&&(!r||+new Date-r>250)&&e.vakata.context.hide(),r=0},this)).on("touchstart.jstree",".jstree-anchor",function(s){s.originalEvent&&s.originalEvent.changedTouches&&s.originalEvent.changedTouches[0]&&(t=s.originalEvent.changedTouches[0].clientX,i=s.originalEvent.changedTouches[0].clientY,n=setTimeout(function(){e(s.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(s){n&&s.originalEvent&&s.originalEvent.changedTouches&&s.originalEvent.changedTouches[0]&&(Math.abs(t-s.originalEvent.changedTouches[0].clientX)>10||Math.abs(i-s.originalEvent.changedTouches[0].clientY)>10)&&(clearTimeout(n),e.vakata.context.hide())}).on("touchend.vakata.jstree",function(e){n&&clearTimeout(n)}),e(d).on("context_hide.vakata.jstree",e.proxy(function(t,i){this._data.contextmenu.visible=!1,e(i.reference).removeClass("jstree-context")},this))},this.teardown=function(){this._data.contextmenu.visible&&e.vakata.context.hide(),s.teardown.call(this)},this.show_contextmenu=function(i,s,r,n){if(!(i=this.get_node(i))||i.id===e.jstree.root)return!1;var a=this.settings.contextmenu,o=this.get_node(i,!0).children(".jstree-anchor"),d=!1,l=!1;(a.show_at_node||s===t||r===t)&&(d=o.offset(),s=d.left,r=d.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(i)&&this.activate_node(i,n),l=a.items,e.isFunction(l)&&(l=l.call(this,i,e.proxy(function(e){this._show_contextmenu(i,s,r,e)},this))),e.isPlainObject(l)&&this._show_contextmenu(i,s,r,l)},this._show_contextmenu=function(t,i,s,r){var n=this.get_node(t,!0).children(".jstree-anchor");e(d).one("context_show.vakata.jstree",e.proxy(function(t,i){var s="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";e(i.element).addClass(s),n.addClass("jstree-context")},this)),this._data.contextmenu.visible=!0,e.vakata.context.show(n,{x:i,y:s},r),this.trigger("show_contextmenu",{node:t,x:i,y:s})}},function(e){var t=!1,i={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};e.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(t){e(d).triggerHandler("context_"+t+".vakata",{reference:i.reference,element:i.element,position:{x:i.position_x,y:i.position_y}})},_execute:function(t){return!(!(t=i.items[t])||t._disabled&&(!e.isFunction(t._disabled)||t._disabled({item:t,reference:i.reference,element:i.element}))||!t.action)&&t.action.call(null,{item:t,reference:i.reference,element:i.element,position:{x:i.position_x,y:i.position_y}})},_parse:function(t,s){if(!t)return!1;s||(i.html="",i.items=[]);var r,n="",a=!1;return s&&(n+="<ul>"),e.each(t,function(t,s){if(!s)return!0;i.items.push(s),!a&&s.separator_before&&(n+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),a=!1,n+="<li class='"+(s._class||"")+(!0===s._disabled||e.isFunction(s._disabled)&&s._disabled({item:s,reference:i.reference,element:i.element})?" vakata-contextmenu-disabled ":"")+"' "+(s.shortcut?" data-shortcut='"+s.shortcut+"' ":"")+">",n+="<a href='#' rel='"+(i.items.length-1)+"' "+(s.title?"title='"+s.title+"'":"")+">",e.vakata.context.settings.icons&&(n+="<i ",s.icon&&(-1!==s.icon.indexOf("/")||-1!==s.icon.indexOf(".")?n+=" style='background:url(\""+s.icon+"\") center center no-repeat' ":n+=" class='"+s.icon+"' "),n+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),n+=(e.isFunction(s.label)?s.label({item:t,reference:i.reference,element:i.element}):s.label)+(s.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+s.shortcut+'">'+(s.shortcut_label||"")+"</span>":"")+"</a>",s.submenu&&(r=e.vakata.context._parse(s.submenu,!0))&&(n+=r),n+="</li>",s.separator_after&&(n+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",a=!0)}),n=n.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),s&&(n+="</ul>"),s||(i.html=n,e.vakata.context._trigger("parse")),n.length>10&&n},_show_submenu:function(i){if((i=e(i)).length&&i.children("ul").length){var s=i.children("ul"),r=i.offset().left,n=r+i.outerWidth(),a=i.offset().top,o=s.width(),d=s.height(),l=e(window).width()+e(window).scrollLeft(),c=e(window).height()+e(window).scrollTop();t?i[n-(o+10+i.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):i[n+o>l&&r>l-n?"addClass":"removeClass"]("vakata-context-right"),a+d+10>c&&s.css("bottom","-1px"),i.hasClass("vakata-context-right")?r<o&&s.css("margin-right",r-o):l-n<o&&s.css("margin-left",l-n-o),s.show()}},show:function(s,r,n){var a,o,d,l,c,h,u,p;switch(i.element&&i.element.length&&i.element.width(""),!0){case!r&&!s:return!1;case!!r&&!!s:i.reference=s,i.position_x=r.x,i.position_y=r.y;break;case!r&&!!s:i.reference=s,a=s.offset(),i.position_x=a.left+s.outerHeight(),i.position_y=a.top;break;case!!r&&!s:i.position_x=r.x,i.position_y=r.y}s&&!n&&e(s).data("vakata_contextmenu")&&(n=e(s).data("vakata_contextmenu")),e.vakata.context._parse(n)&&i.element.html(i.html),i.items.length&&(i.element.appendTo("body"),o=i.element,d=i.position_x,l=i.position_y,c=o.width(),h=o.height(),u=e(window).width()+e(window).scrollLeft(),p=e(window).height()+e(window).scrollTop(),t&&(d-=o.outerWidth()-e(s).outerWidth())<e(window).scrollLeft()+20&&(d=e(window).scrollLeft()+20),d+c+20>u&&(d=u-(c+20)),l+h+20>p&&(l=p-(h+20)),i.element.css({left:d,top:l}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),i.is_visible=!0,e.vakata.context._trigger("show"))},hide:function(){i.is_visible&&(i.element.hide().find("ul").hide().end().find(":focus").blur().end().detach(),i.is_visible=!1,e.vakata.context._trigger("hide"))}},e(function(){t="rtl"===e("body").css("direction");var s=!1;i.element=e("<ul class='vakata-context'></ul>"),i.element.on("mouseenter","li",function(t){t.stopImmediatePropagation(),e.contains(this,t.relatedTarget)||(s&&clearTimeout(s),i.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),e(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),e.vakata.context._show_submenu(this))}).on("mouseleave","li",function(t){e.contains(this,t.relatedTarget)||e(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(t){e(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),e.vakata.context.settings.hide_onmouseleave&&(s=setTimeout(function(){e.vakata.context.hide()},e.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(t){t.preventDefault(),e(this).blur().parent().hasClass("vakata-context-disabled")||!1===e.vakata.context._execute(e(this).attr("rel"))||e.vakata.context.hide()}).on("keydown","a",function(t){var s=null;switch(t.which){case 13:case 32:t.type="click",t.preventDefault(),e(t.currentTarget).trigger(t);break;case 37:i.is_visible&&(i.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 38:i.is_visible&&((s=i.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first()).length||(s=i.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),s.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 39:i.is_visible&&(i.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 40:i.is_visible&&((s=i.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first()).length||(s=i.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),s.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 27:e.vakata.context.hide(),t.preventDefault()}}).on("keydown",function(e){e.preventDefault();var t=i.element.find(".vakata-contextmenu-shortcut-"+e.which).parent();t.parent().not(".vakata-context-disabled")&&t.click()}),e(d).on("mousedown.vakata.jstree",function(t){i.is_visible&&i.element[0]!==t.target&&!e.contains(i.element[0],t.target)&&e.vakata.context.hide()}).on("context_show.vakata.jstree",function(e,s){i.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),t&&i.element.addClass("vakata-context-rtl").css("direction","rtl"),i.element.find("ul").hide().end()})})}(e),e.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1},e.jstree.plugins.dnd=function(t,i){this.init=function(e,t){i.init.call(this,e,t),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in d.createElement("span")},this.bind=function(){i.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",e.proxy(function(t){if(this.settings.dnd.large_drag_target&&e(t.target).closest(".jstree-node")[0]!==t.currentTarget)return!0;if("touchstart"===t.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var i=this.get_node(t.target),s=this.is_selected(i)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,r=s>1?s+" "+this.get_string("nodes"):this.get_text(t.currentTarget);if(this.settings.core.force_text&&(r=e.vakata.html.escape(r)),i&&i.id&&i.id!==e.jstree.root&&(1===t.which||"touchstart"===t.type||"dragstart"===t.type)&&(!0===this.settings.dnd.is_draggable||e.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,s>1?this.get_top_selected(!0):[i],t))){if(l={jstree:!0,origin:this,obj:this.get_node(i,!0),nodes:s>1?this.get_top_selected():[i.id]},c=t.currentTarget,!this.settings.dnd.use_html5)return this.element.trigger("mousedown.jstree"),e.vakata.dnd.start(t,l,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+r+'<ins class="jstree-copy" style="display:none;">+</ins></div>');e.vakata.dnd._trigger("start",t,{helper:e(),element:c,data:l})}},this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(t){return t.preventDefault(),e.vakata.dnd._trigger("move",t,{helper:e(),element:c,data:l}),!1}).on("drop.jstree",e.proxy(function(t){return t.preventDefault(),e.vakata.dnd._trigger("stop",t,{helper:e(),element:c,data:l}),!1},this))},this.redraw_node=function(e,t,s,r){if((e=i.redraw_node.apply(this,arguments))&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)e.setAttribute("draggable",!0);else{var n,a,o=null;for(n=0,a=e.childNodes.length;n<a;n++)if(e.childNodes[n]&&e.childNodes[n].className&&-1!==e.childNodes[n].className.indexOf("jstree-anchor")){o=e.childNodes[n];break}o&&o.setAttribute("draggable",!0)}return e}},e(function(){var i=!1,s=!1,r=!1,n=!1,a=e('<div id="jstree-marker">&#160;</div>').hide();e(d).on("dnd_start.vakata.jstree",function(e,t){i=!1,r=!1,t&&t.data&&t.data.jstree&&a.appendTo("body")}).on("dnd_move.vakata.jstree",function(o,d){var l=d.event.target!==r.target;if(n&&(d.event&&"dragover"===d.event.type&&!l||clearTimeout(n)),d&&d.data&&d.data.jstree&&(!d.event.target.id||"jstree-marker"!==d.event.target.id)){r=d.event;var c,h,u,p,f,g,m,_,v,b,y,k,x,w,j,C,E=e.jstree.reference(d.event.target),S=!1,$=!1,T=!1;if(E&&E._data&&E._data.dnd)if(a.attr("class","jstree-"+E.get_theme()+(E.settings.core.themes.responsive?" jstree-dnd-responsive":"")),j=d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(d.event.metaKey||d.event.ctrlKey)),d.helper.children().attr("class","jstree-"+E.get_theme()+" jstree-"+E.get_theme()+"-"+E.get_theme_variant()+" "+(E.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[j?"show":"hide"](),d.event.target!==E.element[0]&&d.event.target!==E.get_container_ul()[0]||0!==E.get_container_ul().children().length){if((S=E.settings.dnd.large_drop_target?e(d.event.target).closest(".jstree-node").children(".jstree-anchor"):e(d.event.target).closest(".jstree-anchor"))&&S.length&&S.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&($=S.offset(),T=(d.event.pageY!==t?d.event.pageY:d.event.originalEvent.pageY)-$.top,u=S.outerHeight(),g=T<u/3?["b","i","a"]:T>u-u/3?["a","i","b"]:T>u/2?["i","a","b"]:["i","b","a"],e.each(g,function(t,r){switch(r){case"b":c=$.left-6,h=$.top,p=E.get_parent(S),f=S.parent().index();break;case"i":x=E.settings.dnd.inside_pos,w=E.get_node(S.parent()),c=$.left-2,h=$.top+u/2+1,p=w.id,f="first"===x?0:"last"===x?w.children.length:Math.min(x,w.children.length);break;case"a":c=$.left-6,h=$.top+u,p=E.get_parent(S),f=S.parent().index()+1}for(m=!0,_=0,v=d.data.nodes.length;_<v;_++)if(b=d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(d.event.metaKey||d.event.ctrlKey))?"copy_node":"move_node",y=f,"move_node"===b&&"a"===r&&d.data.origin&&d.data.origin===E&&p===E.get_parent(d.data.nodes[_])&&(k=E.get_node(p),y>e.inArray(d.data.nodes[_],k.children)&&(y-=1)),!(m=m&&(E&&E.settings&&E.settings.dnd&&!1===E.settings.dnd.check_while_dragging||E.check(b,d.data.origin&&d.data.origin!==E?d.data.origin.get_node(d.data.nodes[_]):d.data.nodes[_],p,y,{dnd:!0,ref:E.get_node(S.parent()),pos:r,origin:d.data.origin,is_multi:d.data.origin&&d.data.origin!==E,is_foreign:!d.data.origin})))){E&&E.last_error&&(s=E.last_error());break}var o,T;if("i"===r&&S.parent().is(".jstree-closed")&&E.settings.dnd.open_timeout&&(d.event&&"dragover"===d.event.type&&!l||(n&&clearTimeout(n),n=setTimeout((o=E,T=S,function(){o.open_node(T)}),E.settings.dnd.open_timeout))),m)return(C=E.get_node(p,!0)).hasClass(".jstree-dnd-parent")||(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),C.addClass("jstree-dnd-parent")),i={ins:E,par:p,pos:"i"!==r||"last"!==x||0!==f||E.is_loaded(w)?f:"last"},a.css({left:c+"px",top:h+"px"}).show(),d.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),d.event.originalEvent&&d.event.originalEvent.dataTransfer&&(d.event.originalEvent.dataTransfer.dropEffect=j?"copy":"move"),s={},g=!0,!1}),!0===g))return}else{for(m=!0,_=0,v=d.data.nodes.length;_<v&&(m=m&&E.check(d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(d.event.metaKey||d.event.ctrlKey))?"copy_node":"move_node",d.data.origin&&d.data.origin!==E?d.data.origin.get_node(d.data.nodes[_]):d.data.nodes[_],e.jstree.root,"last",{dnd:!0,ref:E.get_node(e.jstree.root),pos:"i",origin:d.data.origin,is_multi:d.data.origin&&d.data.origin!==E,is_foreign:!d.data.origin}));_++);if(m)return i={ins:E,par:e.jstree.root,pos:"last"},a.hide(),d.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void(d.event.originalEvent&&d.event.originalEvent.dataTransfer&&(d.event.originalEvent.dataTransfer.dropEffect=j?"copy":"move"))}e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),i=!1,d.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),d.event.originalEvent&&d.event.originalEvent.dataTransfer&&(d.event.originalEvent.dataTransfer.dropEffect="none"),a.hide()}}).on("dnd_scroll.vakata.jstree",function(e,t){t&&t.data&&t.data.jstree&&(a.hide(),i=!1,r=!1,t.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(t,o){if(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),n&&clearTimeout(n),o&&o.data&&o.data.jstree){a.hide().detach();var d,l,c=[];if(i){for(d=0,l=o.data.nodes.length;d<l;d++)c[d]=o.data.origin?o.data.origin.get_node(o.data.nodes[d]):o.data.nodes[d];i.ins[o.data.origin&&(o.data.origin.settings.dnd.always_copy||o.data.origin.settings.dnd.copy&&(o.event.metaKey||o.event.ctrlKey))?"copy_node":"move_node"](c,i.par,i.pos,!1,!1,!1,o.data.origin)}else(d=e(o.event.target).closest(".jstree")).length&&s&&s.error&&"check"===s.error&&(d=d.jstree(!0))&&d.settings.core.error.call(this,s);r=!1,i=!1}}).on("keyup.jstree keydown.jstree",function(t,o){(o=e.vakata.dnd._get())&&o.data&&o.data.jstree&&("keyup"===t.type&&27===t.which?(n&&clearTimeout(n),i=!1,s=!1,r=!1,n=!1,a.hide().detach(),e.vakata.dnd._clean()):(o.helper.find(".jstree-copy").first()[o.data.origin&&(o.data.origin.settings.dnd.always_copy||o.data.origin.settings.dnd.copy&&(t.metaKey||t.ctrlKey))?"show":"hide"](),r&&(r.metaKey=t.metaKey,r.ctrlKey=t.ctrlKey,e.vakata.dnd._trigger("move",r))))})}),function(e){e.vakata.html={div:e("<div />"),escape:function(t){return e.vakata.html.div.text(t).html()},strip:function(t){return e.vakata.html.div.empty().append(e.parseHTML(t)).text()}};var i={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};e.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:10},_trigger:function(i,s,r){r===t&&(r=e.vakata.dnd._get()),r.event=s,e(d).triggerHandler("dnd_"+i+".vakata",r)},_get:function(){return{data:i.data,element:i.element,helper:i.helper}},_clean:function(){i.helper&&i.helper.remove(),i.scroll_i&&(clearInterval(i.scroll_i),i.scroll_i=!1),i={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},e(d).off("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(d).off("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop)},_scroll:function(t){if(!i.scroll_e||!i.scroll_l&&!i.scroll_t)return i.scroll_i&&(clearInterval(i.scroll_i),i.scroll_i=!1),!1;if(!i.scroll_i)return i.scroll_i=setInterval(e.vakata.dnd._scroll,100),!1;if(!0===t)return!1;var s=i.scroll_e.scrollTop(),r=i.scroll_e.scrollLeft();i.scroll_e.scrollTop(s+i.scroll_t*e.vakata.dnd.settings.scroll_speed),i.scroll_e.scrollLeft(r+i.scroll_l*e.vakata.dnd.settings.scroll_speed),s===i.scroll_e.scrollTop()&&r===i.scroll_e.scrollLeft()||e.vakata.dnd._trigger("scroll",i.scroll_e)},start:function(t,s,r){"touchstart"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=d.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),i.is_drag&&e.vakata.dnd.stop({});try{t.currentTarget.unselectable="on",t.currentTarget.onselectstart=function(){return!1},t.currentTarget.style&&(t.currentTarget.style.touchAction="none",t.currentTarget.style.msTouchAction="none",t.currentTarget.style.MozUserSelect="none")}catch(e){}return i.init_x=t.pageX,i.init_y=t.pageY,i.data=s,i.is_down=!0,i.element=t.currentTarget,i.target=t.target,i.is_touch="touchstart"===t.type,!1!==r&&(i.helper=e("<div id='vakata-dnd'></div>").html(r).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),e(d).on("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(d).on("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop),!1},drag:function(t){if("touchmove"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=d.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),i.is_down){if(!i.is_drag){if(!(Math.abs(t.pageX-i.init_x)>(i.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)||Math.abs(t.pageY-i.init_y)>(i.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)))return;i.helper&&(i.helper.appendTo("body"),i.helper_w=i.helper.outerWidth()),i.is_drag=!0,e(i.target).one("click.vakata",!1),e.vakata.dnd._trigger("start",t)}var s=!1,r=!1,n=!1,a=!1,o=!1,l=!1,c=!1,h=!1,u=!1,p=!1;return i.scroll_t=0,i.scroll_l=0,i.scroll_e=!1,e(e(t.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(e(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var s=e(this),r=s.offset();if(this.scrollHeight>this.offsetHeight&&(r.top+s.height()-t.pageY<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=1),t.pageY-r.top<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(r.left+s.width()-t.pageX<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=1),t.pageX-r.left<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=-1)),i.scroll_t||i.scroll_l)return i.scroll_e=e(this),!1}),i.scroll_e||(s=e(d),r=e(window),n=s.height(),a=r.height(),o=s.width(),l=r.width(),c=s.scrollTop(),h=s.scrollLeft(),n>a&&t.pageY-c<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=-1),n>a&&a-(t.pageY-c)<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=1),o>l&&t.pageX-h<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=-1),o>l&&l-(t.pageX-h)<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=1),(i.scroll_t||i.scroll_l)&&(i.scroll_e=s)),i.scroll_e&&e.vakata.dnd._scroll(!0),i.helper&&(u=parseInt(t.pageY+e.vakata.dnd.settings.helper_top,10),p=parseInt(t.pageX+e.vakata.dnd.settings.helper_left,10),n&&u+25>n&&(u=n-50),o&&p+i.helper_w>o&&(p=o-(i.helper_w+2)),i.helper.css({left:p+"px",top:u+"px"})),e.vakata.dnd._trigger("move",t),!1}},stop:function(t){if("touchend"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=d.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),i.is_drag)t.target!==i.target&&e(i.target).off("click.vakata"),e.vakata.dnd._trigger("stop",t);else if("touchend"===t.type&&t.target===i.target){var s=setTimeout(function(){e(t.target).click()},100);e(t.target).one("click",function(){s&&clearTimeout(s)})}return e.vakata.dnd._clean(),!1}}}(e),e.jstree.defaults.massload=null,e.jstree.plugins.massload=function(t,i){this.init=function(e,t){this._data.massload={},i.init.call(this,e,t)},this._load_nodes=function(t,s,r,n){var a,o,d,l=this.settings.massload,c=(JSON.stringify(t),[]),h=this._model.data;if(!r){for(a=0,o=t.length;a<o;a++)h[t[a]]&&(h[t[a]].state.loaded||h[t[a]].state.failed)&&!n||(c.push(t[a]),(d=this.get_node(t[a],!0))&&d.length&&d.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},c.length){if(e.isFunction(l))return l.call(this,c,e.proxy(function(e){var a,o;if(e)for(a in e)e.hasOwnProperty(a)&&(this._data.massload[a]=e[a]);for(a=0,o=t.length;a<o;a++)(d=this.get_node(t[a],!0))&&d.length&&d.removeClass("jstree-loading").attr("aria-busy",!1);i._load_nodes.call(this,t,s,r,n)},this));if("object"==typeof l&&l&&l.url)return l=e.extend(!0,{},l),e.isFunction(l.url)&&(l.url=l.url.call(this,c)),e.isFunction(l.data)&&(l.data=l.data.call(this,c)),e.ajax(l).done(e.proxy(function(e,a,o){var l,c;if(e)for(l in e)e.hasOwnProperty(l)&&(this._data.massload[l]=e[l]);for(l=0,c=t.length;l<c;l++)(d=this.get_node(t[l],!0))&&d.length&&d.removeClass("jstree-loading").attr("aria-busy",!1);i._load_nodes.call(this,t,s,r,n)},this)).fail(e.proxy(function(e){i._load_nodes.call(this,t,s,r,n)},this))}}return i._load_nodes.call(this,t,s,r,n)},this._load_node=function(t,s){var r,n=this._data.massload[t.id],a=null;return n?(a=this["string"==typeof n?"_append_html_data":"_append_json_data"](t,"string"==typeof n?e(e.parseHTML(n)).filter(function(){return 3!==this.nodeType}):n,function(e){s.call(this,e)}),(r=this.get_node(t.id,!0))&&r.length&&r.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[t.id],a):i._load_node.call(this,t,s)}},e.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},e.jstree.plugins.search=function(i,s){this.bind=function(){s.bind.call(this),this._data.search.str="",this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",e.proxy(function(t,i){if(this._data.search.som&&i.res.length){var s,r,n,a,o=this._model.data,d=[];for(s=0,r=i.res.length;s<r;s++)if(o[i.res[s]]&&!o[i.res[s]].state.hidden&&(d.push(i.res[s]),d=d.concat(o[i.res[s]].parents),this._data.search.smc))for(n=0,a=o[i.res[s]].children_d.length;n<a;n++)o[o[i.res[s]].children_d[n]]&&!o[o[i.res[s]].children_d[n]].state.hidden&&d.push(o[i.res[s]].children_d[n]);d=e.vakata.array_remove_item(e.vakata.array_unique(d),e.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(d,!0),this.redraw(!0)}},this)).on("clear_search.jstree",e.proxy(function(e,t){this._data.search.som&&t.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))},this))},this.search=function(i,s,r,n,a,o){if(!1===i||""===e.trim(i.toString()))return this.clear_search();n=(n=this.get_node(n))&&n.id?n.id:null,i=i.toString();var d,l,c=this.settings.search,h=!!c.ajax&&c.ajax,u=this._model.data,p=null,f=[],g=[];if(this._data.search.res.length&&!a&&this.clear_search(),r===t&&(r=c.show_only_matches),o===t&&(o=c.show_only_matches_children),!s&&!1!==h)return e.isFunction(h)?h.call(this,i,e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(i,!0,r,n,a,o)})},this),n):((h=e.extend({},h)).data||(h.data={}),h.data.str=i,n&&(h.data.inside=n),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=e.ajax(h).fail(e.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(h)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(i,!0,r,n,a,o)})},this)),this._data.search.lastRequest);if(a||(this._data.search.str=i,this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=r,this._data.search.smc=o),p=new e.vakata.search(i,!0,{caseSensitive:c.case_sensitive,fuzzy:c.fuzzy}),e.each(u[n||e.jstree.root].children_d,function(e,t){var s=u[t];s.text&&!s.state.hidden&&(!c.search_leaves_only||s.state.loaded&&0===s.children.length)&&(c.search_callback&&c.search_callback.call(this,i,s)||!c.search_callback&&p.search(s.text).isMatch)&&(f.push(t),g=g.concat(s.parents))}),f.length){for(d=0,l=(g=e.vakata.array_unique(g)).length;d<l;d++)g[d]!==e.jstree.root&&u[g[d]]&&!0===this.open_node(g[d],null,0)&&this._data.search.opn.push(g[d]);a?(this._data.search.dom=this._data.search.dom.add(e(this.element[0].querySelectorAll("#"+e.map(f,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=e.vakata.array_unique(this._data.search.res.concat(f))):(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(f,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=f),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:i,res:this._data.search.res,show_only_matches:r})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(this._data.search.res,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=e()},this.redraw_node=function(t,i,r,n){if((t=s.redraw_node.apply(this,arguments))&&-1!==e.inArray(t.id,this._data.search.res)){var a,o,d=null;for(a=0,o=t.childNodes.length;a<o;a++)if(t.childNodes[a]&&t.childNodes[a].className&&-1!==t.childNodes[a].className.indexOf("jstree-anchor")){d=t.childNodes[a];break}d&&(d.className+=" jstree-search")}return t}},function(e){e.vakata.search=function(t,i,s){s=s||{},!1!==(s=e.extend({},e.vakata.search.defaults,s)).fuzzy&&(s.fuzzy=!0),t=s.caseSensitive?t:t.toLowerCase();var r,n,a,o,d=s.location,l=s.distance,c=s.threshold,h=t.length;return h>32&&(s.fuzzy=!1),s.fuzzy&&(r=1<<h-1,n=function(){var e={},i=0;for(i=0;i<h;i++)e[t.charAt(i)]=0;for(i=0;i<h;i++)e[t.charAt(i)]|=1<<h-i-1;return e}(),a=function(e,t){var i=e/h,s=Math.abs(d-t);return l?i+s/l:s?1:i}),o=function(e){if(e=s.caseSensitive?e:e.toLowerCase(),t===e||-1!==e.indexOf(t))return{isMatch:!0,score:0};if(!s.fuzzy)return{isMatch:!1,score:1};var i,o,l,u,p,f,g,m,_,v=e.length,b=c,y=e.indexOf(t,d),k=h+v,x=1,w=[];for(-1!==y&&(b=Math.min(a(0,y),b),-1!==(y=e.lastIndexOf(t,d+h))&&(b=Math.min(a(0,y),b))),y=-1,i=0;i<h;i++){for(l=0,u=k;l<u;)a(i,d+u)<=b?l=u:k=u,u=Math.floor((k-l)/2+l);for(k=u,f=Math.max(1,d-u+1),g=Math.min(d+u,v)+h,(m=new Array(g+2))[g+1]=(1<<i)-1,o=g;o>=f;o--)if(_=n[e.charAt(o-1)],m[o]=0===i?(m[o+1]<<1|1)&_:(m[o+1]<<1|1)&_|(p[o+1]|p[o])<<1|1|p[o+1],m[o]&r&&(x=a(i,o-1))<=b){if(b=x,y=o-1,w.push(y),!(y>d))break;f=Math.max(1,2*d-y)}if(a(i+1,d)>b)break;p=m}return{isMatch:y>=0,score:x}},!0===i?{search:o}:o(i)},e.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(e),e.jstree.defaults.sort=function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},e.jstree.plugins.sort=function(t,i){this.bind=function(){i.bind.call(this),this.element.on("model.jstree",e.proxy(function(e,t){this.sort(t.parent,!0)},this)).on("rename_node.jstree create_node.jstree",e.proxy(function(e,t){this.sort(t.parent||t.node.parent,!1),this.redraw_node(t.parent||t.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",e.proxy(function(e,t){this.sort(t.parent,!1),this.redraw_node(t.parent,!0)},this))},this.sort=function(t,i){var s,r;if((t=this.get_node(t))&&t.children&&t.children.length&&(t.children.sort(e.proxy(this.settings.sort,this)),i))for(s=0,r=t.children_d.length;s<r;s++)this.sort(t.children_d[s],!1)}};var u=!1;e.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1,preserve_loaded:!1},e.jstree.plugins.state=function(t,i){this.bind=function(){i.bind.call(this);var t=e.proxy(function(){this.element.on(this.settings.state.events,e.proxy(function(){u&&clearTimeout(u),u=setTimeout(e.proxy(function(){this.save_state()},this),100)},this)),this.trigger("state_ready")},this);this.element.on("ready.jstree",e.proxy(function(e,i){this.element.one("restore_state.jstree",t),this.restore_state()||t()},this))},this.save_state=function(){var t=this.get_state();this.settings.state.preserve_loaded||delete t.core.loaded;var i={state:t,ttl:this.settings.state.ttl,sec:+new Date};e.vakata.storage.set(this.settings.state.key,JSON.stringify(i))},this.restore_state=function(){var t=e.vakata.storage.get(this.settings.state.key);if(t)try{t=JSON.parse(t)}catch(e){return!1}return!(t&&t.ttl&&t.sec&&+new Date-t.sec>t.ttl)&&(t&&t.state&&(t=t.state),t&&e.isFunction(this.settings.state.filter)&&(t=this.settings.state.filter.call(this,t)),!!t&&(this.settings.state.preserve_loaded||delete t.core.loaded,this.element.one("set_state.jstree",function(i,s){s.instance.trigger("restore_state",{state:e.extend(!0,{},t)})}),this.set_state(t),!0))},this.clear_state=function(){return e.vakata.storage.del(this.settings.state.key)}},function(e,t){e.vakata.storage={set:function(e,t){return window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},del:function(e){return window.localStorage.removeItem(e)}}}(e),e.jstree.defaults.types={default:{}},e.jstree.defaults.types[e.jstree.root]={},e.jstree.plugins.types=function(i,s){this.init=function(i,r){var n,a;if(r&&r.types&&r.types.default)for(n in r.types)if("default"!==n&&n!==e.jstree.root&&r.types.hasOwnProperty(n))for(a in r.types.default)r.types.default.hasOwnProperty(a)&&r.types[n][a]===t&&(r.types[n][a]=r.types.default[a]);s.init.call(this,i,r),this._model.data[e.jstree.root].type=e.jstree.root},this.refresh=function(t,i){s.refresh.call(this,t,i),this._model.data[e.jstree.root].type=e.jstree.root},this.bind=function(){this.element.on("model.jstree",e.proxy(function(i,s){var r,n,a,o=this._model.data,d=s.nodes,l=this.settings.types,c="default";for(r=0,n=d.length;r<n;r++){if(c="default",o[d[r]].original&&o[d[r]].original.type&&l[o[d[r]].original.type]&&(c=o[d[r]].original.type),o[d[r]].data&&o[d[r]].data.jstree&&o[d[r]].data.jstree.type&&l[o[d[r]].data.jstree.type]&&(c=o[d[r]].data.jstree.type),o[d[r]].type=c,!0===o[d[r]].icon&&l[c].icon!==t&&(o[d[r]].icon=l[c].icon),l[c].li_attr!==t&&"object"==typeof l[c].li_attr)for(a in l[c].li_attr)if(l[c].li_attr.hasOwnProperty(a)){if("id"===a)continue;o[d[r]].li_attr[a]===t?o[d[r]].li_attr[a]=l[c].li_attr[a]:"class"===a&&(o[d[r]].li_attr.class=l[c].li_attr.class+" "+o[d[r]].li_attr.class)}if(l[c].a_attr!==t&&"object"==typeof l[c].a_attr)for(a in l[c].a_attr)if(l[c].a_attr.hasOwnProperty(a)){if("id"===a)continue;o[d[r]].a_attr[a]===t?o[d[r]].a_attr[a]=l[c].a_attr[a]:"href"===a&&"#"===o[d[r]].a_attr[a]?o[d[r]].a_attr.href=l[c].a_attr.href:"class"===a&&(o[d[r]].a_attr.class=l[c].a_attr.class+" "+o[d[r]].a_attr.class)}}o[e.jstree.root].type=e.jstree.root},this)),s.bind.call(this)},this.get_json=function(t,i,r){var n,a,o=this._model.data,d=i?e.extend(!0,{},i,{no_id:!1}):{},l=s.get_json.call(this,t,d,r);if(!1===l)return!1;if(e.isArray(l))for(n=0,a=l.length;n<a;n++)l[n].type=l[n].id&&o[l[n].id]&&o[l[n].id].type?o[l[n].id].type:"default",i&&i.no_id&&(delete l[n].id,l[n].li_attr&&l[n].li_attr.id&&delete l[n].li_attr.id,l[n].a_attr&&l[n].a_attr.id&&delete l[n].a_attr.id);else l.type=l.id&&o[l.id]&&o[l.id].type?o[l.id].type:"default",i&&i.no_id&&(l=this._delete_ids(l));return l},this._delete_ids=function(t){if(e.isArray(t)){for(var i=0,s=t.length;i<s;i++)t[i]=this._delete_ids(t[i]);return t}return delete t.id,t.li_attr&&t.li_attr.id&&delete t.li_attr.id,t.a_attr&&t.a_attr.id&&delete t.a_attr.id,t.children&&e.isArray(t.children)&&(t.children=this._delete_ids(t.children)),t},this.check=function(i,r,n,a,o){if(!1===s.check.call(this,i,r,n,a,o))return!1;r=r&&r.id?r:this.get_node(r),n=n&&n.id?n:this.get_node(n);var d,l,c,h,u=r&&r.id?o&&o.origin?o.origin:e.jstree.reference(r.id):null;switch(u=u&&u._model&&u._model.data?u._model.data:null,i){case"create_node":case"move_node":case"copy_node":if("move_node"!==i||-1===e.inArray(r.id,n.children)){if((d=this.get_rules(n)).max_children!==t&&-1!==d.max_children&&d.max_children===n.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+i,data:JSON.stringify({chk:i,pos:a,obj:!(!r||!r.id)&&r.id,par:!(!n||!n.id)&&n.id})},!1;if(d.valid_children!==t&&-1!==d.valid_children&&-1===e.inArray(r.type||"default",d.valid_children))return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+i,data:JSON.stringify({chk:i,pos:a,obj:!(!r||!r.id)&&r.id,par:!(!n||!n.id)&&n.id})},!1;if(u&&r.children_d&&r.parents){for(l=0,c=0,h=r.children_d.length;c<h;c++)l=Math.max(l,u[r.children_d[c]].parents.length);l=l-r.parents.length+1}(l<=0||l===t)&&(l=1);do{if(d.max_depth!==t&&-1!==d.max_depth&&d.max_depth<l)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+i,data:JSON.stringify({chk:i,pos:a,obj:!(!r||!r.id)&&r.id,par:!(!n||!n.id)&&n.id})},!1;n=this.get_node(n.parent),d=this.get_rules(n),l++}while(n)}}return!0},this.get_rules=function(e){if(!(e=this.get_node(e)))return!1;var i=this.get_type(e,!0);return i.max_depth===t&&(i.max_depth=-1),i.max_children===t&&(i.max_children=-1),i.valid_children===t&&(i.valid_children=-1),i},this.get_type=function(t,i){return!!(t=this.get_node(t))&&(i?e.extend({type:t.type},this.settings.types[t.type]):t.type)},this.set_type=function(i,s){var r,n,a,o,d,l,c,h,u=this._model.data;if(e.isArray(i)){for(n=0,a=(i=i.slice()).length;n<a;n++)this.set_type(i[n],s);return!0}if(r=this.settings.types,i=this.get_node(i),!r[s]||!i)return!1;if((c=this.get_node(i,!0))&&c.length&&(h=c.children(".jstree-anchor")),o=i.type,d=this.get_icon(i),i.type=s,(!0===d||!r[o]||r[o].icon!==t&&d===r[o].icon)&&this.set_icon(i,r[s].icon===t||r[s].icon),r[o]&&r[o].li_attr!==t&&"object"==typeof r[o].li_attr)for(l in r[o].li_attr)if(r[o].li_attr.hasOwnProperty(l)){if("id"===l)continue;"class"===l?(u[i.id].li_attr.class=(u[i.id].li_attr.class||"").replace(r[o].li_attr[l],""),c&&c.removeClass(r[o].li_attr[l])):u[i.id].li_attr[l]===r[o].li_attr[l]&&(u[i.id].li_attr[l]=null,c&&c.removeAttr(l))}if(r[o]&&r[o].a_attr!==t&&"object"==typeof r[o].a_attr)for(l in r[o].a_attr)if(r[o].a_attr.hasOwnProperty(l)){if("id"===l)continue;"class"===l?(u[i.id].a_attr.class=(u[i.id].a_attr.class||"").replace(r[o].a_attr[l],""),h&&h.removeClass(r[o].a_attr[l])):u[i.id].a_attr[l]===r[o].a_attr[l]&&("href"===l?(u[i.id].a_attr[l]="#",h&&h.attr("href","#")):(delete u[i.id].a_attr[l],h&&h.removeAttr(l)))}if(r[s].li_attr!==t&&"object"==typeof r[s].li_attr)for(l in r[s].li_attr)if(r[s].li_attr.hasOwnProperty(l)){if("id"===l)continue;u[i.id].li_attr[l]===t?(u[i.id].li_attr[l]=r[s].li_attr[l],c&&("class"===l?c.addClass(r[s].li_attr[l]):c.attr(l,r[s].li_attr[l]))):"class"===l&&(u[i.id].li_attr.class=r[s].li_attr[l]+" "+u[i.id].li_attr.class,c&&c.addClass(r[s].li_attr[l]))}if(r[s].a_attr!==t&&"object"==typeof r[s].a_attr)for(l in r[s].a_attr)if(r[s].a_attr.hasOwnProperty(l)){if("id"===l)continue;u[i.id].a_attr[l]===t?(u[i.id].a_attr[l]=r[s].a_attr[l],h&&("class"===l?h.addClass(r[s].a_attr[l]):h.attr(l,r[s].a_attr[l]))):"href"===l&&"#"===u[i.id].a_attr[l]?(u[i.id].a_attr.href=r[s].a_attr.href,h&&h.attr("href",r[s].a_attr.href)):"class"===l&&(u[i.id].a_attr.class=r[s].a_attr.class+" "+u[i.id].a_attr.class,h&&h.addClass(r[s].a_attr[l]))}return!0}},e.jstree.defaults.unique={case_sensitive:!1,trim_whitespace:!1,duplicate:function(e,t){return e+" ("+t+")"}},e.jstree.plugins.unique=function(i,s){this.check=function(t,i,r,n,a){if(!1===s.check.call(this,t,i,r,n,a))return!1;if(i=i&&i.id?i:this.get_node(i),!(r=r&&r.id?r:this.get_node(r))||!r.children)return!0;var o,d,l,c="rename_node"===t?n:i.text,h=[],u=this.settings.unique.case_sensitive,p=this.settings.unique.trim_whitespace,f=this._model.data;for(o=0,d=r.children.length;o<d;o++)l=f[r.children[o]].text,u||(l=l.toLowerCase()),p&&(l=l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),h.push(l);switch(u||(c=c.toLowerCase()),p&&(c=c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),t){case"delete_node":return!0;case"rename_node":return l=i.text||"",u||(l=l.toLowerCase()),p&&(l=l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),(o=-1===e.inArray(c,h)||i.text&&l===c)||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:n,obj:!(!i||!i.id)&&i.id,par:!(!r||!r.id)&&r.id})}),o;case"create_node":return(o=-1===e.inArray(c,h))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:n,obj:!(!i||!i.id)&&i.id,par:!(!r||!r.id)&&r.id})}),o;case"copy_node":return(o=-1===e.inArray(c,h))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:n,obj:!(!i||!i.id)&&i.id,par:!(!r||!r.id)&&r.id})}),o;case"move_node":return(o=i.parent===r.id&&(!a||!a.is_multi)||-1===e.inArray(c,h))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:n,obj:!(!i||!i.id)&&i.id,par:!(!r||!r.id)&&r.id})}),o}return!0},this.create_node=function(i,r,n,a,o){if(!r||r.text===t){if(null===i&&(i=e.jstree.root),!(i=this.get_node(i)))return s.create_node.call(this,i,r,n,a,o);if(!(n=n===t?"last":n).toString().match(/^(before|after)$/)&&!o&&!this.is_loaded(i))return s.create_node.call(this,i,r,n,a,o);r||(r={});var d,l,c,h,u,p,f=this._model.data,g=this.settings.unique.case_sensitive,m=this.settings.unique.trim_whitespace,_=this.settings.unique.duplicate;for(l=d=this.get_string("New node"),c=[],h=0,u=i.children.length;h<u;h++)p=f[i.children[h]].text,g||(p=p.toLowerCase()),m&&(p=p.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),c.push(p);for(h=1,p=l,g||(p=p.toLowerCase()),m&&(p=p.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));-1!==e.inArray(p,c);)p=l=_.call(this,d,++h).toString(),g||(p=p.toLowerCase()),m&&(p=p.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));r.text=l}return s.create_node.call(this,i,r,n,a,o)}};var p=d.createElement("DIV");if(p.setAttribute("unselectable","on"),p.setAttribute("role","presentation"),p.className="jstree-wholerow",p.innerHTML="&#160;",e.jstree.plugins.wholerow=function(t,i){this.bind=function(){i.bind.call(this),this.element.on("ready.jstree set_state.jstree",e.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",e.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var i,s,r=!1;for(i=0,s=t.selected.length;i<s;i++)(r=this.get_node(t.selected[i],!0))&&r.length&&r.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("open_node.jstree",e.proxy(function(e,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",e.proxy(function(e,t){"hover_node"===e.type&&this.is_disabled(t.node)||this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===e.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",e.proxy(function(t){if(this._data.contextmenu){t.preventDefault();var i=e.Event("contextmenu",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,pageX:t.pageX,pageY:t.pageY});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i)}},this)).on("click.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var i=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).focus()}).on("dblclick.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var i=e.Event("dblclick",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",e.proxy(function(t){t.stopImmediatePropagation();var i=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",e.proxy(function(e){return e.stopImmediatePropagation(),this.is_disabled(e.currentTarget)||this.hover_node(e.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),i.teardown.call(this)},this.redraw_node=function(t,s,r,n){if(t=i.redraw_node.apply(this,arguments)){var a=p.cloneNode(!0);-1!==e.inArray(t.id,this._data.core.selected)&&(a.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===t.id&&(a.className+=" jstree-wholerow-hovered"),t.insertBefore(a,t.childNodes[0])}return t}},d.registerElement&&Object&&Object.create){var f=Object.create(HTMLElement.prototype);f.createdCallback=function(){var t,i={core:{},plugins:[]};for(t in e.jstree.plugins)e.jstree.plugins.hasOwnProperty(t)&&this.attributes[t]&&(i.plugins.push(t),this.getAttribute(t)&&JSON.parse(this.getAttribute(t))&&(i[t]=JSON.parse(this.getAttribute(t))));for(t in e.jstree.defaults.core)e.jstree.defaults.core.hasOwnProperty(t)&&this.attributes[t]&&(i.core[t]=JSON.parse(this.getAttribute(t))||this.getAttribute(t));e(this).jstree(i)};try{d.registerElement("vakata-jstree",{prototype:f})}catch(e){}}}})},"sV/x":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t=i("WRGp"),s=(i.n(t),i("9UqL")),r=(i.n(s),i("ZJkh")),n=(i.n(r),i("ZIn0")),a=(i.n(n),i("hy16")),o=(i.n(a),i("I4dY")),d=i.n(o),l=i("XAOv"),c=(i.n(l),i("Djt9")),h=(i.n(c),i("HQ6n")),u=(i.n(h),i("B4GN")),p=(i.n(u),i("/JvH")),f=i.n(p),g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};f()(e("textarea.auto-growth")),e("[data-toggle='tooltip']").tooltip(),e(".colorpicker").colorpicker(),e(".datepicker").bootstrapMaterialDatePicker({weekStart:0,time:!1}),e(".timepicker").bootstrapMaterialDatePicker({date:!1,format:"HH:mm"}),e(".datetimepicker").bootstrapMaterialDatePicker({format:"YYYY-MM-DD HH:mm"}),e(".monthpicker").bootstrapMaterialDatePicker({format:"MM",time:!1}),e(".weekpicker").bootstrapMaterialDatePicker({format:"w",time:!1});var m=e(".nouislider_range");if(m.length>0){var _=!0,v=!1,b=void 0;try{for(var y,k=m[Symbol.iterator]();!(_=(y=k.next()).done);_=!0){var x=y.value,w=e(x).data("start"),j=e(x).data("min"),C=e(x).data("max"),E=e(x).data("step"),S=e(x).data("margin"),$=e(x).data("limit"),T=e(x).data("value"),D="object"===(void 0===w?"undefined":g(w))&&w.length>1||"lower";if(T){var N=T.split(",");w=[];for(var A=0;A<N.length;A++)w.push(N[A])}d.a.create(x,{start:w,connect:D,step:E,range:{min:j,max:C},margin:S||1,limit:$||C}),O(x,!1)}}catch(e){v=!0,b=e}finally{try{!_&&k.return&&k.return()}finally{if(v)throw b}}}function O(t,i){t.noUiSlider.on("update",function(){var s=t.noUiSlider.get();i&&(s=parseInt(s),s+="%"),e(t).parent().find("span.js-nouislider-value").text(s),e(t).parent().find("input").val(s)})}var M=e("#domains-tree");M.jstree({core:{themes:{icons:!1}},plugins:["search","sort"]}).on("ready.jstree",function(){M.jstree("open_all")});var P=!1;e(".domain-search-bar #domain-name").keyup(function(){P&&clearTimeout(P),P=setTimeout(function(){var t=e("#domain-name").val();M.jstree(!0).search(t)},250)}),e("table.dataTable thead th input, table.dataTable thead th select").on("click",function(e){e.stopImmediatePropagation()})}.call(t,i("7t+N"))},xZZD:function(e,t){}},[0]);